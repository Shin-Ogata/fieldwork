/*!
 * @cdp/extension-path2regexp 0.9.11
 *   extension for conversion path to regexp library
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,t((e.CDP=e.CDP||{},e.CDP.Exension=e.CDP.Exension||{})))}(this,(function(e){"use strict";function t(e,t){void 0===t&&(t={});for(var n=function A(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var o=1,i="";if(c=n+1,"?"===e[c])throw new TypeError('Pattern cannot start with "?" at '.concat(c));for(;c<e.length;)if("\\"!==e[c]){if(")"===e[c]){if(o--,0===o){c++;break}}else if("("===e[c]&&(o++,"?"!==e[c+1]))throw new TypeError("Capturing groups are not allowed at ".concat(c));i+=e[c++]}else i+=e[c++]+e[c++];if(o)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=c}else{for(var a="",c=n+1;c<e.length;){var f=e.charCodeAt(c);if(!(f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||95===f))break;a+=e[c++]}if(!a)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:a}),n=c}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,a="[^".concat(o(t.delimiter||"/#?"),"]+?"),c=[],f=0,u=0,p="",s=function(e){if(u<n.length&&n[u].type===e)return n[u++].value},d=function(e){var t=s(e);if(void 0!==t)return t;var r=n[u],o=r.type,i=r.index;throw new TypeError("Unexpected ".concat(o," at ").concat(i,", expected ").concat(e))},v=function(){for(var e,t="";e=s("CHAR")||s("ESCAPED_CHAR");)t+=e;return t};u<n.length;){var l=s("CHAR"),x=s("NAME"),h=s("PATTERN");if(x||h){var m=l||"";-1===i.indexOf(m)&&(p+=m,m=""),p&&(c.push(p),p=""),c.push({name:x||f++,prefix:m,suffix:"",pattern:h||a,modifier:s("MODIFIER")||""})}else{var E=l||s("ESCAPED_CHAR");if(E)p+=E;else{p&&(c.push(p),p="");var y=s("OPEN");if(y){m=v();var g=s("NAME")||"",w=s("PATTERN")||"",T=v();d("CLOSE"),c.push({name:g||(w?f++:""),pattern:g&&!w?a:w,prefix:m,suffix:T,modifier:s("MODIFIER")||""})}else d("END")}}}return c}function n(e,t){void 0===t&&(t={});var n=i(t),r=t.encode,o=void 0===r?function(e){return e}:r,a=t.validate,c=void 0===a||a,f=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",r=0;r<e.length;r++){var i=e[r];if("string"!=typeof i){var a=t?t[i.name]:void 0,u="?"===i.modifier||"*"===i.modifier,p="*"===i.modifier||"+"===i.modifier;if(Array.isArray(a)){if(!p)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===a.length){if(u)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var s=0;s<a.length;s++){var d=o(a[s],i);if(c&&!f[r].test(d))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(d,'"'));n+=i.prefix+d+i.suffix}}else if("string"!=typeof a&&"number"!=typeof a){if(!u){var v=p?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(v))}}else{d=o(String(a),i);if(c&&!f[r].test(d))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(d,'"'));n+=i.prefix+d+i.suffix}}else n+=i}return n}}function r(e,t,n){void 0===n&&(n={});var r=n.decode,o=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var i=r[0],a=r.index,c=Object.create(null),f=function(e){if(void 0===r[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?c[n.name]=r[e].split(n.prefix+n.suffix).map((function(e){return o(e,n)})):c[n.name]=o(r[e],n)},u=1;u<r.length;u++)f(u);return{path:i,index:a,params:c}}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}function a(e,t,n){void 0===n&&(n={});for(var r=n.strict,a=void 0!==r&&r,c=n.start,f=void 0===c||c,u=n.end,p=void 0===u||u,s=n.encode,d=void 0===s?function(e){return e}:s,v=n.delimiter,l=void 0===v?"/#?":v,x=n.endsWith,h=void 0===x?"":x,m="[".concat(o(h),"]|$"),E="[".concat(o(l),"]"),y=f?"^":"",g=0,w=e;g<w.length;g++){var T=w[g];if("string"==typeof T)y+=o(d(T));else{var A=o(d(T.prefix)),R=o(d(T.suffix));if(T.pattern)if(t&&t.push(T),A||R)if("+"===T.modifier||"*"===T.modifier){var C="*"===T.modifier?"?":"";y+="(?:".concat(A,"((?:").concat(T.pattern,")(?:").concat(R).concat(A,"(?:").concat(T.pattern,"))*)").concat(R,")").concat(C)}else y+="(?:".concat(A,"(").concat(T.pattern,")").concat(R,")").concat(T.modifier);else"+"===T.modifier||"*"===T.modifier?y+="((?:".concat(T.pattern,")").concat(T.modifier,")"):y+="(".concat(T.pattern,")").concat(T.modifier);else y+="(?:".concat(A).concat(R,")").concat(T.modifier)}}if(p)a||(y+="".concat(E,"?")),y+=n.endsWith?"(?=".concat(m,")"):"$";else{var b=e[e.length-1],P="string"==typeof b?E.indexOf(b[b.length-1])>-1:void 0===b;a||(y+="(?:".concat(E,"(?=").concat(m,"))?")),P||(y+="(?=".concat(E,"|").concat(m,")"))}return new RegExp(y,i(n))}function c(e,n,r){return e instanceof RegExp?function o(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(e.source);o;)t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(e.source);return e}(e,n):Array.isArray(e)?function f(e,t,n){var r=e.map((function(e){return c(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),i(n))}(e,n,r):function u(e,n,r){return a(t(e,r),n,r)}(e,n,r)}const f={parse:t,compile:function u(e,r){return n(t(e,r),r)},tokensToFunction:n,match:function p(e,t){var n=[],o=c(e,n,t);return r(o,n,t)},regexpToFunction:r,tokensToRegexp:a,pathToRegexp:c};e.path2regexp=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=extension-path2regexp.min.map