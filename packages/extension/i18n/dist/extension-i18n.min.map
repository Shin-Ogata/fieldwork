{"version":3,"names":["consoleLogger","type","log","args","this","output","warn","error","console","Logger","constructor","concreteLogger","options","init","prefix","logger","debug","forward","deprecate","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","split","forEach","event","Map","numListeners","get","set","off","delete","emit","cloned","Array","from","entries","observer","numTimesAdded","i","apply","defer","res","rej","promise","Promise","resolve","reject","makeString","object","lastOfPathSeparatorRegExp","getLastOfPath","path","Empty","cleanKey","key","indexOf","replace","canNotTraverseDeeper","stack","stackIndex","length","Object","prototype","hasOwnProperty","call","obj","k","setPath","newValue","undefined","e","p","slice","last","getPath","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","data","s","chars","looksLikeObjectPathRegExpCache","RegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","shift","push","deepFind","keySeparator","tokens","current","next","nextPath","j","getCleanedCode","code","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","join","addResource","value","silent","concat","addResources","resources","m","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","n","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","module","name","handle","translator","processor","process","checkedLoadedFor","Translator","services","copy","a","t","utilsCopy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","looksLikeObjectPath","possibleChars","filter","c","r","map","matched","test","ki","substring","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","arguments","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","toString","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nestAft","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","Number","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","rules","createRules","numbers","plurals","addRule","getRule","err","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","defaultData","getPathWithDefaults","Interpolator","format","escapeValue","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","utilsEscape","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","createCachedFormatter","fn","cache","invokeFormatter","formatter","Formatter","formats","opt","NumberFormat","currency","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","iOpts","add","addCached","mem","formatName","formatOptions","parseFormatStr","formatStr","optStr","opts","rest","trimmedKey","isNaN","parseInt","formatted","valOptions","formatParams","locale","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","pushPath","removePending","done","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","I18n","modules","external","bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","isInitialized","isClone","isInitializing","defOpts","getDefaults","createClassOnDemand","ClassOrObject","lu","LanguageUtils","BackendConnector","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","instance","i18next","i18n"],"sources":["cdp:///@cdp/extension-i18n/i18next/src/logger.js","cdp:///@cdp/extension-i18n/i18next/src/EventEmitter.js","cdp:///@cdp/extension-i18n/i18next/src/utils.js","cdp:///@cdp/extension-i18n/i18next/src/ResourceStore.js","cdp:///@cdp/extension-i18n/i18next/src/postProcessor.js","cdp:///@cdp/extension-i18n/i18next/src/Translator.js","cdp:///@cdp/extension-i18n/i18next/src/LanguageUtils.js","cdp:///@cdp/extension-i18n/i18next/src/PluralResolver.js","cdp:///@cdp/extension-i18n/i18next/src/Interpolator.js","cdp:///@cdp/extension-i18n/i18next/src/Formatter.js","cdp:///@cdp/extension-i18n/i18next/src/BackendConnector.js","cdp:///@cdp/extension-i18n/i18next/src/defaults.js","cdp:///@cdp/extension-i18n/i18next/src/i18next.js","cdp:///@cdp/extension-i18n/i18next/src/index.js","cdp:///@cdp/extension-i18n/index.ts"],"sourcesContent":["const consoleLogger = {\n  type: 'logger',\n\n  log(args) {\n    this.output('log', args);\n  },\n\n  warn(args) {\n    this.output('warn', args);\n  },\n\n  error(args) {\n    this.output('error', args);\n  },\n\n  output(type, args) {\n    /* eslint no-console: 0 */\n    if (console && console[type]) console[type].apply(console, args);\n  },\n};\n\nclass Logger {\n  constructor(concreteLogger, options = {}) {\n    this.init(concreteLogger, options);\n  }\n\n  init(concreteLogger, options = {}) {\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n\n  log(...args) {\n    return this.forward(args, 'log', '', true);\n  }\n\n  warn(...args) {\n    return this.forward(args, 'warn', '', true);\n  }\n\n  error(...args) {\n    return this.forward(args, 'error', '');\n  }\n\n  deprecate(...args) {\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{ prefix: `${this.prefix}:${moduleName}:` },\n      ...this.options,\n    });\n  }\n\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\n\nexport default new Logger();\n","class EventEmitter {\n  constructor() {\n    // This is an Object containing Maps:\n    //\n    // { [event: string]: Map<listener: function, numTimesAdded: number> }\n    //\n    // We use a Map for O(1) insertion/deletion and because it can have functions as keys.\n    //\n    // We keep track of numTimesAdded (the number of times it was added) because if you attach the same listener twice,\n    // we should actually call it twice for each emitted event.\n    this.observers = {};\n  }\n\n  on(events, listener) {\n    events.split(' ').forEach((event) => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n\n    this.observers[event].delete(listener);\n  }\n\n  emit(event, ...args) {\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nexport default EventEmitter;\n","// http://lea.verou.me/2016/12/resolve-promises-externally-with-this-one-weird-trick/\nexport function defer() {\n  let res;\n  let rej;\n\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n\n  promise.resolve = res;\n  promise.reject = rej;\n\n  return promise;\n}\n\nexport function makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n  return '' + object;\n}\n\nexport function copy(a, s, t) {\n  a.forEach((m) => {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\n// We extract out the RegExp definition to improve performance with React Native Android, which has poor RegExp\n// initialization performance\nconst lastOfPathSeparatorRegExp = /###/g;\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  const stack = typeof path !== 'string' ? path : path.split('.');\n  let stackIndex = 0;\n  // iterate through the stack, but leave the last item\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper()) return {};\n\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    // prevent prototype pollution\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex]),\n  };\n}\n\nexport function setPath(object, path, newValue) {\n  const { obj, k } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n}\n\nexport function pushPath(object, path, newValue, concat) {\n  const { obj, k } = getLastOfPath(object, path, Object);\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nexport function getPath(object, path) {\n  const { obj, k } = getLastOfPath(object, path);\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nexport function getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  // Fallback to default values\n  return getPath(defaultData, key);\n}\n\nexport function deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n        if (\n          typeof target[prop] === 'string' ||\n          target[prop] instanceof String ||\n          typeof source[prop] === 'string' ||\n          source[prop] instanceof String\n        ) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\n\nexport function regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;',\n};\n/* eslint-enable */\n\nexport function escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, (s) => _entityMap[s]);\n  }\n\n  return data;\n}\n\n/**\n * This is a reusable regular expression cache class. Given a certain maximum number of regular expressions we're\n * allowed to store in the cache, it provides a way to avoid recreating regular expression objects over and over.\n * When it needs to evict something, it evicts the oldest one.\n */\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    // Since our capacity tends to be fairly small, `.shift()` will be fairly quick despite being O(n). We just use a\n    // normal array to keep it simple.\n    this.regExpQueue = [];\n  }\n\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\n\nconst chars = [' ', ',', '?', '!', ';'];\n// We cache RegExps to improve performance with React Native Android, which has poor RegExp initialization performance.\n// Capacity of 20 should be plenty, as nsSeparator/keySeparator don't tend to vary much across calls.\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\n\nexport function looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(\n    (c) => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0,\n  );\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(\n    `(${possibleChars.map((c) => (c === '?' ? '\\\\?' : c)).join('|')})`,\n  );\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\n\n/**\n * Given\n *\n * 1. a top level object obj, and\n * 2. a path to a deeply nested string or object within it\n *\n * Find and return that deeply nested string or object. The caveat is that the keys of objects within the nesting chain\n * may contain period characters. Therefore, we need to DFS and explore all possible keys at each step until we find the\n * deeply nested string or object.\n */\nexport function deepFind(obj, path, keySeparator = '.') {\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length; ) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n}\n\nexport function getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n","import EventEmitter from './EventEmitter.js';\nimport { getPath, deepFind, setPath, deepExtend } from './utils.js';\n\nclass ResourceStore extends EventEmitter {\n  constructor(data, options = { ns: ['translation'], defaultNS: 'translation' }) {\n    super();\n\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n\n  getResource(lng, ns, key, options = {}) {\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    const ignoreJSONStructure =\n      options.ignoreJSONStructure !== undefined\n        ? options.ignoreJSONStructure\n        : this.options.ignoreJSONStructure;\n\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (typeof key === 'string' && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n\n  addResource(lng, ns, key, value, options = { silent: false }) {\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n\n  addResources(lng, ns, resources, options = { silent: false }) {\n    /* eslint no-restricted-syntax: 0 */\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Array.isArray(resources[m]))\n        this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n\n  addResourceBundle(\n    lng,\n    ns,\n    resources,\n    deep,\n    overwrite,\n    options = { silent: false, skipCopy: false },\n  ) {\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    let pack = getPath(this.data, path) || {};\n\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources)); // make a copy to fix #2081\n\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = { ...pack, ...resources };\n    }\n\n    setPath(this.data, path, pack);\n\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  }\n\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return { ...{}, ...this.getResource(lng, ns) };\n\n    return this.getResource(lng, ns);\n  }\n\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = (data && Object.keys(data)) || [];\n    return !!n.find((v) => data[v] && Object.keys(data[v]).length > 0);\n  }\n\n  toJSON() {\n    return this.data;\n  }\n}\n\nexport default ResourceStore;\n","export default {\n  processors: {},\n\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n\n  handle(processors, value, key, options, translator) {\n    processors.forEach((processor) => {\n      if (this.processors[processor])\n        value = this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  },\n};\n","import baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport postProcessor from './postProcessor.js';\nimport { copy as utilsCopy, looksLikeObjectPath } from './utils.js';\n\nconst checkedLoadedFor = {};\n\nclass Translator extends EventEmitter {\n  constructor(services, options = {}) {\n    super();\n\n    utilsCopy(\n      [\n        'resourceStore',\n        'languageUtils',\n        'pluralResolver',\n        'interpolator',\n        'backendConnector',\n        'i18nFormat',\n        'utils',\n      ],\n      services,\n      this,\n    );\n\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n\n    this.logger = baseLogger.create('translator');\n  }\n\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n\n  exists(key, options = { interpolation: {} }) {\n    if (key === undefined || key === null) {\n      return false;\n    }\n\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n\n  extractFromKey(key, options) {\n    let nsSeparator =\n      options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage =\n      !this.options.userDefinedKeySeparator &&\n      !options.keySeparator &&\n      !this.options.userDefinedNsSeparator &&\n      !options.nsSeparator &&\n      !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces,\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (\n        nsSeparator !== keySeparator ||\n        (nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1)\n      )\n        namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key,\n      namespaces,\n    };\n  }\n\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      /* eslint prefer-rest-params: 0 */\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = { ...options };\n    if (!options) options = {};\n\n    // non valid keys handling\n    if (keys === undefined || keys === null /* || keys === '' */) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n\n    const returnDetails =\n      options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n\n    // separators\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    // get namespace(s)\n    const { key, namespaces } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n\n    // return key on CIMode\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode =\n      options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options),\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options),\n        };\n      }\n      return key;\n    }\n\n    // resolve from store\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = (resolved && resolved.usedKey) || key;\n    const resExactUsedKey = (resolved && resolved.exactUsedKey) || key;\n\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays =\n      options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject =\n      typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (\n      handleAsObjectInI18nFormat &&\n      res &&\n      handleAsObject &&\n      noObject.indexOf(resType) < 0 &&\n      !(typeof joinArrays === 'string' && Array.isArray(res))\n    ) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler\n          ? this.options.returnedObjectHandler(resUsedKey, res, { ...options, ns: namespaces })\n          : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n\n      // if we got a separator we loop over children - else we just return object as is\n      // as having it set to false means no hierarchy so no lookup for nested values\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(res);\n        const copy = resTypeIsArray ? [] : {}; // apply child translation on a copy\n\n        /* eslint no-restricted-syntax: 0 */\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{ joinArrays: false, ns: namespaces },\n            });\n            if (copy[m] === deepKey) copy[m] = res[m]; // if nothing found use original value as fallback\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && Array.isArray(res)) {\n      // array special treatment\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      // string, empty or null\n      let usedDefault = false;\n      let usedKey = false;\n\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling\n        ? this.pluralResolver.getSuffix(lng, options.count, options)\n        : '';\n      const defaultValueSuffixOrdinalFallback =\n        options.ordinal && needsPluralHandling\n          ? this.pluralResolver.getSuffix(lng, options.count, { ordinal: false })\n          : '';\n      const needsZeroSuffixLookup =\n        needsPluralHandling &&\n        !options.ordinal &&\n        options.count === 0 &&\n        this.pluralResolver.shouldUseIntlApi();\n      const defaultValue =\n        (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`]) ||\n        options[`defaultValue${defaultValueSuffix}`] ||\n        options[`defaultValue${defaultValueSuffixOrdinalFallback}`] ||\n        options.defaultValue;\n\n      // fallback value\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n\n      const missingKeyNoValueFallbackToKey =\n        options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n\n      // save missing\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(\n          updateMissing ? 'updateKey' : 'missingKey',\n          lng,\n          namespace,\n          key,\n          updateMissing ? defaultValue : res,\n        );\n        if (keySeparator) {\n          const fk = this.resolve(key, { ...options, keySeparator: false });\n          if (fk && fk.res)\n            this.logger.warn(\n              'Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.',\n            );\n        }\n\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(\n          this.options.fallbackLng,\n          options.lng || this.language,\n        );\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing =\n            hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(\n              l,\n              namespace,\n              k,\n              defaultForMissing,\n              updateMissing,\n              options,\n            );\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(\n              l,\n              namespace,\n              k,\n              defaultForMissing,\n              updateMissing,\n              options,\n            );\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach((language) => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (\n                needsZeroSuffixLookup &&\n                options[`defaultValue${this.options.pluralSeparator}zero`] &&\n                suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0\n              ) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach((suffix) => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n\n      // extend\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n\n      // append namespace if still key\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey)\n        res = `${namespace}:${key}`;\n\n      // parseMissingKeyHandler\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(\n            this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key,\n            usedDefault ? res : undefined,\n          );\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n\n    // return\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n\n  extendTranslation(res, key, options, resolved, lastKey) {\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(\n        res,\n        { ...this.options.interpolation.defaultVariables, ...options },\n        options.lng || this.language || resolved.usedLng,\n        resolved.usedNS,\n        resolved.usedKey,\n        { resolved },\n      );\n    } else if (!options.skipInterpolation) {\n      // i18next.parsing\n      if (options.interpolation)\n        this.interpolator.init({\n          ...options,\n          ...{ interpolation: { ...this.options.interpolation, ...options.interpolation } },\n        });\n      const skipOnVariables =\n        typeof res === 'string' &&\n        (options && options.interpolation && options.interpolation.skipOnVariables !== undefined\n          ? options.interpolation.skipOnVariables\n          : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        // has nesting aftbeforeer interpolation\n        nestBef = nb && nb.length;\n      }\n\n      // interpolate\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables)\n        data = { ...this.options.interpolation.defaultVariables, ...data };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n      // nesting\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        // has nesting after interpolation\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res)\n        options.lng = resolved.usedLng;\n      if (options.nest !== false)\n        res = this.interpolator.nest(\n          res,\n          (...args) => {\n            if (lastKey && lastKey[0] === args[0] && !options.context) {\n              this.logger.warn(\n                `It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`,\n              );\n              return null;\n            }\n            return this.translate(...args, key);\n          },\n          options,\n        );\n\n      if (options.interpolation) this.interpolator.reset();\n    }\n\n    // post process\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (\n      res !== undefined &&\n      res !== null &&\n      postProcessorNames &&\n      postProcessorNames.length &&\n      options.applyPostProcessor !== false\n    ) {\n      res = postProcessor.handle(\n        postProcessorNames,\n        res,\n        key,\n        this.options && this.options.postProcessPassResolved\n          ? {\n              i18nResolved: { ...resolved, usedParams: this.getUsedParamsDetails(options) },\n              ...options,\n            }\n          : options,\n        this,\n      );\n    }\n\n    return res;\n  }\n\n  resolve(keys, options = {}) {\n    let found;\n    let usedKey; // plain key\n    let exactUsedKey; // key with context / plural\n    let usedLng;\n    let usedNS;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach((k) => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup =\n        needsPluralHandling &&\n        !options.ordinal &&\n        options.count === 0 &&\n        this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling =\n        options.context !== undefined &&\n        (typeof options.context === 'string' || typeof options.context === 'number') &&\n        options.context !== '';\n\n      const codes = options.lngs\n        ? options.lngs\n        : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n\n      namespaces.forEach((ns) => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n\n        if (\n          !checkedLoadedFor[`${codes[0]}-${ns}`] &&\n          this.utils &&\n          this.utils.hasLoadedNamespace &&\n          !this.utils.hasLoadedNamespace(usedNS)\n        ) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(\n            `key \"${usedKey}\" for languages \"${codes.join(\n              ', ',\n            )}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`,\n            'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!',\n          );\n        }\n\n        codes.forEach((code) => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n\n          const finalKeys = [key];\n\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling)\n              pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            // get key for plural if needed\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(\n                  key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator),\n                );\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n\n            // get key for context if needed\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n\n              // get key for context + plural if needed\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(\n                    contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator),\n                  );\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          let possibleKey;\n          /* eslint no-cond-assign: 0 */\n          while ((possibleKey = finalKeys.pop())) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n\n    return { res: found, usedKey, exactUsedKey, usedLng, usedNS };\n  }\n\n  isValidLookup(res) {\n    return (\n      res !== undefined &&\n      !(!this.options.returnNull && res === null) &&\n      !(!this.options.returnEmptyString && res === '')\n    );\n  }\n\n  getResource(code, ns, key, options = {}) {\n    if (this.i18nFormat && this.i18nFormat.getResource)\n      return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n\n  getUsedParamsDetails(options = {}) {\n    // we need to remember to extend this array whenever new option properties are added\n    const optionsKeys = [\n      'defaultValue',\n      'ordinal',\n      'context',\n      'replace',\n      'lng',\n      'lngs',\n      'fallbackLng',\n      'ns',\n      'keySeparator',\n      'nsSeparator',\n      'returnObjects',\n      'returnDetails',\n      'joinArrays',\n      'postProcess',\n      'interpolation',\n    ];\n\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n\n    if (this.options.interpolation.defaultVariables) {\n      data = { ...this.options.interpolation.defaultVariables, ...data };\n    }\n\n    // avoid reporting options (execpt count) as usedParams\n    if (!useOptionsReplaceForData) {\n      data = { ...data };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n\n    return data;\n  }\n\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n\n    for (const option in options) {\n      if (\n        Object.prototype.hasOwnProperty.call(options, option) &&\n        prefix === option.substring(0, prefix.length) &&\n        undefined !== options[option]\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n\nexport default Translator;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n\n  formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map((part) => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if length 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    }\n\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return (\n      !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1\n    );\n  }\n\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n\n    let found;\n\n    // pick first supported code or if no restriction pick the first one (highest prio)\n    codes.forEach((code) => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n\n    // if we got no match in supportedLngs yet - check for similar locales\n    // first  de-CH --> de\n    // second de-CH --> de-DE\n    if (!found && this.options.supportedLngs) {\n      codes.forEach((code) => {\n        if (found) return;\n\n        const lngOnly = this.getLanguagePartFromCode(code);\n        // eslint-disable-next-line no-return-assign\n        if (this.isSupportedCode(lngOnly)) return (found = lngOnly);\n\n        // eslint-disable-next-line array-callback-return\n        found = this.options.supportedLngs.find((supportedLng) => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (\n            supportedLng.indexOf('-') > 0 &&\n            lngOnly.indexOf('-') < 0 &&\n            supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly\n          )\n            return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    // if nothing found, use fallbackLng\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n\n    return found;\n  }\n\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n\n    if (!code) return fallbacks.default || [];\n\n    // assume we have an object defining fallbacks\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n\n    return found || [];\n  }\n\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(\n      fallbackCode || this.options.fallbackLng || [],\n      code,\n    );\n\n    const codes = [];\n    const addCode = (c) => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly')\n        addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCodes.forEach((fc) => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  }\n}\n\nexport default LanguageUtil;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js'\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nlet sets = [\n  { lngs: ['ach','ak','am','arn','br','fil','gun','ln','mfe','mg','mi','oc', 'pt', 'pt-BR',\n    'tg', 'tl', 'ti','tr','uz','wa'], nr: [1,2], fc: 1 },\n\n  { lngs: ['af','an','ast','az','bg','bn','ca','da','de','dev','el','en',\n    'eo','es','et','eu','fi','fo','fur','fy','gl','gu','ha','hi',\n    'hu','hy','ia','it','kk','kn','ku','lb','mai','ml','mn','mr','nah','nap','nb',\n    'ne','nl','nn','no','nso','pa','pap','pms','ps','pt-PT','rm','sco',\n    'se','si','so','son','sq','sv','sw','ta','te','tk','ur','yo'], nr: [1,2], fc: 2 },\n\n  { lngs: ['ay','bo','cgg','fa','ht','id','ja','jbo','ka','km','ko','ky','lo',\n    'ms','sah','su','th','tt','ug','vi','wo','zh'], nr: [1], fc: 3 },\n\n  { lngs: ['be','bs', 'cnr', 'dz','hr','ru','sr','uk'], nr: [1,2,5], fc: 4 },\n\n  { lngs: ['ar'], nr: [0,1,2,3,11,100], fc: 5 },\n  { lngs: ['cs','sk'], nr: [1,2,5], fc: 6 },\n  { lngs: ['csb','pl'], nr: [1,2,5], fc: 7 },\n  { lngs: ['cy'], nr: [1,2,3,8], fc: 8 },\n  { lngs: ['fr'], nr: [1,2], fc: 9 },\n  { lngs: ['ga'], nr: [1,2,3,7,11], fc: 10 },\n  { lngs: ['gd'], nr: [1,2,3,20], fc: 11 },\n  { lngs: ['is'], nr: [1,2], fc: 12 },\n  { lngs: ['jv'], nr: [0,1], fc: 13 },\n  { lngs: ['kw'], nr: [1,2,3,4], fc: 14 },\n  { lngs: ['lt'], nr: [1,2,10], fc: 15 },\n  { lngs: ['lv'], nr: [1,2,0], fc: 16 },\n  { lngs: ['mk'], nr: [1,2], fc: 17 },\n  { lngs: ['mnk'], nr: [0,1,2], fc: 18 },\n  { lngs: ['mt'], nr: [1,2,11,20], fc: 19 },\n  { lngs: ['or'], nr: [2,1], fc: 2 },\n  { lngs: ['ro'], nr: [1,2,20], fc: 20 },\n  { lngs: ['sl'], nr: [5,1,2,3], fc: 21 },\n  { lngs: ['he','iw'], nr: [1,2,20,21], fc: 22 }\n]\n\nlet _rulesPluralsTypes = {\n  1: function(n) {return Number(n > 1);},\n  2: function(n) {return Number(n != 1);},\n  3: function(n) {return 0;},\n  4: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  5: function(n) {return Number(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 ? 4 : 5);},\n  6: function(n) {return Number((n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2);},\n  7: function(n) {return Number(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  8: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n != 8 && n != 11) ? 2 : 3);},\n  9: function(n) {return Number(n >= 2);},\n  10: function(n) {return Number(n==1 ? 0 : n==2 ? 1 : n<7 ? 2 : n<11 ? 3 : 4) ;},\n  11: function(n) {return Number((n==1 || n==11) ? 0 : (n==2 || n==12) ? 1 : (n > 2 && n < 20) ? 2 : 3);},\n  12: function(n) {return Number(n%10!=1 || n%100==11);},\n  13: function(n) {return Number(n !== 0);},\n  14: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n == 3) ? 2 : 3);},\n  15: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  16: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n !== 0 ? 1 : 2);},\n  17: function(n) {return Number(n==1 || n%10==1 && n%100!=11 ? 0 : 1);},\n  18: function(n) {return Number(n==0 ? 0 : n==1 ? 1 : 2);},\n  19: function(n) {return Number(n==1 ? 0 : n==0 || ( n%100>1 && n%100<11) ? 1 : (n%100>10 && n%100<20 ) ? 2 : 3);},\n  20: function(n) {return Number(n==1 ? 0 : (n==0 || (n%100 > 0 && n%100 < 20)) ? 1 : 2);},\n  21: function(n) {return Number(n%100==1 ? 1 : n%100==2 ? 2 : n%100==3 || n%100==4 ? 3 : 0); },\n  22: function(n) {return Number(n==1 ? 0 : n==2 ? 1 : (n<0 || n>10) && n%10==0 ? 2 : 3); }\n};\n/* eslint-enable */\n\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5,\n};\n\nfunction createRules() {\n  const rules = {};\n  sets.forEach((set) => {\n    set.lngs.forEach((l) => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nclass PluralResolver {\n  constructor(languageUtils, options = {}) {\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = baseLogger.create('pluralResolver');\n\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n\n    this.rules = createRules();\n  }\n\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n\n  getRule(code, options = {}) {\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), { type: options.ordinal ? 'ordinal' : 'cardinal' });\n      } catch (err) {\n        return;\n      }\n    }\n\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n\n  needsPlural(code, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n\n    return rule && rule.numbers.length > 1;\n  }\n\n  getPluralFormsOfKey(code, key, options = {}) {\n    return this.getSuffixes(code, options).map((suffix) => `${key}${suffix}`);\n  }\n\n  getSuffixes(code, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (!rule) {\n      return [];\n    }\n\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories\n        .sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2])\n        .map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n\n    return rule.numbers.map((number) => this.getSuffix(code, number, options));\n  }\n\n  getSuffix(code, count, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n\n    // special treatment for lngs only having singular and plural\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n\n    const returnSuffix = () => (\n      this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString()\n    );\n\n    // COMPATIBILITY JSON\n    // v1\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n      // eslint-disable-next-line no-else-return\n    } else if (/* v2 */ this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (/* v3 - gettext index */ this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nexport default PluralResolver;\n","import {\n  getPathWithDefaults,\n  deepFind,\n  escape as utilsEscape,\n  regexEscape,\n  makeString,\n} from './utils.js';\nimport baseLogger from './logger.js';\n\nfunction deepFindWithDefaults(\n  data,\n  defaultData,\n  key,\n  keySeparator = '.',\n  ignoreJSONStructure = true,\n) {\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\n\nclass Interpolator {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('interpolator');\n\n    this.options = options;\n    this.format = (options.interpolation && options.interpolation.format) || ((value) => value);\n    this.init(options);\n  }\n\n  /* eslint no-param-reassign: 0 */\n  init(options = {}) {\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    const {\n      escape,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat,\n    } = options.interpolation;\n\n    this.escape = escape !== undefined ? escape : utilsEscape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n\n    this.formatSeparator = formatSeparator || ',';\n\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n\n    this.nestingPrefix = nestingPrefix\n      ? regexEscape(nestingPrefix)\n      : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix\n      ? regexEscape(nestingSuffix)\n      : nestingSuffixEscaped || regexEscape(')');\n\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n\n    this.maxReplaces = maxReplaces || 1000;\n\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n\n    // the regexp\n    this.resetRegExp();\n  }\n\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(\n      this.regexpUnescape,\n      `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`,\n    );\n    this.nestingRegexp = getOrResetRegExp(\n      this.nestingRegexp,\n      `${this.nestingPrefix}(.+?)${this.nestingSuffix}`,\n    );\n  }\n\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n\n    const defaultData =\n      (this.options && this.options.interpolation && this.options.interpolation.defaultVariables) ||\n      {};\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    const handleFormat = (key) => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(\n          data,\n          defaultData,\n          key,\n          this.options.keySeparator,\n          this.options.ignoreJSONStructure,\n        );\n        return this.alwaysFormat\n          ? this.format(path, undefined, lng, { ...options, ...data, interpolationkey: key })\n          : path;\n      }\n\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n\n      return this.format(\n        deepFindWithDefaults(\n          data,\n          defaultData,\n          k,\n          this.options.keySeparator,\n          this.options.ignoreJSONStructure,\n        ),\n        f,\n        lng,\n        {\n          ...options,\n          ...data,\n          interpolationkey: k,\n        },\n      );\n    };\n\n    this.resetRegExp();\n\n    const missingInterpolationHandler =\n      (options && options.missingInterpolationHandler) || this.options.missingInterpolationHandler;\n\n    const skipOnVariables =\n      options && options.interpolation && options.interpolation.skipOnVariables !== undefined\n        ? options.interpolation.skipOnVariables\n        : this.options.interpolation.skipOnVariables;\n\n    const todos = [\n      {\n        // unescape if has unescapePrefix/Suffix\n        regex: this.regexpUnescape,\n        safeValue: (val) => regexSafe(val),\n      },\n      {\n        // regular escape on demand\n        regex: this.regexp,\n        safeValue: (val) => (this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)),\n      },\n    ];\n    todos.forEach((todo) => {\n      replaces = 0;\n      /* eslint no-cond-assign: 0 */\n      while ((match = todo.regex.exec(str))) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = ''; // undefined becomes empty string\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue; // this makes sure it continues to detect others\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n\n  nest(str, fc, options = {}) {\n    let match;\n    let value;\n\n    let clonedOptions;\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (\n        (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes) ||\n        matchedDoubleQuotes.length % 2 !== 0\n      ) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n\n        if (inheritedOptions) clonedOptions = { ...inheritedOptions, ...clonedOptions };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n\n      // assert we do not get a endless loop on interpolating defaultValue again and again\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1)\n        delete clonedOptions.defaultValue;\n      return key;\n    }\n\n    // regular escape on demand\n    while ((match = this.nestingRegexp.exec(str))) {\n      let formatters = [];\n\n      clonedOptions = { ...options };\n      clonedOptions =\n        clonedOptions.replace && typeof clonedOptions.replace !== 'string'\n          ? clonedOptions.replace\n          : clonedOptions;\n      clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n      delete clonedOptions.defaultValue; // assert we do not get a endless loop on interpolating defaultValue again and again\n\n      /**\n       * If there is more than one parameter (contains the format separator). E.g.:\n       *   - t(a, b)\n       *   - t(a, b, c)\n       *\n       * And those parameters are not dynamic values (parameters do not include curly braces). E.g.:\n       *   - Not t(a, { \"key\": \"{{variable}}\" })\n       *   - Not t(a, b, {\"keyA\": \"valueA\", \"keyB\": \"valueB\"})\n       */\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map((elem) => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n\n      // is only the nesting key (key1 = '$(key2)') return the value without stringify\n      if (value && match[0] === str && typeof value !== 'string') return value;\n\n      // no string to include or empty\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n\n      if (doReduce) {\n        value = formatters.reduce(\n          // eslint-disable-next-line no-loop-func\n          (v, f) =>\n            this.format(v, f, options.lng, { ...options, interpolationkey: match[1].trim() }),\n          value.trim(),\n        );\n      }\n\n      // Nested keys should not be escaped by default #854\n      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nexport default Interpolator;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js';\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n\n    const optStr = p[1].substring(0, p[1].length - 1);\n\n    // extra for currency\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n\n      opts.forEach((opt) => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest\n            .join(':')\n            .trim()\n            .replace(/^'+|'+$/g, ''); // trim and replace ''\n\n          const trimmedKey = key.trim();\n\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          // eslint-disable-next-line no-restricted-globals\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n\n  return {\n    formatName,\n    formatOptions,\n  };\n}\n\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\n\nclass Formatter {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('formatter');\n\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, { ...opt, style: 'currency' });\n        return (val) => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, { ...opt });\n        return (val) => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n    };\n    this.init(options);\n  }\n\n  /* eslint no-param-reassign: 0 */\n  init(services, options = { interpolation: {} }) {\n    const iOpts = options.interpolation;\n\n    this.formatSeparator = iOpts.formatSeparator\n      ? iOpts.formatSeparator\n      : iOpts.formatSeparator || ',';\n  }\n\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n\n  format(value, format, lng, options = {}) {\n    const formats = format.split(this.formatSeparator);\n\n    const result = formats.reduce((mem, f) => {\n      const { formatName, formatOptions } = parseFormatStr(f);\n\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          // options passed explicit for that formatted value\n          const valOptions =\n            (options && options.formatParams && options.formatParams[options.interpolationkey]) ||\n            {};\n\n          // language\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions,\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n        // eslint-disable-next-line no-else-return\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n\n    return result;\n  }\n}\n\nexport default Formatter;\n","import { pushPath } from './utils.js';\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\n\nclass Connector extends EventEmitter {\n  constructor(backend, store, services, options = {}) {\n    super();\n\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n\n    this.state = {};\n    this.queue = [];\n\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n\n  queueLoad(languages, namespaces, options, callback) {\n    // find what needs to be loaded\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n\n    languages.forEach((lng) => {\n      let hasAllNamespaces = true;\n\n      namespaces.forEach((ns) => {\n        const name = `${lng}|${ns}`;\n\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2; // loaded\n        } else if (this.state[name] < 0) {\n          // nothing to do for err\n        } else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback,\n      });\n    }\n\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces),\n    };\n  }\n\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, { skipCopy: true });\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // consolidated loading done in this run - only emit once for a loaded namespace\n    const loaded = {};\n\n    // callback if ready\n    this.queue.forEach((q) => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pendingCount === 0 && !q.done) {\n        // only do once per loaded -> this.emit('loaded', q.loaded);\n        Object.keys(q.loaded).forEach((l) => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach((n) => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // emit consolidated loaded event\n    this.emit('loaded', loaded);\n\n    // remove done load requests\n    this.queue = this.queue.filter((q) => !q.done);\n  }\n\n  read(lng, ns, fcName, tried = 0, wait = this.retryTimeout, callback) {\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    // Limit parallelism of calls to backend\n    // This is needed to prevent trying to open thousands of\n    // sockets or file descriptors, which can cause failures\n    // and actually make the entire process take longer.\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({ lng, ns, fcName, tried, wait, callback });\n      return;\n    }\n    this.readingCalls++;\n\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data /* = retryFlag */ && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      // no callback\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          // promise\n          r.then((data) => resolver(null, data)).catch(resolver);\n        } else {\n          // sync\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n\n    // normal with callback\n    return fc(lng, ns, resolver);\n  }\n\n  /* eslint consistent-return: 0 */\n  prepareLoading(languages, namespaces, options = {}, callback) {\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    toLoad.toLoad.forEach((name) => {\n      this.loadOne(name);\n    });\n  }\n\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, { reload: true }, callback);\n  }\n\n  loadOne(name, prefix = '') {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data)\n        this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n\n      this.loaded(name, err, data);\n    });\n  }\n\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate, options = {}, clb = () => {}) {\n    if (\n      this.services.utils &&\n      this.services.utils.hasLoadedNamespace &&\n      !this.services.utils.hasLoadedNamespace(namespace)\n    ) {\n      this.logger.warn(\n        `did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`,\n        'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!',\n      );\n      return;\n    }\n\n    // ignore non valid keys\n    if (key === undefined || key === null || key === '') return;\n\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate,\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        // no callback\n        try {\n          let r;\n          if (fc.length === 5) {\n            // future callback-less api for i18next-locize-backend\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            // promise\n            r.then((data) => clb(null, data)).catch(clb);\n          } else {\n            // sync\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        // normal with callback\n        fc(languages, namespace, key, fallbackValue, clb /* unused callback */, opts);\n      }\n    }\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nexport default Connector;\n","export function get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    supportedLngs: false, // array with supported languages\n    nonExplicitSupportedLngs: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    partialBundledLanguages: false, // allow bundling certain languages that are not remotely fetched\n    saveMissing: false, // enable to send missing values\n    updateMissing: false, // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    saveMissingPlurals: true, // will save all forms not only singular key\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n    missingInterpolationHandler: false, // function(str, match)\n\n    postProcess: false, // string or array of postProcessor names\n    postProcessPassResolved: false, // pass resolved object into 'options.i18nResolved' for postprocessor\n    returnNull: false, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: false, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach((key) => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      /** @type {import('i18next').FormatFunction} */\n      format: (value) => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000, // max replaces to prevent endless loop\n      skipOnVariables: true,\n    },\n  };\n}\n\n/* eslint no-param-reassign: 0 */\nexport function transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend supportedLngs with cimode\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n","import baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport ResourceStore from './ResourceStore.js';\nimport Translator from './Translator.js';\nimport LanguageUtils from './LanguageUtils.js';\nimport PluralResolver from './PluralResolver.js';\nimport Interpolator from './Interpolator.js';\nimport Formatter from './Formatter.js';\nimport BackendConnector from './BackendConnector.js';\nimport { get as getDefaults, transformOptions } from './defaults.js';\nimport postProcessor from './postProcessor.js';\nimport { defer } from './utils.js';\n\nfunction noop() { }\n\n// Binds the member functions of the given class instance so that they can be\n// destructured or used as callbacks.\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst))\n  mems.forEach((mem) => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst)\n    }\n  })\n}\n\nclass I18n extends EventEmitter {\n  constructor(options = {}, callback) {\n    super();\n\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = { external: [] };\n\n    bindMemberFunctions(this);\n\n    if (callback && !this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n\n  init(options = {}, callback) {\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n\n    const defOpts = getDefaults();\n    this.options = { ...defOpts, ...this.options, ...transformOptions(options) };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = { ...defOpts.interpolation, ...this.options.interpolation }; // do not use reference\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n\n      const lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix,\n      });\n\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      }\n\n      s.backendConnector = new BackendConnector(\n        createClassOnDemand(this.modules.backend),\n        s.resourceStore,\n        s,\n        this.options,\n      );\n      // pipe events from backendConnector\n      s.backendConnector.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n\n      this.translator = new Translator(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0]\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n\n    // append api\n    const storeApi = [\n      'getResource',\n      'hasResourceBundle',\n      'getResourceBundle',\n      'getDataByLanguage',\n    ];\n    storeApi.forEach(fcName => {\n      this[fcName] = (...args) => this.store[fcName](...args);\n    });\n    const storeApiChained = [\n      'addResource',\n      'addResources',\n      'addResourceBundle',\n      'removeResourceBundle',\n    ];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = (...args) => {\n        this.store[fcName](...args);\n        return this;\n      };\n    });\n\n    const deferred = defer();\n\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n\n        deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n        callback(err, t);\n      };\n      // fix for use cases when calling changeLanguage before finished to initialized (i.e. https://github.com/i18next/i18next/issues/1552)\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return deferred;\n  }\n\n  /* eslint consistent-return: 0 */\n  loadResources(language, callback = noop) {\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback(); // avoid loading resources for cimode\n\n      const toLoad = [];\n\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!usedLng) {\n        // at least load fallbacks in this case\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n\n      this.services.backendConnector.load(toLoad, this.options.ns, (e) => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve(); // not rejecting on err (as err is only a loading translation failed warning)\n      callback(err);\n    });\n    return deferred;\n  }\n\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()')\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()')\n\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'logger' || (module.log && module.warn && module.error)) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  }\n\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n\n  changeLanguage(lng, callback) {\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n\n    const setLngProps = (l) => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      // find the first language resolved language\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n\n      deferred.resolve((...args) => this.t(...args));\n      if (callback) callback(err, (...args) => this.t(...args));\n    };\n\n    const setLng = lngs => {\n      // if detected lng is falsy, set it to empty array, to make sure at least the fallbackLng will be used\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      // depending on API in detector lng can be a string (old) or an array of languages ordered in priority\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n\n    return deferred;\n  }\n\n  getFixedT(lng, ns, keyPrefix) {\n    const fixedT = (key, opts, ...rest) => {\n      let options;\n      if (typeof opts !== 'object') {\n        options = this.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = { ...opts };\n      }\n\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n\n      const keySeparator = this.options.keySeparator || '.';\n      let resultKey\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return this.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n\n  t(...args) {\n    return this.translator && this.translator.translate(...args);\n  }\n\n  exists(...args) {\n    return this.translator && this.translator.exists(...args);\n  }\n\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n\n  hasLoadedNamespace(ns, options = {}) {\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n\n    // we're in cimode so this shall pass\n    if (lng.toLowerCase() === 'cimode') return true;\n\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n\n    // optional injected check\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n\n    // loaded -> SUCCESS\n    if (this.hasResourceBundle(lng, ns)) return true;\n\n    // were not loading at all -> SEMI SUCCESS\n    if (!this.services.backendConnector.backend || (this.options.resources && !this.options.partialBundledLanguages)) return true;\n\n    // failed loading ns - but at least fallback is not pending -> SEMI SUCCESS\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n\n    return false;\n  }\n\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  }\n\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  }\n\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n\n    const rtlLngs = [\n      'ar',\n      'shu',\n      'sqr',\n      'ssh',\n      'xaa',\n      'yhd',\n      'yud',\n      'aao',\n      'abh',\n      'abv',\n      'acm',\n      'acq',\n      'acw',\n      'acx',\n      'acy',\n      'adf',\n      'ads',\n      'aeb',\n      'aec',\n      'afb',\n      'ajp',\n      'apc',\n      'apd',\n      'arb',\n      'arq',\n      'ars',\n      'ary',\n      'arz',\n      'auz',\n      'avl',\n      'ayh',\n      'ayl',\n      'ayn',\n      'ayp',\n      'bbz',\n      'pga',\n      'he',\n      'iw',\n      'ps',\n      'pbt',\n      'pbu',\n      'pst',\n      'prp',\n      'prd',\n      'ug',\n      'ur',\n      'ydd',\n      'yds',\n      'yih',\n      'ji',\n      'yi',\n      'hbo',\n      'men',\n      'xmn',\n      'fa',\n      'jpr',\n      'peo',\n      'pes',\n      'prs',\n      'dv',\n      'sam',\n      'ckb'\n    ];\n\n    const languageUtils = (this.services && this.services.languageUtils) || new LanguageUtils(getDefaults()) // for uninitialized usage\n\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1\n      ? 'rtl'\n      : 'ltr';\n  }\n\n  static createInstance(options = {}, callback) { return new I18n(options, callback) }\n\n  cloneInstance(options = {}, callback = noop) {\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = { ...this.options, ...options, ...{ isClone: true } };\n    const clone = new I18n(mergedOptions);\n    if ((options.debug !== undefined || options.prefix !== undefined)) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = { ...this.services };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', (event, ...args) => {\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions; // sync options\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n\n    return clone;\n  }\n\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\n\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nexport default instance;\n","import i18next from './i18next.js';\n\nexport default i18next;\n\nexport const createInstance = i18next.createInstance;\n\nexport const dir = i18next.dir;\nexport const init = i18next.init;\nexport const loadResources = i18next.loadResources;\nexport const reloadResources = i18next.reloadResources;\nexport const use = i18next.use;\nexport const changeLanguage = i18next.changeLanguage;\nexport const getFixedT = i18next.getFixedT;\nexport const t = i18next.t;\nexport const exists = i18next.exists;\nexport const setDefaultNamespace = i18next.setDefaultNamespace;\nexport const hasLoadedNamespace = i18next.hasLoadedNamespace;\nexport const loadNamespaces = i18next.loadNamespaces;\nexport const loadLanguages = i18next.loadLanguages;\n","/* eslint-disable\n    @typescript-eslint/no-namespace,\n    @typescript-eslint/no-explicit-any,\n */\n\nimport {\n    default as i18next,\n    i18n as i18nextInstance,\n    FallbackLngObjList as i18nextFallbackLngObjList,\n    FallbackLng as i18nextFallbackLng,\n    InterpolationOptions as i18nextInterpolationOptions,\n    ReactOptions as i18nextReactOptions,\n    InitOptions as i18nextInitOptions,\n    TOptionsBase as i18nextTOptionsBase,\n    TOptions as i18nextTOptions,\n    ExistsFunction as i18nextExistsFunction,\n    WithT as i18nextWithT,\n    TFunction as i18nextTFunction,\n    Resource as i18nextResource,\n    ResourceLanguage as i18nextResourceLanguage,\n    ResourceKey as i18nextResourceKey,\n    Interpolator as i18nextInterpolator,\n    ResourceStore as i18nextResourceStore,\n    Services as i18nextServices,\n    Module as i18nextModule,\n    CallbackError as i18nextCallbackError,\n    ReadCallback as i18nextReadCallback,\n    MultiReadCallback as i18nextMultiReadCallback,\n    BackendModule as i18nextBackendModule,\n    LanguageDetectorModule as i18nextLanguageDetectorModule,\n    LanguageDetectorAsyncModule as i18nextLanguageDetectorAsyncModule,\n    PostProcessorModule as i18nextPostProcessorModule,\n    LoggerModule as i18nextLoggerModule,\n    I18nFormatModule as i18nextI18nFormatModule,\n    ThirdPartyModule as i18nextThirdPartyModule,\n    Modules as i18nextModules,\n    Newable as i18nextNewable,\n} from 'i18next';\n\nconst i18n: i18n.i18n = i18next;\n\ndeclare namespace i18n {\n    export type i18n = i18nextInstance;\n    export type FallbackLngObjList = i18nextFallbackLngObjList;\n    export type FallbackLng = i18nextFallbackLng;\n    export type InterpolationOptions = i18nextInterpolationOptions;\n    export type ReactOptions = i18nextReactOptions;\n    export type InitOptions = i18nextInitOptions;\n    export type TOptionsBase = i18nextTOptionsBase;\n    export type TOptions<T extends Record<string, unknown> = Record<string, any>> = i18nextTOptions<T>;\n    export type ExistsFunction<K extends string = string, T extends Record<string, unknown> = Record<string, any>> = i18nextExistsFunction<K, T>;\n    export type WithT = i18nextWithT;\n    export type TFunction = i18nextTFunction;\n    export type Resource = i18nextResource;\n    export type ResourceLanguage = i18nextResourceLanguage;\n    export type ResourceKey = i18nextResourceKey;\n    export type Interpolator = i18nextInterpolator;\n    export type ResourceStore = i18nextResourceStore;\n    export type Services = i18nextServices;\n    export type Module = i18nextModule;\n    export type CallbackError = i18nextCallbackError;\n    export type ReadCallback = i18nextReadCallback;\n    export type MultiReadCallback = i18nextMultiReadCallback;\n    export type BackendModule<T = Record<string, unknown>> = i18nextBackendModule<T>;\n    export type LanguageDetectorModule = i18nextLanguageDetectorModule;\n    export type LanguageDetectorAsyncModule = i18nextLanguageDetectorAsyncModule;\n    export type PostProcessorModule = i18nextPostProcessorModule;\n    export type LoggerModule = i18nextLoggerModule;\n    export type I18nFormatModule = i18nextI18nFormatModule;\n    export type ThirdPartyModule = i18nextThirdPartyModule;\n    export type Modules = i18nextModules;\n    export type Newable<T> = i18nextNewable<T>;\n}\n\nexport { i18n };\n"],"mappings":"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","ignoreList":[]}