/*!
 * @cdp/essentials 0.9.9
 *   web essentilas framework
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,e(t.CDP=t.CDP||{}))}(this,(function(t){"use strict";function e(){return"object"==typeof globalThis?globalThis:Function("return this")()}function n(t,...n){let s=t||e();for(const t of n)s[t]=s[t]||{},s=s[t];return s}function s(t){return n(null,t)}function r(t="CDP",e="Config"){return n(s(t),e)}function i(t){return null!=t}function o(t){return null==t}function a(t){return"string"==typeof t}function c(t){return"number"==typeof t}function l(t){return"symbol"==typeof t}function u(t){return!t||"function"!=typeof t&&"object"!=typeof t}const h=Array.isArray;function f(t){return Boolean(t)&&"object"==typeof t}function d(t){return!!f(t)&&(!Object.getPrototypeOf(t)||_(Object,t))}function p(t){if(!d(t))return!1;for(const e in t)return!1;return!0}function g(t){return"function"==typeof t}function m(t){return Symbol.iterator in Object(t)}const y={Int8Array:!0,Uint8Array:!0,Uint8ClampedArray:!0,Int16Array:!0,Uint16Array:!0,Int32Array:!0,Uint32Array:!0,Float32Array:!0,Float64Array:!0};function b(t){return!!y[v(t)]}function _(t,e){return null!=e&&"function"==typeof t&&Object.getPrototypeOf(e)===Object(t.prototype)}function v(t){if(null!=t){const e=t[Symbol.toStringTag];if(a(e))return e;if(g(t)&&t.prototype&&null!=t.name)return t.name;{const e=t.constructor;if(g(e)&&e===Object(e.prototype).constructor)return e.name}}return Object.prototype.toString.call(t).slice(8,-1)}function w(t,e){return null==t&&null==e?v(t)===v(e):null!=t&&null!=e&&Object.getPrototypeOf(t)===Object.getPrototypeOf(e)}const E=Symbol("@cdp"),O={notNil:(t,e)=>{if(null==t)throw i(e)||(e=`${v(t)} is not a valid value.`),new TypeError(e)},typeOf:(t,e,n)=>{if(typeof e!==t)throw i(n)||(n=`Type of ${v(e)} is not ${t}.`),new TypeError(n)},array:(t,e)=>{if(!h(t))throw i(e)||(e=`${v(t)} is not an Array.`),new TypeError(e)},iterable:(t,e)=>{if(!(Symbol.iterator in Object(t)))throw i(e)||(e=`${v(t)} is not an iterable object.`),new TypeError(e)},instanceOf:(t,e,n)=>{if(!(e instanceof t))throw i(n)||(n=`${v(e)} is not an instance of ${t.name}.`),new TypeError(n)},ownInstanceOf:(t,e,n)=>{if(null==e||Object.getPrototypeOf(e)!==Object(t.prototype))throw i(n)||(n=`The object is not own instance of ${t.name}.`),new TypeError(n)},notOwnInstanceOf:(t,e,n)=>{if(null!=e&&Object.getPrototypeOf(e)===Object(t.prototype))throw i(n)||(n=`The object is own instance of ${t.name}.`),new TypeError(n)},hasProperty:(t,e,n)=>{if(null==t||!(e in t))throw i(n)||(n=`The object does not have property ${String(e)}.`),new TypeError(n)},hasOwnProperty:(t,e,n)=>{if(null==t||!Object.prototype.hasOwnProperty.call(t,e))throw i(n)||(n=`The object does not have own property ${String(e)}.`),new TypeError(n)}};function x(t,...e){O[t](...e)}function S(t,e){const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(!C(t[s],e[s]))return!1;return!0}function R(t,e){const n=t.byteLength;if(n!==e.byteLength)return!1;let s=0;if(n-s>=8){const r=n>>>3,i=new Float64Array(t,0,r),o=new Float64Array(e,0,r);for(let t=0;t<r;t++)if(!Object.is(i[t],o[t]))return!1;s=r<<3}if(s===n)return!0;const r=new DataView(t),i=new DataView(e);if(n-s>=4){if(!Object.is(r.getUint32(s),i.getUint32(s)))return!1;s+=4}if(n-s>=2){if(!Object.is(r.getUint16(s),i.getUint16(s)))return!1;s+=2}if(n>s){if(!Object.is(r.getUint8(s),i.getUint8(s)))return!1;s+=1}return s===n}function C(t,e){if(t===e)return!0;if(g(t)&&g(e))return t.length===e.length&&t.name===e.name;if(!f(t)||!f(e))return!1;{const n=t.valueOf(),s=e.valueOf();if(t!==n||e!==s)return n===s}{const n=t instanceof RegExp,s=e instanceof RegExp;if(n||s)return n===s&&String(t)===String(e)}{const n=h(t),s=h(e);if(n||s)return n===s&&S(t,e)}{const n=t instanceof ArrayBuffer,s=e instanceof ArrayBuffer;if(n||s)return n===s&&R(t,e)}{const n=ArrayBuffer.isView(t),s=ArrayBuffer.isView(e);if(n||s)return n===s&&w(t,e)&&R(t.buffer,e.buffer)}{const n=m(t),s=m(e);if(n||s)return n===s&&S([...t],[...e])}if(w(t,e)){const n=new Set(Object.keys(t)),s=new Set(Object.keys(e));if(n.size!==s.size)return!1;for(const t of n)if(!s.has(t))return!1;for(const s of n)if(!C(t[s],e[s]))return!1}else{for(const n in t)if(!(n in e))return!1;const n=new Set;for(const s in e){if(!(s in t))return!1;n.add(s)}for(const s of n)if(!C(t[s],e[s]))return!1}return!0}function T(t){const e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}function A(t,e,n){return t!==e||n&&void 0===t}function L(t,e){if(void 0===e||t===e)return t;if(!f(e))return e;if(e.valueOf()!==e)return C(t,e)?t:new e.constructor(e.valueOf());if(e instanceof RegExp)return C(t,e)?t:function n(t){const e=new RegExp(t.source,t.flags);return e.lastIndex=t.lastIndex,e}(e);if(e instanceof ArrayBuffer)return C(t,e)?t:T(e);if(ArrayBuffer.isView(e))return C(t,e)?t:b(e)?function s(t){const e=T(t.buffer);return new t.constructor(e,t.byteOffset,t.length)}(e):function r(t){const e=T(t.buffer);return new DataView(e,t.byteOffset,t.byteLength)}(e);if(Array.isArray(e))return function i(t,e){for(let n=0,s=e.length;n<s;n++){const s=t[n],r=L(s,e[n]);!A(s,r,!1)||(t[n]=r)}return t}(h(t)?t:[],e);if(e instanceof Set)return function o(t,e){for(const n of e)t.has(n)||t.add(L(void 0,n));return t}(t instanceof Set?t:new Set,e);if(e instanceof Map)return function a(t,e){for(const[n,s]of e){const e=t.get(n),r=L(e,s);!A(e,r,!1)||t.set(n,r)}return t}(t instanceof Map?t:new Map,e);const c=f(t)?t:{};if(w(t,e)){for(const t of Object.keys(e))if("__proto__"!==t){const n=c[t],s=L(n,e[t]);!A(n,s,!0)||(c[t]=s)}}else for(const t in e)if("__proto__"!==t){const n=c[t],s=L(n,e[t]);!A(n,s,!0)||(c[t]=s)}return c}function k(t,...e){let n=t;for(const t of e)n=L(n,t);return n}function N(t){return k(void 0,t)}const P=Object.prototype,D=Function.prototype[Symbol.hasInstance],j=Symbol("override"),$=Symbol("is-inherited"),M=Symbol("constructors"),I=Symbol("class-base"),V=Symbol("class-sources"),U=Symbol("proto-extends-only");function F(t,e,n){null==t[n]&&Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}function B(t,e){e&&Object.getOwnPropertyNames(e).filter((t=>!/(prototype|name|constructor)/.test(t))).forEach((n=>{F(t,e,n)})),e&&Object.getOwnPropertySymbols(e).forEach((n=>{F(t,e,n)}))}function H(t,e){const n=e||(null===e?void 0:e=>Object.prototype.isPrototypeOf.call(t.prototype,e)),s=n&&Object.getOwnPropertyDescriptor(t,j);s||Object.defineProperties(t,{[Symbol.hasInstance]:{value:n,writable:!0,enumerable:!1},[j]:{value:!!n||void 0,writable:!0}})}function W(t,e,n){switch(e){case"protoExtendsOnly":t[U]=!0;break;case"instanceOf":H(t,n)}}function q(t,...e){let n=!1;class s extends t{constructor(...s){super(...s);const r=new Map;if(this[M]=r,this[I]=t,n)for(const t of e)if(!t[U]){const e={apply:(e,n,s)=>{const r=new t(...s);B(this,r)}};r.set(t,new Proxy(t,e))}}super(t,...e){const n=this[M],s=n.get(t);return s&&(s.call(this,...e),n.set(t,null)),this}isMixedWith(t){return this.constructor!==t&&(this[I]===t||this[V].reduce(((e,n)=>e||t===n),!1))}static[Symbol.hasInstance](t){return Object.prototype.isPrototypeOf.call(s.prototype,t)}[$](t){const e=this[M];if(e.has(t))return!0;for(const n of e.keys())if(Object.prototype.isPrototypeOf.call(t,n))return!0;return!1}get[V](){return[...this[M].keys()]}}for(const t of e){const e=Object.getOwnPropertyDescriptor(t,Symbol.hasInstance);if(!e||e.writable){const n=e?t[Symbol.hasInstance]:D;H(t,(e=>n.call(t,e)||!(null==e||!e[$])&&e[$](t)))}B(s.prototype,t.prototype);let r=Object.getPrototypeOf(t.prototype);for(;P!==r;)B(s.prototype,r),r=Object.getPrototypeOf(r);n||(n=!t[U])}return s}function K(t,e){return null!=t&&f(t)&&e in t}function z(t){const e={};for(const n of Object.keys(t))e[t[n]]=n;return e}function J(t,e){x("typeOf","object",t),x("typeOf","object",e);const n={};for(const s of Object.keys(e))C(t[s],e[s])||(n[s]=e[s]);return n}function G(t,...e){x("typeOf","object",t);const n=[...e];n.length||n.push(void 0);const s={...t};for(const e of Object.keys(t))for(const t of n)if(C(t,s[e])){delete s[e];break}return s}function Y(t,e,n){const s=h(e)?e:[e];if(!s.length)return g(n)?n.call(t):n;const r=(t,e)=>g(e)?e.call(t):e;let i=t;for(const t of s){const e=null==i?void 0:i[t];if(void 0===e)return r(i,n);i=r(i,e)}return i}const X=new Proxy((function Q(){return X}),{get:(t,e)=>{const n=t[e];return null!=n?n:X}});function Z(t){return t||function e(){const t=new Proxy({},{get:(t,e)=>{const n=t[e];return null!=n?n:X}});return Object.defineProperty(t,"stub",{value:!0,writable:!1}),t}()}const tt=e(),et=Z(tt.setTimeout),nt=Z(tt.clearTimeout),st=Z(tt.setInterval),rt=Z(tt.clearInterval);function it(t){return Promise.resolve().then(t)}function ot(...t){}function at(t){const e=e=>t[e],n=`(?:${Object.keys(t).join("|")})`,s=RegExp(n),r=RegExp(n,"g");return t=>(t=null==t||"symbol"==typeof t?"":String(t),s.test(t)?t.replace(r,e):t)}const ct={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#x60;"},lt=at(ct),ut=at(z(ct));function ht(t){return"true"===t||"false"!==t&&("null"===t?null:t===String(Number(t))?Number(t):t&&/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/.test(t)?JSON.parse(t):t)}function ft(t){return void 0===t||a(t)?t:f(t)?JSON.stringify(t):String(t)}function dt(t,e=!1){return null!=t?t:e?String(t):null}function pt(t){return"null"===t?null:"undefined"===t?void 0:t}let gt=0;function mt(t="",e){const n=(++gt).toString(16);return null!=e?`${t}${n.padStart(e,"0")}`:`${t}${n}`}function yt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const bt=/(abort|cancel)/im;function _t(t){return null!=t&&(a(t)?bt.test(t):!!f(t)&&bt.test(t.message))}function vt(t,e=!1){const n=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+n}function wt(t){return t.charAt(0).toLowerCase()+t.slice(1)}function Et(t,e=!1){return t=t.trim().replace(/[-_\s]+(.)?/g,((t,e)=>e?e.toUpperCase():"")),!0===e?wt(t):t}function Ot(t){return vt(Et(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}function xt(t){return t.trim().replace(/([A-Z])/g,"-$1").replace(/[_\s]+/g,"-").toLowerCase()}const{random:St}=Math;function Rt(t,e=!1){const n=e?t:t.slice(),s=n.length;for(let t=s>0?s>>>0:0;t>1;){const e=t*St()>>>0,s=n[--t];n[t]=n[e],n[e]=s}return n}function Ct(t,e,n=!1){const s=n?t:t.slice();if(s.length<2)return s;const r=Ct(s.splice(0,s.length>>>1),e,!0),i=Ct(s.splice(0),e,!0);for(;r.length&&i.length;)s.push(e(r[0],i[0])<=0?r.shift():i.shift());return s.concat(r,i)}function Tt(t){return[...new Set(t)]}function At(t,e){const n=Math.trunc(e),s=n<0?t[n+t.length]:t[n];if(null==s)throw new RangeError(`invalid array index. [length: ${t.length}, given: ${e}]`);return s}function Lt(t,...e){const n=[t,...e];return n.reduce(((t,e)=>t.filter((t=>!e.includes(t)))))}function kt(t,e){const n=[];if(t.length<e)return[];if(1===e)for(const[e,s]of t.entries())n[e]=[s];else for(let s=0,r=t.length;s<r-e+1;s++){const r=kt(t.slice(s+1),e-1);for(let e=0,i=r.length;e<i;e++)n.push([t[s]].concat(r[e]))}return n}async function Nt(t,e,n){return Promise.all(t.map((async(t,s,r)=>await e.call(n||this,t,s,r))))}const Pt={year:(t,e,n)=>(t.setUTCFullYear(e.getUTCFullYear()+n),t),month:(t,e,n)=>(t.setUTCMonth(e.getUTCMonth()+n),t),day:(t,e,n)=>(t.setUTCDate(e.getUTCDate()+n),t),hour:(t,e,n)=>(t.setUTCHours(e.getUTCHours()+n),t),min:(t,e,n)=>(t.setUTCMinutes(e.getUTCMinutes()+n),t),sec:(t,e,n)=>(t.setUTCSeconds(e.getUTCSeconds()+n),t),msec:(t,e,n)=>(t.setUTCMilliseconds(e.getUTCMilliseconds()+n),t)};function Dt(t,e,n="day"){const s=new Date(t.getTime()),r=Pt[n];if(r)return r(s,t,e);throw new TypeError(`invalid unit: ${n}`)}const jt=new WeakMap;function $t(t){if(!jt.has(t))throw new TypeError("This is not a valid EventPublisher.");return jt.get(t)}function Mt(t){if(!a(t)&&!l(t))throw new TypeError(`Type of ${v(t)} is not a valid channel.`)}function It(t){return null!=t&&x("typeOf","function",t),t}function Vt(t,e,n,...s){const r=t.get(e);if(r)for(const t of r)try{const e=n?[n,...s]:s,r=t(...e);if(!0===r)break}catch(t){void Promise.reject(t)}}class Ut{constructor(){x("instanceOf",Ut,this),jt.set(this,new Map)}publish(t,...e){const n=$t(this);Mt(t),Vt(n,t,void 0,...e),"*"!==t&&Vt(n,"*",t,...e)}hasListener(t,e){const n=$t(this);if(null==t)return n.size>0;if(Mt(t),null==e)return n.has(t);It(e);const s=n.get(t);return!!s&&s.has(e)}channels(){return[...$t(this).keys()]}on(t,e){const n=$t(this);It(e);const s=h(t)?t:[t];for(const t of s)Mt(t),n.has(t)?n.get(t).add(e):n.set(t,new Set([e]));return Object.freeze({get enable(){for(const t of s){const s=n.get(t);if(!s||!s.has(e))return this.unsubscribe(),!1}return!0},unsubscribe(){for(const t of s){const s=n.get(t);s&&(s.delete(e),s.size>0||n.delete(t))}}})}once(t,e){const n=this.on(t,e),s=this.on(t,(()=>{n.unsubscribe(),s.unsubscribe()}));return n}off(t,e){const n=$t(this);if(null==t)return n.clear(),this;const s=h(t)?t:[t],r=It(e);for(const t of s)if(Mt(t),null!=r){const e=n.get(t);e&&(e.delete(r),e.size>0||n.delete(t))}else n.delete(t);return this}}const Ft=Ut;Ft.prototype.trigger=Ut.prototype.publish;const Bt=Symbol("context");function Ht(t,e,n,s){const r=[],i=h(n)?n:[n];for(const n of i){const i=e.on(n,s);t.set.add(i),r.push(i);const o=t.map.get(e)||new Map,a=o.get(n)||new Map;a.set(s,i),o.has(n)||o.set(n,a),t.map.has(e)||t.map.set(e,o)}return Object.freeze({get enable(){for(const t of r)if(t.enable)return!0;return!1},unsubscribe(){for(const t of r)t.unsubscribe()}})}function Wt(t,e,n,s){if(null!=e){e.off(n,s);const r=t.map.get(e);if(!r)return;if(null!=n){const e=h(n)?n:[n];for(const n of e){const e=r.get(n);if(!e)return;if(s){const n=e.get(s);n&&(n.unsubscribe(),t.set.delete(n)),e.delete(s)}else for(const n of e.values())n.unsubscribe(),t.set.delete(n)}}else for(const e of r.values())for(const n of e.values())n.unsubscribe(),t.set.delete(n)}else{for(const e of t.set)e.unsubscribe();t.map=new WeakMap,t.set.clear()}}class qt{constructor(){this[Bt]={map:new WeakMap,set:new Set}}listenTo(t,e,n){return Ht(this[Bt],t,e,n)}listenToOnce(t,e,n){const s=Ht(this[Bt],t,e,n),r=t.on(e,(()=>{Wt(this[Bt],t,e,n),r.unsubscribe()}));return s}stopListening(t,e,n){return Wt(this[Bt],t,e,n),this}}class Kt extends(q(Ft,qt)){constructor(){super(),this.super(qt)}}const zt=Kt,Jt=Symbol("cancel"),Gt=Symbol("close"),Yt=Object.freeze({enable:!1,unsubscribe(){}}),Xt=new WeakMap;function Qt(t){if(!Xt.has(t))throw new TypeError("The object is not a valid CancelToken.");return Xt.get(t)}class Zt{static source(...t){let e,n;const s=new Zt(((t,s)=>{e=t,n=s}),...t);return Object.freeze({token:s,cancel:e,close:n})}constructor(t,...e){x("instanceOf",Zt,this),x("typeOf","function",t);const n=new Set(e.filter((t=>Xt.has(t))));let s=0;for(const t of n)s|=Qt(t).status;const r={broker:new Ft,subscriptions:new Set,reason:void 0,status:s};Xt.set(this,Object.seal(r));const i=this[Jt],o=this[Gt];if(0===s)for(const t of n)r.subscriptions.add(t.register(i.bind(this))),this.register(i.bind(t));t(i.bind(this),o.bind(this))}get reason(){return Qt(this).reason}get cancelable(){return 0===Qt(this).status}get requested(){return!!(1&Qt(this).status)}get closed(){return!!(2&Qt(this).status)}get[Symbol.toStringTag](){return"CancelToken"}register(t){const e=Qt(this);return this.cancelable?e.broker.on("cancel",t):Yt}[Jt](t){const e=Qt(this);if(x("notNil",t),this.cancelable){e.reason=t,e.status|=1;for(const t of e.subscriptions)t.unsubscribe();e.broker.trigger("cancel",t),Promise.resolve().then((()=>this[Gt]()))}}[Gt](){const t=Qt(this);if(!this.closed){t.status|=2;for(const e of t.subscriptions)e.unsubscribe();t.subscriptions.clear(),t.broker.off()}}}const te=Promise,ee=te.prototype.then,ne=Symbol("create"),se=new WeakMap;class re extends Promise{static get[Symbol.species](){return te}static resolve(t,e){return this[ne](super.resolve(t),e)}static[ne](t,e,n){let s;if(x("instanceOf",te,t),e instanceof Zt)if(!n||g(n[0])&&!g(n[1]))if(e.cancelable){let n;s=new te(((s,r)=>{n=e.register(r),ee.call(t,s,r)}));const r=()=>{n.unsubscribe(),se.delete(s)};s.then(r,r)}else if(e.requested)s=super.reject(e.reason);else{if(!e.closed)throw new Error("Unexpected Exception");s=t}else s=t;else s=t;return n&&(s=ee.apply(s,n)),e&&e.cancelable&&se.set(s,e),s instanceof this||Object.setPrototypeOf(s,this.prototype),s}constructor(t,e){return super(t),re[ne](this,e)}then(t,e){return re[ne](this,se.get(this),[t,e])}catch(t){return this.then(void 0,t)}finally(t){return re[ne](super.finally(t),se.get(this))}}function ie(t){return Promise=t?re:te,Promise}function oe(t){const e=t.map((t=>t.catch((t=>t))));return Promise.all(e)}function ae(t){return Promise.resolve(void 0,t)}ie(!r().noAutomaticNativeExtend);class ce{get(){return this._broker||(this._broker=new Ft)}}const le=Symbol("internal"),ue=Symbol("notify"),he=Symbol("stock-change"),fe=Symbol("notify-changes");function de(t){if(!t||!t[le])throw new TypeError("The object passed is not an IObservable.")}const pe={set(t,e,n,s){if(!a(e))return Reflect.set(t,e,n,s);const r=t[e];return"disabled"!==t[le].state&&n!==r&&t[he](e,r),Reflect.set(t,e,n,s)}};Object.freeze(pe);class ge{constructor(t="active"){x("instanceOf",ge,this);const e={state:t,changed:!1,changeMap:new Map,broker:new ce};return Object.defineProperty(this,le,{value:Object.seal(e)}),new Proxy(this,pe)}on(t,e){de(this);const{changeMap:n,broker:s}=this[le],r=s.get().on(t,e);if(0<n.size){const e=h(t)?t:[t];for(const t of e)n.has(t)||n.set(t,this[t])}return r}off(t,e){de(this),this[le].broker.get().off(t,e)}suspend(t=!1){return de(this),this[le].state=t?"disabled":"suspended",t&&this[le].changeMap.clear(),this}resume(){de(this);const t=this[le];return"active"!==t.state&&(t.state="active",it((()=>this[fe]()))),this}getObservableState(){return de(this),this[le].state}getBroker(){const{broker:t}=this[le];return t.get()}static from(t){const e=k(new class extends ge{}("disabled"),t);return e.resume(),e}notify(...t){if(de(this),0===t.length)return;const{changeMap:e}=this[le],n=new Map;for(const s of t){const t=this[s],r=e.has(s)?e.get(s):t;n.set(s,[t,r])}0<n.size&&this[ue](n)}[he](t,e){const{state:n,changeMap:s,broker:r}=this[le];if(this[le].changed=!0,0===s.size){s.set(t,e);for(const t of r.get().channels())s.has(t)||s.set(t,this[t]);"active"===n&&void it((()=>this[fe]()))}else s.has(t)||s.set(t,e)}[fe](){const{state:t,changeMap:e}=this[le];if("active"!==t)return;const n=new Map;for(const[t,s]of e){const e=this[t];C(s,e)||n.set(t,[e,s])}this[ue](n)}[ue](t){const{changed:e,changeMap:n,broker:s}=this[le];n.clear(),this[le].changed=!1;const r=s.get();for(const[e,n]of t)r.trigger(e,...n,e);e&&r.trigger("@",this)}}const me={defineProperty(t,e,n){const s=t[le];if("disabled"===s.state||s.byMethod||!Object.prototype.hasOwnProperty.call(n,"value"))return Reflect.defineProperty(t,e,n);const r=t[e],i=n.value;if("length"===e&&i!=r){const s=r>>>0,o=i>>>0,a=()=>{const e=o<s&&t.slice(o);if(e)for(let n=s;--n>=o;)t[he](-1,n,void 0,e[n-o]);else for(let e=s;e<o;e++)t[he](1,e)},c=Reflect.defineProperty(t,e,n);return c&&a(),c}if(i!==r&&ye(e)){const s=e>>>0,o=Number(s>=t.length),a=Reflect.defineProperty(t,e,n);return a&&t[he](o,s,i,r),a}return Reflect.defineProperty(t,e,n)},deleteProperty(t,e){const n=t[le];if("disabled"===n.state||n.byMethod||!Object.prototype.hasOwnProperty.call(t,e))return Reflect.deleteProperty(t,e);const s=t[e],r=Reflect.deleteProperty(t,e);return r&&ye(e)&&t[he](0,e>>>0,void 0,s),r}};function ye(t){const e=String(t),n=Math.trunc(e);return String(n)===e&&0<=n&&n<4294967295}Object.freeze(me);class be extends Array{constructor(){super(...arguments),x("instanceOf",be,this);const t={state:"active",byMethod:!1,records:[],indexes:new Set,broker:new ce};Object.defineProperty(this,le,{value:Object.seal(t)});const e=arguments.length;if(1===e&&c(arguments[0])){const t=arguments[0]>>>0;for(let e=0;e<t;e++)this[he](1,e)}else if(0<e)for(let t=0;t<e;t++)this[he](1,t,arguments[t]);return new Proxy(this,me)}on(t){return de(this),this[le].broker.get().on("@",t)}off(t){de(this),this[le].broker.get().off("@",t)}suspend(t=!1){return de(this),this[le].state=t?"disabled":"suspended",t&&(this[le].records=[]),this}resume(){de(this);const t=this[le];return"active"!==t.state&&(t.state="active",it((()=>this[fe]()))),this}getObservableState(){return de(this),this[le].state}sort(t){de(this);const e=this[le],n=Array.from(this);e.byMethod=!0;const s=super.sort(t);if(e.byMethod=!1,"disabled"!==e.state){const t=n.length;for(let e=0;e<t;e++){const t=n[e],s=this[e];s!==t&&this[he](0,e,s,t)}}return s}splice(t,e,...n){de(this);const s=this[le],r=this.length;s.byMethod=!0;const i=super.splice(...arguments);if(s.byMethod=!1,"disabled"!==s.state){t=Math.trunc(t);const e=t<0?Math.max(r+t,0):Math.min(t,r);for(let t=i.length;--t>=0;)this[he](-1,e+t,void 0,i[t]);const s=n.length;for(let t=0;t<s;t++)this[he](1,e+t,n[t])}return i}shift(){de(this);const t=this[le],e=this.length;t.byMethod=!0;const n=super.shift();return t.byMethod=!1,"disabled"!==t.state&&this.length<e&&this[he](-1,0,void 0,n),n}unshift(...t){de(this);const e=this[le];e.byMethod=!0;const n=super.unshift(...t);if(e.byMethod=!1,"disabled"!==e.state){const e=t.length;for(let n=0;n<e;n++)this[he](1,n,t[n])}return n}map(t,e){return be.from([...this].map(t,e))}getBroker(){const{broker:t}=this[le];return t.get()}[he](t,e,n,s){const{state:r,indexes:i,records:o}=this[le],a=i.has(e)?function c(t,e,n){const s=1===e?t=>-1===t:t=>-1!==t;for(let e=t.length;--e>=0;){const r=t[e];if(r.index===n&&s(r.type))return e;r.index<n&&Boolean(r.type)&&(n-=r.type)}return-1}(o,t,e):-1,l=o.length;if(a>=0){const s=o[a].type;if(s){for(let t,n=l;--n>a;)t=o[n],t.index>=e&&(t.index-=s);const r=o.splice(a,1)[0];-1!==t&&this[he](Number(!t),e,n,r.oldValue)}else{const s=o.splice(a,1)[0];this[he](t,e,n,s.oldValue)}}else i.add(e),o[l]={type:t,index:e,newValue:n,oldValue:s},"active"===r&&0===l&&it((()=>this[fe]()))}[fe](){const{state:t,records:e}=this[le];if("active"===t&&0!==e.length){for(const t of e)Object.freeze(t);this[ue](Object.freeze(e)),this[le].records=[]}}[ue](t){const e=this[le];e.indexes.clear(),e.broker.get().trigger("@",t)}}globalThis.CDP_DECLARE=globalThis.CDP_DECLARE||{},function(){let t;!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.ABORT=1]="ABORT",t[t.PENDING=2]="PENDING",t[t.NOOP=3]="NOOP",t[t.FAIL=-1]="FAIL",t[t.FATAL=-2]="FATAL",t[t.NOT_SUPPORTED=-3]="NOT_SUPPORTED"}(t=CDP_DECLARE.RESULT_CODE||(CDP_DECLARE.RESULT_CODE={})),CDP_DECLARE.ASSIGN_RESULT_CODE=function e(n){Object.assign(t,n)};const n={0:"operation succeeded.",1:"operation aborted.",2:"operation pending.",3:"no operation.","-1":"operation failed.","-2":"unexpected error occured.","-3":"operation not supported."};function s(t,e,s,r){if(e<0||1e3<=e)throw new RangeError(`declareResultCode(), invalid local-code range. [code: ${e}]`);const i=r?1:-1,o=i*(t+e);return n[o]=s||`[CODE: ${o}]`,o}CDP_DECLARE.ERROR_MESSAGE_MAP=function r(){return n},CDP_DECLARE.DECLARE_SUCCESS_CODE=function i(t,e,n){return s(t,e,n,!0)},CDP_DECLARE.DECLARE_ERROR_CODE=function o(t,e,n){return s(t,e,n,!1)}}();var _e=CDP_DECLARE.RESULT_CODE,ve=CDP_DECLARE.DECLARE_SUCCESS_CODE,we=CDP_DECLARE.DECLARE_ERROR_CODE,Ee=CDP_DECLARE.ASSIGN_RESULT_CODE,Oe=CDP_DECLARE.ERROR_MESSAGE_MAP;function xe(t){return t<0}function Se(t){return!xe(t)}function Re(t,e){const n=e?`[${e}]`:"";return _e[t]?`${n}[${_e[t]}]`:`${n}[UNKNOWN]`}function Ce(t){const e=Oe();return e[t]?e[t]:`unregistered result code. [code: ${t}]`}const{isFinite:Te}=Number,Ae=t=>({configurable:!1,writable:!1,enumerable:!0,value:t});class Le extends Error{constructor(t,e,n){t=o(t)?_e.SUCCESS:Te(t)?Math.trunc(t):_e.FAIL,super(e||Ce(t));let s=ke(n)?n.time:void 0;Te(s)||(s=Date.now()),Object.defineProperties(this,{code:Ae(t),cause:Ae(n),time:Ae(s)})}get isSucceeded(){return Se(this.code)}get isFailed(){return xe(this.code)}get isCanceled(){return this.code===_e.ABORT}get codeName(){return Re(this.code,this.name)}get help(){return Ce(this.code)}get[Symbol.toStringTag](){return"Result"}}function ke(t){return t instanceof Error||"Error"===v(t)}function Ne(t){if(t instanceof Le){let{code:e,cause:n,time:s}=t;return e=o(e)?_e.SUCCESS:Te(e)?Math.trunc(e):_e.FAIL,Te(s)||(s=Date.now()),Reflect.defineProperty(t,"code",Ae(e)),Reflect.defineProperty(t,"cause",Ae(n)),Reflect.defineProperty(t,"time",Ae(s)),t}{const e=Object(t),n=a(e.message)?e.message:a(t)?t:void 0,s=_t(n)?_e.ABORT:Te(e.code)?e.code:t,r=ke(e.cause)?e.cause:ke(t)?t:a(t)?new Error(t):t;return new Le(s,n,r)}}function Pe(t,e,n){return new Le(t,e,n)}Le.prototype.name="Result";class De{constructor(){this._broker=new Ft,this._storage={}}get kind(){return"memory"}async getItem(t,e){e=e||{},await ae(e.cancel);const n=dt(this._storage[t]);switch(e.dataType){case"string":return ft(n);case"number":return Number(pt(n));case"boolean":return Boolean(pt(n));case"object":return Object(pt(n));default:return pt(n)}}async setItem(t,e,n){n=n||{},await ae(n.cancel);const s=dt(e,!0),r=dt(this._storage[t]);C(r,s)||(this._storage[t]=s,!n.silent&&this._broker.trigger("@",t,s,r))}async removeItem(t,e){e=e||{},await ae(e.cancel);const n=this._storage[t];void 0!==n&&(delete this._storage[t],!e.silent&&this._broker.trigger("@",t,null,n))}async clear(t){t=t||{},await ae(t.cancel),p(this._storage)||(this._storage={},!t.silent&&this._broker.trigger("@",null,null,null))}async keys(t){return await ae(t&&t.cancel),Object.keys(this._storage)}on(t){return this._broker.on("@",t)}off(t){this._broker.off("@",t)}get context(){return this._storage}}const je=new De;const $e={tags:["{{","}}"],escape:lt};const Me=n(null,"CDP_DECLARE","TEMPLATE_CACHE");function Ie(t){return t.replace(/[-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}class Ve{constructor(t){this._source=this._tail=t,this._pos=0}get pos(){return this._pos}get source(){return this._source}get eos(){return""===this._tail}scan(t){const e=t.exec(this._tail);if(!e||0!==e.index)return"";const n=e[0];return this._tail=this._tail.substring(n.length),this._pos+=n.length,n}scanUntil(t){const e=this._tail.search(t);let n;switch(e){case-1:n=this._tail,this._tail="";break;case 0:n="";break;default:n=this._tail.substring(0,e),this._tail=this._tail.substring(e)}return this._pos+=n.length,n}}class Ue{constructor(t,e){this._view=t,this._cache={".":this._view},this._parent=e}get view(){return this._view}push(t){return new Ue(t,this)}lookup(t){const e=this._cache;let n;if(Object.prototype.hasOwnProperty.call(e,t))n=e[t];else{let i,o,a,c=this,l=!1;for(;c;){if(0<t.indexOf("."))for(i=c._view,o=t.split("."),a=0;null!=i&&a<o.length;)a===o.length-1&&(l=K(i,o[a])||(s=i,r=o[a],u(s)&&Object.prototype.hasOwnProperty.call(s,r))),i=i[o[a++]];else i=c._view[t],l=K(c._view,t);if(l){n=i;break}c=c._parent}e[t]=n}var s,r;return g(n)&&(n=n.call(this._view)),n}}const Fe={white:/\s*/,space:/\s+/,equals:/\s*=/,curly:/\s*\}/,tag:/#|\^|\/|>|\{|&|=|!/};class Be{parse(t,e){const n=function s(t,e){return`${t}:${e.join(":")}`}(t,e||$e.tags);let r=Me[n];return null==r&&(r=Me[n]=function i(t,e){if(!t)return[];let n=!1;const s=[],r=[],i=[];let o=!1,c=!1,l="",u=0;const f=()=>{if(o&&!c)for(;i.length;)delete r[i.pop()];else i.length=0;o=!1,c=!1},d=t=>{if(a(t)&&(t=t.split(Fe.space,2)),!h(t)||2!==t.length)throw new Error(`Invalid tags: ${JSON.stringify(t)}`);return{openingTag:new RegExp(`${Ie(t[0])}\\s*`),closingTag:new RegExp(`\\s*${Ie(t[1])}`),closingCurly:new RegExp(`\\s*${Ie(`}${t[1]}`)}`)}},{tag:p,white:g,equals:m,curly:y}=Fe;let b=d(e||$e.tags);const _=new Ve(t);let v;for(;!_.eos;){const{openingTag:t,closingTag:e,closingCurly:a}=b;let h,E=_.pos,O=_.scanUntil(t);if(O)for(let t=0,e=O.length;t<e;++t){const e=O.charAt(t);w=e,/\S/.test(w)?(c=!0,n=!0,l+=" "):(i.push(r.length),l+=e),r.push(["text",e,E,E+1]),E+=1,"\n"===e&&(f(),l="",u=0,n=!1)}if(!_.scan(t))break;o=!0;let x=_.scan(p)||"name";if(_.scan(g),"="===x?(O=_.scanUntil(m),_.scan(m),_.scanUntil(e)):"{"===x?(O=_.scanUntil(a),_.scan(y),_.scanUntil(e),x="&"):O=_.scanUntil(e),!_.scan(e))throw new Error(`Unclosed tag at ${_.pos}`);if(h=">"===x?[x,O,E,_.pos,l,u,n]:[x,O,E,_.pos],u++,r.push(h),"#"===x||"^"===x)s.push(h);else if("/"===x){if(v=s.pop(),!v)throw new Error(`Unopened section "${O}" at ${E}`);if(v[1]!==O)throw new Error(`Unclosed section "${v[1]}" at ${E}`)}else"name"===x||"{"===x||"&"===x?c=!0:"="===x&&(b=d(O))}var w;if(f(),v=s.pop(),v)throw new Error(`Unclosed section "${v[1]}" at ${_.pos}`);return function O(t){const e=[];let n=e;const s=[];let r;for(const i of t)switch(i[0]){case"#":case"^":n.push(i),s.push(i),n=i[4]=[];break;case"/":r=s.pop(),r[5]=i[2],n=s.length>0?s[s.length-1][4]:e;break;default:n.push(i)}return e}(function E(t){const e=[];let n;for(const s of t)s&&("text"===s[0]&&n&&"text"===n[0]?(n[1]+=s[1],n[3]=s[3]):(e.push(s),n=s));return e}(r))}(t,e)),{tokens:r,cacheKey:n}}render(t,e,n,s){const{tokens:r}=this.parse(t,s);return this.renderTokens(r,e,n,t,s)}renderTokens(t,e,n,s,r){const i=e instanceof Ue?e:new Ue(e);let o="";for(const e of t){let t;switch(e[0]){case"#":t=this.renderSection(e,i,n,s);break;case"^":t=this.renderInverted(e,i,n,s);break;case">":t=this.renderPartial(e,i,n,r);break;case"&":t=this.unescapedValue(e,i);break;case"name":t=this.escapedValue(e,i);break;case"text":t=this.rawValue(e)}null!=t&&(o+=t)}return o}renderSection(t,e,n,s){const r=this;let i="",o=e.lookup(t[1]);const a=t=>r.render(t,e,n);if(o){if(h(o))for(const r of o)i+=this.renderTokens(t[4],e.push(r),n,s);else if("object"==typeof o||"string"==typeof o||"number"==typeof o)i+=this.renderTokens(t[4],e.push(o),n,s);else if(g(o)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");o=o.call(e.view,s.slice(t[3],t[5]),a),null!=o&&(i+=o)}else i+=this.renderTokens(t[4],e,n,s);return i}}renderInverted(t,e,n,s){const r=e.lookup(t[1]);if(!r||h(r)&&0===r.length)return this.renderTokens(t[4],e,n,s)}indentPartial(t,e,n){const s=e.replace(/[^ \t]/g,""),r=t.split("\n");for(let t=0;t<r.length;t++)r[t].length&&(t>0||!n)&&(r[t]=s+r[t]);return r.join("\n")}renderPartial(t,e,n,s){if(!n)return;const r=g(n)?n(t[1]):n[t[1]];if(null!=r){const i=t[6],o=t[5],a=t[4];let c=r;0===o&&a&&(c=this.indentPartial(r,a,i));const{tokens:l}=this.parse(c,s);return this.renderTokens(l,e,n,c)}}unescapedValue(t,e){const n=e.lookup(t[1]);if(null!=n)return n}escapedValue(t,e){const n=e.lookup(t[1]);if(null!=n)return $e.escape(n)}rawValue(t){return t[1]}}$e.writer=new Be;class He{static compile(t,e){if(!a(t))throw new TypeError(`Invalid template! the first argument should be a "string" but "${function n(t){return h(t)?"array":typeof t}(t)}" was given for TemplateEngine.compile(template, options)`);const{tags:s}=e||$e,{writer:r}=$e,i=(e,n)=>r.render(t,e||{},n,s),{tokens:o,cacheKey:c}=r.parse(t,s);return i.tokens=o,i.cacheKey=c,i.cacheLocation=["CDP_DECLARE","TEMPLATE_CACHE"],i}static clearCache(){!function t(){const t=s("CDP_DECLARE");t.TEMPLATE_CACHE={}}()}static setGlobalSettings(t){const e={...$e},{writer:n,tags:s,escape:r}=t;return n&&($e.writer=n),s&&($e.tags=s),r&&($e.escape=r),e}static createScanner(t){return new Ve(t)}static createContext(t,e){return new Ue(t,e)}static createWriter(){return new Be}}const We=Z(globalThis.btoa),qe=Z(globalThis.atob),Ke=Z(globalThis.Blob),ze=Z(globalThis.FileReader),Je=Z(globalThis.URL);class Ge{static encode(t){return We(unescape(encodeURIComponent(t)))}static decode(t){return decodeURIComponent(escape(qe(t)))}}function Ye(t,e,n){const{cancel:s,onprogress:r}=n;return s&&x("instanceOf",Zt,s),r&&x("typeOf","function",r),new Promise(((n,i)=>{const o=new ze,a=s&&s.register((()=>{o.abort()}));o.onabort=o.onerror=()=>{i(o.error)},o.onprogress=r,o.onload=()=>{n(o.result)},o.onloadend=()=>{a&&a.unsubscribe()},o[t](...e)}),s)}function Xe(t,e){return Ye("readAsArrayBuffer",[t],{...e})}function Qe(t,e){return Ye("readAsDataURL",[t],{...e})}function Ze(t,e,n){return Ye("readAsText",[t,e||void 0],{...n})}function tn(t){const e={base64:!1},n=/^data:(.+?\/.+?)?(;.+?)?,(.*)$/.exec(t);if(null==n)throw new Error(`Invalid data-URL: ${t}`);return e.mimeType=n[1],e.base64=/;base64/.test(n[2]),e.data=n[3],e}function en(t){const e=t.split("").map((t=>t.charCodeAt(0)));return new Uint8Array(e)}function nn(t){return unescape(encodeURIComponent(t))}function sn(t){return decodeURIComponent(escape(t))}function rn(t,e){return Qe(t,e)}function on(t,e="application/octet-stream"){return cn(new Uint8Array(t),e)}function an(t,e="application/octet-stream"){return new Ke([t],{type:e})}function cn(t,e="application/octet-stream"){return`data:${e};base64,${ln(t)}`}function ln(t){return Ge.encode(un(t))}function un(t){return sn(function e(t){return Array.prototype.map.call(t,(t=>String.fromCharCode(t))).join("")}(t))}function hn(t,e="application/octet-stream"){return an(fn(t),e)}function fn(t){return en(nn(Ge.decode(t)))}function dn(t,e="text/plain"){return new Ke([t],{type:e})}function pn(t){return en(nn(t))}function gn(t){return Ge.encode(t)}function mn(t){const e=tn(t);return e.base64?hn(e.data,e.mimeType||"application/octet-stream"):dn(decodeURIComponent(e.data),e.mimeType||"text/plain")}function yn(t){return bn(t).buffer}function bn(t){return fn(_n(t))}function _n(t){const e=tn(t);return e.base64?e.data:Ge.encode(decodeURIComponent(e.data))}async function vn(t,e){const{cancel:n}=e||{};return await ae(n),null==t?String(t):t instanceof ArrayBuffer?on(t):t instanceof Uint8Array?cn(t):t instanceof Ke?rn(t,e):ft(t)}async function wn(t,e){const{dataType:n,cancel:s}=e||{};await ae(s);const r=pt(ht(t));switch(n){case"string":return ft(r);case"number":return Number(r);case"boolean":return Boolean(r);case"object":return Object(r);case"buffer":return yn(ft(r));case"binary":return bn(ft(r));case"blob":return mn(ft(r));default:return r}}const En=new WeakMap,On=new Set;!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.AJAX_DECLARE=9007199254740991]="AJAX_DECLARE",t[t.ERROR_AJAX_RESPONSE=CDP_DECLARE.DECLARE_ERROR_CODE(100,21,"network error.")]="ERROR_AJAX_RESPONSE",void(t[t.ERROR_AJAX_TIMEOUT=CDP_DECLARE.DECLARE_ERROR_CODE(100,22,"request timeout.")]="ERROR_AJAX_TIMEOUT")}();const xn=Z(globalThis.FormData),Sn=Z(globalThis.Headers),Rn=Z(globalThis.AbortController),Cn=Z(globalThis.URLSearchParams),Tn=Z(globalThis.XMLHttpRequest),An=Z(globalThis.fetch);let Ln;const kn={get timeout(){return Ln},set timeout(t){Ln=c(t)&&0<=t?t:void 0}},Nn={text:"text/plain, text/html, application/xml; q=0.8, text/xml; q=0.8, */*; q=0.01",json:"application/json, text/javascript, */*; q=0.01"};function Pn(t){const e=new Sn(t.headers),{method:n,contentType:s,dataType:r,mode:i,body:o,username:a,password:c}=t;return"POST"!==n&&"PUT"!==n&&"PATCH"!==n||(e.get("Content-Type")&&o instanceof xn?e.delete("Content-Type"):e.get("Content-Type")||(null==s&&"json"===r?e.set("Content-Type","application/json; charset=UTF-8"):null!=s&&e.set("Content-Type",s))),e.get("Accept")||e.set("Accept",Nn[r]||"*/*"),"cors"===i||e.get("X-Requested-With")||e.set("X-Requested-With","XMLHttpRequest"),null==a||e.get("Authorization")||e.set("Authorization",`Basic ${Ge.encode(`${a}:${c||""}`)}`),e}function Dn(t){const e=g(t)?t():t;return void 0!==e?String(e):""}function jn(t){const e=[];for(const n of Object.keys(t)){const s=Dn(t[n]);s&&e.push(`${encodeURIComponent(n)}=${encodeURIComponent(s)}`)}return e.join("&")}function $n(t){const e={};for(const n of Object.keys(t)){const s=Dn(t[n]);s&&(e[n]=s)}return e}async function Mn(t,e){const n=new Rn,s=()=>n.abort(),r=Object.assign({method:"GET",dataType:"response",timeout:kn.timeout},e,{signal:n.signal}),{cancel:i,timeout:o}=r;if(i){if(i.requested)throw i.reason;i.register(s)}const a=Zt.source(i),{token:c}=a;c.register(s),o&&setTimeout((()=>a.cancel(Pe(_e.ERROR_AJAX_TIMEOUT,"request timeout"))),o),r.method=r.method.toUpperCase(),r.headers=Pn(r);const{method:l,data:u,dataType:h}=r;null!=u&&("GET"!==l&&"HEAD"!==l||t.includes("?")?null==r.body&&(r.body=new Cn($n(u))):t+=`?${jn(u)}`);const f=await Promise.resolve(An(t,r),c);if("response"===h)return f;if(f.ok)return Promise.resolve(f[h](),c);throw Pe(_e.ERROR_AJAX_RESPONSE,f.statusText,f)}function In(t){return t||"json"}function Vn(t,e,n,s){return Mn(t,{...s,method:"GET",data:e,dataType:In(n)})}Mn.settings=kn;const Un=Object.freeze({__proto__:null,get:Vn,text:function Fn(t,e,n){return Vn(t,e,"text",n)},json:function Bn(t,e,n){return Vn(t,e,"json",n)},blob:function Hn(t,e,n){return Vn(t,e,"blob",n)},post:function Wn(t,e,n,s){return Mn(t,{...s,method:"POST",data:e,dataType:In(n)})},resource:function qn(t,e,n){const s=new Tn;null==n||t.includes("?")||(t+=`?${jn(n)}`),s.open("GET",t,!1);const r=In(e),i=Pn({method:"GET",dataType:r});if(i.forEach(((t,e)=>{s.setRequestHeader(e,t)})),s.send(null),!(200<=s.status&&s.status<300))throw Pe(_e.ERROR_AJAX_RESPONSE,s.statusText,s);return"json"===r?JSON.parse(s.response):s.response}}),Kn=Z(globalThis.URL),zn=Z(globalThis.Worker),Jn=Z(globalThis.Blob);class Gn extends zn{constructor(t,e){const n=function s(t){if(!g(t)&&!a(t))throw new TypeError(`${v(t)} is not a function or string.`);return Kn.createObjectURL(new Jn([g(t)?`(${t.toString()})(self);`:t],{type:"application/javascript"}))}(t);super(n,e),this._context=n}terminate(){super.terminate(),Kn.revokeObjectURL(this._context)}}const Yn=Z(globalThis.window),Xn=Z(globalThis.document),Qn=Z(globalThis.CustomEvent),Zn=Yn.requestAnimationFrame;function ts(t,e){if(!t)return[];e=e||Xn;const n=[];try{if("string"==typeof t){const s=t.trim();if(s.startsWith("<")&&s.endsWith(">")){const t=Xn.createElement("template");t.innerHTML=s,n.push(...t.content.children)}else{const t=s;if(g(e.getElementById)&&"#"===t[0]&&!/[ .<>:~]/.exec(t)){const s=e.getElementById(t.substring(1));s&&n.push(s)}else"body"===t?n.push(Xn.body):n.push(...e.querySelectorAll(t))}}else t.nodeType||window===t?n.push(t):0<t.length&&(t[0].nodeType||window===t[0])&&n.push(...t)}catch(t){void 0}return n}function es(t){return c(t)&&0<=t?t:void 0}const ns=["type","src","nonce","noModule"];let ss;function rs(t,e){return ss(t,e)}rs.utils={elementify:ts,evaluate:function is(t,e,n){const r=n||Xn,i=r.createElement("script");if(i.text=`CDP_DOM_EVAL_RETURN_VALUE_BRIDGE = (() => { return ${t}; })();`,e)for(const t of ns){const n=e[t]||e.getAttribute&&e.getAttribute(t);n&&i.setAttribute(t,n)}try{s("CDP_DOM_EVAL_RETURN_VALUE_BRIDGE"),r.head.appendChild(i).parentNode.removeChild(i);const t=globalThis.CDP_DOM_EVAL_RETURN_VALUE_BRIDGE;return t}finally{delete globalThis.CDP_DOM_EVAL_RETURN_VALUE_BRIDGE}}};const os=Symbol("create-iterable-iterator");class as{constructor(t){const e=this;for(const[n,s]of t.entries())e[n]=s;this.length=t.length}[Symbol.iterator](){const t={base:this,pointer:0,next(){return this.pointer<this.base.length?{done:!1,value:this.base[this.pointer++]}:{done:!0,value:void 0}}};return t}entries(){return this[os](((t,e)=>[t,e]))}keys(){return this[os]((t=>t))}values(){return this[os](((t,e)=>e))}[os](t){const e={base:this,pointer:0},n={next(){const n=e.pointer;return n<e.base.length?(e.pointer++,{done:!1,value:t(n,e.base[n])}):{done:!0,value:void 0}},[Symbol.iterator](){return this}};return n}}function cs(t){return!(!t||!t.nodeType)}function ls(t){return cs(t)&&Node.ELEMENT_NODE===t.nodeType}function us(t){return ls(t)&&null!=t.dataset}function hs(t){return!(!t||!t.querySelector)}function fs(t){return ls(t[0])}function ds(t){return us(t[0])}function ps(t){return Xn===t[0]}function gs(t){return Yn===t[0]}function ms(t){return!t}function ys(t){return"string"==typeof t}function bs(t){return null!=t.nodeType}function _s(t){return Xn===t}function vs(t){return Yn===t}function ws(t){return null!=t.length}function Es(t,e){return!(!t||t.nodeName.toLowerCase()!==e.toLowerCase())}function Os(t){if(t.offsetParent)return t.offsetParent;if(Es(t,"svg")){const e=rs(t),n=e.css(["display","position"]);if("none"===n.display||"fixed"===n.position)return null;{let t=e[0].parentElement;for(;t;){const{display:e,position:n}=rs(t).css(["display","position"]);if("none"===e)return null;if(n&&"static"!==n)break;t=t.parentElement}return t}}return null}function xs(t){return ls(t)&&"select"===t.nodeName.toLowerCase()&&t.multiple}function Ss(t){return ls(t)&&null!=t.value}class Rs{addClass(t){if(!fs(this))return this;const e=h(t)?t:[t];for(const t of this)ls(t)&&t.classList.add(...e);return this}removeClass(t){if(!fs(this))return this;const e=h(t)?t:[t];for(const t of this)ls(t)&&t.classList.remove(...e);return this}hasClass(t){if(!fs(this))return!1;for(const e of this)if(ls(e)&&e.classList.contains(t))return!0;return!1}toggleClass(t,e){if(!fs(this))return this;const n=h(t)?t:[t],s=null==e?t=>{for(const e of n)t.classList.toggle(e)}:e?t=>t.classList.add(...n):t=>t.classList.remove(...n);for(const t of this)ls(t)&&s(t);return this}prop(t,e){if(null==e&&a(t)){const e=this[0];return e&&e[t]}for(const n of this)if(null!=e)n[t]=e;else for(const e of Object.keys(t))e in n&&(n[e]=t[e]);return this}attr(t,e){if(fs(this)){if(void 0===e&&a(t)){const e=this[0].getAttribute(t);return null!=e?e:void 0}if(null===e)return this.removeAttr(t);for(const n of this)if(ls(n))if(null!=e)n.setAttribute(t,String(e));else for(const e of Object.keys(t)){const s=t[e];null===s?n.removeAttribute(e):n.setAttribute(e,String(s))}return this}return void 0===e?void 0:this}removeAttr(t){if(!fs(this))return this;const e=h(t)?t:[t];for(const t of this)if(ls(t))for(const n of e)t.removeAttribute(n);return this}val(t){if(!fs(this))return null==t?void 0:this;if(null==t){const t=this[0];if(xs(t)){const e=[];for(const n of t.selectedOptions)e.push(n.value);return e}return"value"in t?t.value:void 0}for(const e of this)if(h(t)&&xs(e))for(const n of e.options)n.selected=t.includes(n.value);else Ss(e)&&(e.value=t);return this}data(t,e){if(!ds(this))return null==e?void 0:this;if(void 0===e){const e=this[0].dataset;if(null==t){const t={};for(const n of Object.keys(e))t[n]=ht(e[n]);return t}return ht(e[Et(t)])}{const n=Et(t||"");if(n)for(const t of this)us(t)&&(t.dataset[n]=ft(e));return this}}removeData(t){if(!ds(this))return this;const e=h(t)?t.map((t=>Et(t))):[Et(t)];for(const t of this)if(us(t)){const{dataset:n}=t;for(const t of e)delete n[t]}return this}}function Cs(t,e,n,s){let r;s=s||ot;for(const[i,o]of e.entries())if(g(t)){if(t.call(o,i,o)&&(r=n(o),void 0!==r))return r}else if(ys(t)){if(o.matches&&o.matches(t)&&(r=n(o),void 0!==r))return r}else if(vs(t)){if(Yn===o){if(r=n(o),void 0!==r)return r}else if(r=s(),void 0!==r)return r}else if(_s(t)){if(Xn===o){if(r=n(o),void 0!==r)return r}else if(r=s(),void 0!==r)return r}else if(bs(t)){if(t===o&&(r=n(o),void 0!==r))return r}else if(ws(t)){for(const e of t)if(e===o&&(r=n(o),void 0!==r))return r}else if(r=s(),void 0!==r)return r;if(r=s(),void 0!==r)return r}function Ts(t){return null!=t&&Node.DOCUMENT_NODE!==t.nodeType&&Node.DOCUMENT_FRAGMENT_NODE!==t.nodeType}function As(t,e){if(t){if(!e)return!0;if(rs(t).is(e))return!0}return!1}function Ls(t,e,n,s){if(!fs(e))return rs();const r=new Set;for(const i of e){let e=i[t];for(;e&&(null==n||!rs(e).is(n));)s?rs(e).is(s)&&r.add(e):r.add(e),e=e[t]}return rs([...r])}W(Rs,"protoExtendsOnly");class ks{get(t){return null!=t?(t=Math.trunc(t),t<0?this[t+this.length]:this[t]):this.toArray()}toArray(){return[...this]}index(t){if(fs(this)){if(null==t){let t=0,e=this[0];for(;null!==(e=e.previousSibling);)Node.ELEMENT_NODE===e.nodeType&&(t+=1);return t}{let e;e=a(t)?rs(t)[0]:t instanceof as?t[0]:t;const n=[...this].indexOf(e);return 0<=n?n:void 0}}}first(){return rs(this[0])}last(){return rs(this[this.length-1])}add(t,e){const n=rs(t,e),s=new Set([...this,...n]);return rs([...s])}is(t){return!(this.length<=0||ms(t))&&Cs(t,this,(()=>!0),(()=>!1))}filter(t){if(this.length<=0||ms(t))return rs();const e=[];return Cs(t,this,(t=>{e.push(t)})),rs(e)}not(t){if(this.length<=0||ms(t))return rs();const e=new Set([...this]);return Cs(t,this,(t=>{e.delete(t)})),rs([...e])}find(t){if(a(t)){if(gs(this))return rs();{const e=[];for(const n of this)if(hs(n)){const s=n.querySelectorAll(t);e.push(...s)}return rs(e)}}{const e=rs(t);return e.filter(((t,e)=>{for(const t of this)if(cs(t)&&t!==e&&t.contains(e))return!0;return!1}))}}has(t){if(gs(this))return rs();const e=[];for(const n of this)if(hs(n)){const s=rs(t,n);e.push(...s)}return this.filter(((t,n)=>{if(cs(n))for(const t of new Set(e))if(n!==t&&n.contains(t))return!0;return!1}))}map(t){const e=[];for(const[n,s]of this.entries())e.push(t.call(s,n,s));return rs(e)}each(t){for(const[e,n]of this.entries())if(!1===t.call(n,e,n))return this;return this}slice(t,e){return rs([...this].slice(t,e))}eq(t){return null==t?rs():rs(this.get(t))}closest(t){if(null!=t&&fs(this)){if(a(t)){const e=new Set;for(const n of this)if(ls(n)){const s=n.closest(t);s&&e.add(s)}return rs([...e])}return this.is(t)?rs(this):this.parents(t).eq(0)}return rs()}children(t){if(gs(this))return rs();const e=new Set;for(const n of this)if(hs(n))for(const s of n.children)As(s,t)&&e.add(s);return rs([...e])}parent(t){const e=new Set;for(const n of this)if(cs(n)){const s=n.parentNode;Ts(s)&&As(s,t)&&e.add(s)}return rs([...e])}parents(t){return this.parentsUntil(void 0,t)}parentsUntil(t,e){let n=[];for(const s of this){let r=s.parentNode;for(;Ts(r)&&(null==t||!rs(r).is(t));)e?rs(r).is(e)&&n.push(r):n.push(r),r=r.parentNode}return 1<this.length&&(n=[...new Set(n.reverse())].reverse()),rs(n)}next(t){if(!fs(this))return rs();const e=new Set;for(const n of this)if(ls(n)){const s=n.nextElementSibling;As(s,t)&&e.add(s)}return rs([...e])}nextAll(t){return this.nextUntil(void 0,t)}nextUntil(t,e){return Ls("nextElementSibling",this,t,e)}prev(t){if(!fs(this))return rs();const e=new Set;for(const n of this)if(ls(n)){const s=n.previousElementSibling;As(s,t)&&e.add(s)}return rs([...e])}prevAll(t){return this.prevUntil(void 0,t)}prevUntil(t,e){return Ls("previousElementSibling",this,t,e)}siblings(t){if(!fs(this))return rs();const e=new Set;for(const n of this)if(ls(n)){const s=n.parentNode;if(Ts(s))for(const r of rs(s).children(t))r!==n&&e.add(r)}return rs([...e])}contents(){if(gs(this))return rs();const t=new Set;for(const e of this)if(cs(e))if(Es(e,"iframe"))t.add(e.contentDocument);else if(Es(e,"template"))t.add(e.content);else for(const n of e.childNodes)t.add(n);return rs([...t])}offsetParent(){const t=Xn.documentElement;if(this.length<=0)return rs();if(fs(this)){const e=new Set;for(const n of this){const s=Os(n)||t;e.add(s)}return rs([...e])}return rs(t)}}function Ns(t){const e=t.trim();return"<"===e.slice(0,1)&&">"===e.slice(-1)}function Ps(...t){const e=new Set;for(const n of t)if(a(n)&&!Ns(n)||cs(n))e.add(n);else{const t=rs(n);for(const n of t)(a(n)||cs(n)&&Node.DOCUMENT_NODE!==n.nodeType)&&e.add(n)}return e}function Ds(t){return a(t)?Xn.createTextNode(t):t}function js(t,e,n){const s=null!=t?e.filter(t):e;n||s.off();for(const t of s)ls(t)&&t.remove()}W(ks,"protoExtendsOnly");class $s{html(t){if(void 0===t){const t=this[0];return ls(t)?t.innerHTML:""}if(a(t)){for(const e of this)ls(e)&&(e.innerHTML=t);return this}return void 0,this}text(t){if(void 0===t){const t=this[0];if(cs(t)){const e=t.textContent;return null!=e?e.trim():""}return""}{const e=a(t)?t:String(t);for(const t of this)cs(t)&&(t.textContent=e);return this}}append(...t){const e=Ps(...t);for(const t of this)ls(t)&&t.append(...e);return this}appendTo(t){return rs(t).append(this)}prepend(...t){const e=Ps(...t);for(const t of this)ls(t)&&t.prepend(...e);return this}prependTo(t){return rs(t).prepend(this)}before(...t){const e=Ps(...t);for(const t of this)if(cs(t)&&t.parentNode)for(const n of e)t.parentNode.insertBefore(Ds(n),t);return this}insertBefore(t){return rs(t).before(this)}after(...t){const e=Ps(...[...t].reverse());for(const t of this)if(cs(t)&&t.parentNode)for(const n of e)t.parentNode.insertBefore(Ds(n),t.nextSibling);return this}insertAfter(t){return rs(t).after(this)}wrapAll(t){if(ps(this)||gs(this))return this;const e=this[0],n=rs(t,e.ownerDocument).eq(0).clone(!0);return e.parentNode&&n.insertBefore(e),n.map(((t,e)=>{for(;e.firstElementChild;)e=e.firstElementChild;return e})).append(this),this}wrapInner(t){if(!fs(this))return this;for(const e of this){const n=rs(e),s=n.contents();0<s.length?s.wrapAll(t):n.append(t)}return this}wrap(t){if(!fs(this))return this;for(const e of this){const n=rs(e);n.wrapAll(t)}return this}unwrap(t){return this.parent(t).not("body").each(((t,e)=>{rs(e).replaceWith(e.childNodes)})),this}empty(){for(const t of this)if(ls(t))for(;t.firstChild;)t.removeChild(t.firstChild);return this}detach(t){return js(t,this,!0),this}remove(t){return js(t,this,!1),this}replaceWith(t){const e=(()=>{const e=rs(t);if(1===e.length&&ls(e[0]))return e[0];{const t=Xn.createDocumentFragment();for(const n of e)ls(n)&&t.appendChild(n);return t}})();for(const t of this)ls(t)&&t.replaceWith(e);return this}replaceAll(t){return rs(t).replaceWith(this)}}function Ms(t){return t.ownerDocument&&t.ownerDocument.defaultView||Yn}function Is(t){const e=Ms(t);return e.getComputedStyle(t)}function Vs(t){return parseFloat(t)||0}W($s,"protoExtendsOnly");const Us={width:["left","right"],height:["top","bottom"]};function Fs(t,e){return Vs(t.getPropertyValue(`padding-${Us[e][0]}`))+Vs(t.getPropertyValue(`padding-${Us[e][1]}`))}function Bs(t,e){return Vs(t.getPropertyValue(`border-${Us[e][0]}-width`))+Vs(t.getPropertyValue(`border-${Us[e][1]}-width`))}function Hs(t,e){return Vs(t.getPropertyValue(`margin-${Us[e][0]}`))+Vs(t.getPropertyValue(`margin-${Us[e][1]}`))}function Ws(t,e,n){if(null==n){if(gs(t))return t[0].document.documentElement[`client${Ot(e)}`];if(ps(t))return t[0].documentElement[`scroll${Ot(e)}`];{const n=t[0];if(us(n)){const t=Is(n),s=Vs(t.getPropertyValue(e));return"border-box"===t.getPropertyValue("box-sizing")?s-(Bs(t,e)+Fs(t,e)):s}return 0}}return t.css(e,a(n)?n:`${n}px`)}function qs(t,e,n){if(null==n){if(gs(t)||ps(t))return Ws(t,e);{const n=t[0];return us(n)?n[`client${Ot(e)}`]:0}}if(gs(t)||ps(t))return t;{const s=a(n);for(const r of t)if(us(r)){const{style:t,newVal:i}=(()=>{s&&r.style.setProperty(e,n);const t=Is(r),i=s?Vs(t.getPropertyValue(e)):n;return{style:t,newVal:i}})();"border-box"===t.getPropertyValue("box-sizing")?r.style.setProperty(e,`${i+Bs(t,e)}px`):r.style.setProperty(e,i-Fs(t,e)+"px")}return t}}function Ks(...t){let[e,n]=t;return c(e)||a(e)||(n=!!e,e=void 0),{includeMargin:n,value:e}}function zs(t,e,n,s){if(null==s){if(gs(t))return t[0][`inner${Ot(e)}`];if(ps(t))return Ws(t,e);{const s=t[0];if(us(s)){const t=Gs(s,e);if(n){const n=Is(s);return t+Hs(n,e)}return t}return 0}}if(gs(t)||ps(t))return t;{const r=a(s);for(const i of t)if(us(i)){const{style:t,newVal:o}=(()=>{r&&i.style.setProperty(e,s);const t=Is(i),o=n?Hs(t,e):0,a=(r?Vs(t.getPropertyValue(e)):s)-o;return{style:t,newVal:a}})();"content-box"===t.getPropertyValue("box-sizing")?i.style.setProperty(e,o-Bs(t,e)-Fs(t,e)+"px"):i.style.setProperty(e,`${o}px`)}return t}}function Js(t){if(t.getClientRects().length<=0)return{top:0,left:0};const e=t.getBoundingClientRect(),n=Ms(t);return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function Gs(t,e){if(null!=t.offsetWidth)return t[`offset${Ot(e)}`];{const n=Is(t),s=Vs(n.getPropertyValue(e));return"content-box"===n.getPropertyValue("box-sizing")?s+Bs(n,e)+Fs(n,e):s}}class Ys{css(t,e){if(!ds(this))return a(t)?null==e?"":this:h(t)?{}:this;if(a(t)){if(void 0===e){const e=this[0];return Is(e).getPropertyValue(xt(t))}{const n=xt(t),s=null===e;for(const t of this)us(t)&&(s?t.style.removeProperty(n):t.style.setProperty(n,e));return this}}if(h(t)){const e=this[0],n=Ms(e),s={};for(const r of t){const t=xt(r);s[r]=n.getComputedStyle(e).getPropertyValue(t)}return s}{const e=function n(t){const e={};for(const n in t)e[xt(n)]=t[n];return e}(t);for(const t of this)if(us(t)){const{style:n}=t;for(const t in e)null===e[t]?n.removeProperty(t):n.setProperty(t,e[t])}return this}}width(t){return Ws(this,"width",t)}height(t){return Ws(this,"height",t)}innerWidth(t){return qs(this,"width",t)}innerHeight(t){return qs(this,"height",t)}outerWidth(...t){const{includeMargin:e,value:n}=Ks(...t);return zs(this,"width",e,n)}outerHeight(...t){const{includeMargin:e,value:n}=Ks(...t);return zs(this,"height",e,n)}position(){if(!ds(this))return{top:0,left:0};let t,e={top:0,left:0};const n=this[0],{position:s,marginTop:r,marginLeft:i}=rs(n).css(["position","marginTop","marginLeft"]),o=Vs(r),a=Vs(i);if("fixed"===s)t=n.getBoundingClientRect();else{t=Js(n);const s=n.ownerDocument;let r=Os(n)||s.documentElement,i=rs(r);for(;r&&(r===s.body||r===s.documentElement)&&"static"===i.css("position");)r=r.parentNode,i=rs(r);if(r&&r!==n&&Node.ELEMENT_NODE===r.nodeType){e=Js(r);const{borderTopWidth:t,borderLeftWidth:n}=i.css(["borderTopWidth","borderLeftWidth"]);e.top+=Vs(t),e.left+=Vs(n)}}return{top:t.top-e.top-o,left:t.left-e.left-a}}offset(t){if(ds(this)){if(null==t)return Js(this[0]);for(const e of this){const n=rs(e),s={},{position:r,top:i,left:o}=n.css(["position","top","left"]);"static"===r&&(e.style.position="relative");const a=n.offset(),c=(()=>{const t=("absolute"===r||"fixed"===r)&&(i+o).includes("auto");return t?n.position():{top:Vs(i),left:Vs(o)}})();null!=t.top&&(s.top=`${t.top-a.top+c.top}px`),null!=t.left&&(s.left=`${t.left-a.left+c.left}px`),n.css(s)}return this}return null==t?{top:0,left:0}:this}}W(Ys,"protoExtendsOnly");const Xs={eventData:new WeakMap,eventListeners:new WeakMap,liveEventListeners:new WeakMap};function Qs(t){const e=Xs.eventData.get(t.target)||[];return e.unshift(t),e}function Zs(t,e){Xs.eventData.set(t,e)}function tr(t){const e=t.split("."),n=e.shift();return e.length?(e.sort(),`${n}.${e.join(".")}`):n}function er(t){const e=[],n=t.split("."),s=n.shift();if(n.length){n.sort();const t=[];for(let e=n.length;e>=1;e--)t.push(...kt(n,e));const r=`.${n.join(".")}.`;e.push({type:s,namespace:r});for(const n of t)e.push({type:`${s}.${n.join(".")}`,namespace:r})}else e.push({type:s,namespace:""});return e}function nr(t,e){const n=[],s=e.split("."),r=s.shift(),i=tr(e);if(s.length){const e=t=>{if(t){const e=Object.keys(t),s=e.filter((t=>i===t.split("|")[0])).map((t=>t.split("|")[1])),r=e.filter((t=>{for(const e of s)if(e===t.split("|")[1])return!0;return!1})).map((t=>{const e=t.split("|");return{type:e[0],namespace:e[1]}}));n.push(...r)}},{eventListeners:s,liveEventListeners:r}=Xs;e(s.get(t)),e(r.get(t))}else n.push({type:r,namespace:""});return n}function sr(t,e,n,s,r,i){const o=s?Xs.liveEventListeners:Xs.eventListeners;if(!o.has(t)){if(!i)return{registered:void 0,handlers:[]};o.set(t,{})}const a=o.get(t),c=function l(t,e,n,s){const r={...s};return delete r.once,`${t}|${e}|${JSON.stringify(r)}|${n}`}(e,n,s,r);return a[c]||(a[c]={registered:new Set,handlers:[]}),a[c]}function rr(t,e=!0){const n=[],s=t=>{if(t){for(const e of Object.keys(t)){const s=e.split("|"),r=s[0],i=JSON.parse(s[2]);for(const s of t[e].handlers)n.push({event:r,handler:s.proxy,options:i})}return!0}return!1},{eventListeners:r,liveEventListeners:i}=Xs;return s(r.get(t))&&e&&r.delete(t),s(i.get(t))&&e&&i.delete(t),n}function ir(t,e){const n=[],s=e.split(".").filter((t=>!!t)),r=t=>{for(const e of s)if(t.includes(`.${e}.`))return!0;return!1},i=t=>{if(t){const e=Object.keys(t).filter(r);for(const s of e){const e=s.split("|"),r=e[0],i=JSON.parse(e[2]),{registered:o,handlers:a}=t[s];for(const t of a)n.push({event:r,handler:t.proxy,options:i}),o.delete(t.listener)}}},{eventListeners:o,liveEventListeners:a}=Xs;return i(o.get(t)),i(a.get(t)),n}function or(...t){let[e,n,s,r]=t;return g(n)&&([e,s,r]=t,n=void 0),e=e?h(e)?e:[e]:[],n=n||"",r?!0===r&&(r={capture:!0}):r={},{type:e,selector:n,listener:s,options:r}}const ar=["resize","scroll"];function cr(t,e,n){if(null==e){for(const e of this)ar.includes(t)||(g(e[t])?e[t]():rs(e).trigger(t));return this}return this.on(t,e,n)}function lr(t,e){const n=rr(t,!1);for(const t of n)e.addEventListener(t.event,t.handler,t.options)}class ur{on(...t){const{type:e,selector:n,listener:s,options:r}=or(...t);const i=n?function o(t){const e=Qs(t),r=rs(t.target);if(r.is(n))s.apply(r[0],e);else for(const t of r.parents())rs(t).is(n)&&s.apply(t,e)}:function a(t){s.apply(this,Qs(t))};for(const t of this)for(const o of e){const e=er(o);for(const o of e){const{type:e,namespace:a}=o,{registered:c,handlers:l}=sr(t,e,a,n,r,!0);c&&!c.has(s)&&(c.add(s),l.push({listener:s,proxy:i}),t.addEventListener(e,i,r))}}return this}off(...t){const{type:e,selector:n,listener:s,options:r}=or(...t);if(e.length<=0)for(const t of this){const e=rr(t);for(const n of e)t.removeEventListener(n.event,n.handler,n.options)}else for(const t of this)for(const i of e)if(i.startsWith(".")){const e=ir(t,i);for(const n of e)t.removeEventListener(n.event,n.handler,n.options)}else{const e=nr(t,i);for(const i of e){const{type:e,namespace:o}=i,{registered:a,handlers:c}=sr(t,e,o,n,r,!1);if(0<c.length)for(let n=c.length-1;n>=0;n--){const i=c[n];(s&&i.listener===s||s&&i.listener&&i.listener.origin&&i.listener.origin===s||!s)&&(t.removeEventListener(e,i.proxy,r),c.splice(n,1),a.delete(i.listener))}}}return this}once(...t){const{type:e,selector:n,listener:s,options:r}=or(...t),i={...r,once:!0},o=this;function a(...t){s.apply(this,t),o.off(e,n,a,i),delete a.origin}return a.origin=s,this.on(e,n,a,i)}trigger(t,...e){const n=h(t)?t:[t];for(const t of n){const n=(r=t,a(r)?new Qn(tr(r),{detail:e,bubbles:!0,cancelable:!0}):r);for(const t of this)Zs(t,e),t.dispatchEvent(n),s=t,Xs.eventData.delete(s)}var s,r;return this}transitionEnd(t,e=!1){const n=this;return g(t)&&n.on("transitionend",(function s(r){r.target===this&&(t.call(this,r),e||n.off("transitionend",s))})),this}animationEnd(t,e=!1){const n=this;return g(t)&&n.on("animationend",(function s(r){r.target===this&&(t.call(this,r),e||n.off("animationend",s))})),this}hover(t,e){return e=e||t,this.mouseenter(t).mouseleave(e)}click(t,e){return cr.bind(this)("click",t,e)}dblclick(t,e){return cr.bind(this)("dblclick",t,e)}blur(t,e){return cr.bind(this)("blur",t,e)}focus(t,e){return cr.bind(this)("focus",t,e)}focusin(t,e){return cr.bind(this)("focusin",t,e)}focusout(t,e){return cr.bind(this)("focusout",t,e)}keyup(t,e){return cr.bind(this)("keyup",t,e)}keydown(t,e){return cr.bind(this)("keydown",t,e)}keypress(t,e){return cr.bind(this)("keypress",t,e)}submit(t,e){return cr.bind(this)("submit",t,e)}contextmenu(t,e){return cr.bind(this)("contextmenu",t,e)}change(t,e){return cr.bind(this)("change",t,e)}mousedown(t,e){return cr.bind(this)("mousedown",t,e)}mousemove(t,e){return cr.bind(this)("mousemove",t,e)}mouseup(t,e){return cr.bind(this)("mouseup",t,e)}mouseenter(t,e){return cr.bind(this)("mouseenter",t,e)}mouseleave(t,e){return cr.bind(this)("mouseleave",t,e)}mouseout(t,e){return cr.bind(this)("mouseout",t,e)}mouseover(t,e){return cr.bind(this)("mouseover",t,e)}touchstart(t,e){return cr.bind(this)("touchstart",t,e)}touchend(t,e){return cr.bind(this)("touchend",t,e)}touchmove(t,e){return cr.bind(this)("touchmove",t,e)}touchcancel(t,e){return cr.bind(this)("touchcancel",t,e)}resize(t,e){return cr.bind(this)("resize",t,e)}scroll(t,e){return cr.bind(this)("scroll",t,e)}clone(t=!1,e=!1){const n=this;return fs(n)?n.map(((n,s)=>function r(t,e,n){const s=t.cloneNode(!0);if(e)if(n){const e=t.querySelectorAll("*"),n=s.querySelectorAll("*");for(const[t]of e.entries())lr(e[t],n[t])}else lr(t,s);return s}(s,t,e))):n}}function hr(t){return ls(t)?t:function e(t){return cs(t)&&Node.DOCUMENT_NODE===t.nodeType}(t)?t.documentElement:Yn===t?Yn.document.documentElement:null}function fr(t,e){const{top:n,left:s,duration:r,easing:i,callback:o}=e,a=t.scrollTop,l=t.scrollLeft;let u=c(n),h=c(s);if(!r){let e=!1;return u&&n!==a&&(t.scrollTop=n,e=!0),h&&s!==l&&(t.scrollLeft=s,e=!0),e&&g(o)&&o(),void 0}const f=(e,n,s,r)=>{if(!e)return{max:0,new:0,initial:0};const i=t[`scroll${Ot(r)}`]-Gs(t,r),o=Math.max(Math.min(n,i),0);return{max:i,new:o,initial:s}},d=f(u,n,a,"height"),p=f(h,s,l,"width");if(u&&d.new===d.initial&&(u=!1),h&&p.new===p.initial&&(h=!1),!u&&!h)return;const m=t=>g(i)?i(t):"linear"===i?t:function e(t){return.5-Math.cos(t*Math.PI)/2}(t),y={top:0,left:0},b=Date.now(),_=()=>{const e=Date.now()-b,n=Math.max(Math.min(e/r,1),0),s=m(n);if(u&&(y.top=d.initial+s*(d.new-d.initial)),h&&(y.left=p.initial+s*(p.new-p.initial)),u&&d.new>d.initial&&y.top>=d.new||u&&d.new<d.initial&&y.top<=d.new||h&&p.new>p.initial&&y.left>=p.new||h&&p.new<p.initial&&y.left<=p.new)return u&&(t.scrollTop=d.new),h&&(t.scrollLeft=p.new),g(o)&&o(),t=null,void 0;u&&(t.scrollTop=y.top),h&&(t.scrollLeft=y.left),Zn(_)};Zn(_)}W(ur,"protoExtendsOnly");class dr{scrollTop(t,e,n,s){if(null==t){const t=hr(this[0]);return t?t.scrollTop:0}return this.scrollTo({top:t,duration:e,easing:n,callback:s})}scrollLeft(t,e,n,s){if(null==t){const t=hr(this[0]);return t?t.scrollLeft:0}return this.scrollTo({left:t,duration:e,easing:n,callback:s})}scrollTo(...t){const e=function n(...t){const e={easing:"swing"};if(1===t.length)Object.assign(e,t[0]);else{const[n,s,r,i,o]=t;Object.assign(e,{top:s,left:n,duration:r,easing:i,callback:o})}return e.top=es(e.top),e.left=es(e.left),e.duration=es(e.duration),e}(...t);for(const t of this){const n=hr(t);us(n)&&fr(n,e)}return this}}W(dr,"protoExtendsOnly");const pr=new WeakMap;class gr{animate(t,e){const n={dom:this,animations:new Map};if(!fs(this))return n.finished=Promise.resolve(n),n;for(const s of this)if(ls(s)){const r=s.animate(t,e),i=pr.get(s)||new Set;i.add(r),pr.set(s,i),n.animations.set(s,r)}return n.finished=Promise.all([...n.animations.values()].map((t=>t.finished))).then((()=>n)),n}cancel(){if(fs(this))for(const t of this){const e=pr.get(t);if(e){for(const t of e)t.cancel();pr.delete(t)}}return this}finish(){if(fs(this))for(const t of this){const e=pr.get(t);if(e)for(const t of e)t.finish()}return this}}W(gr,"protoExtendsOnly");class mr extends(q(as,Rs,ks,$s,Ys,ur,dr,gr)){constructor(t){super(t)}static create(t,e){return t&&!e&&yr(t)?t:new mr(ts(t,e))}}function yr(t){return t instanceof mr}W(mr,"instanceOf",null),function br(t,e){ss=e,rs.fn=t}(mr.prototype,mr.create);const _r=Z(globalThis.location),vr=Z(globalThis.navigator),wr=Z(globalThis.screen),Er=Z(globalThis.devicePixelRatio),Or=t=>{const e=/(.+\/)([^/]*#[^/]+)?/.exec(t);return e&&e[1]||""},xr=Or(_r.href),Sr=t=>null!=t&&null!=t[0]?"/"===t[0]?xr+t.slice(1):xr+t:xr,Rr=(t,e)=>600<=Math.min(t,e),Cr=t=>{t=t||{navigator:vr,screen:wr,devicePixelRatio:Er};const n={ios:!1,android:!1,androidChrome:!1,desktop:!1,mobile:!1,phone:!1,tablet:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!!e().cordova,electron:!1},{userAgent:s,platform:r,standalone:i}=t.navigator||vr,{width:o,height:a}=t.screen||wr,c=t.devicePixelRatio,l=/(Android);?[\s/]+([\d.]+)?/.exec(s);let u=/(iPad).*OS\s([\d_]+)/.exec(s);const h=/(iPod)(.*OS\s([\d_]+))?/.exec(s);let f=!u&&/(iPhone\sOS|iOS)\s([\d_]+)/.exec(s);const d=0<=s.indexOf("MSIE ")||0<=s.indexOf("Trident/"),p=0<=s.indexOf("Edge/"),g=0<=s.indexOf("Gecko/")&&0<=s.indexOf("Firefox/"),m="Win32"===r;let y="MacIntel"===r;const b=s.toLowerCase().startsWith("electron");if(!f&&!u&&y&&(vr.maxTouchPoints>0||"ontouchstart"in globalThis)&&void 0!==i){const t=/(Version)\/([\d.]+)/.exec(s);Rr(o,a)?u=t:f=t,y=!1}return n.ie=d,n.edge=p,n.firefox=g,l&&!m&&(n.os="android",n.osVersion=l[2],n.android=!0,n.androidChrome=0<=s.toLowerCase().indexOf("chrome"),0<=s.indexOf("Mobile")?n.phone=!0:n.tablet=!0),(u||f||h)&&(n.os="ios",n.ios=!0),f&&!h&&(n.osVersion=f[2].replace(/_/g,"."),n.phone=!0,n.iphone=!0,(375===o&&812===a||812===o&&375===a||414===o&&896===a||896===o&&414===a)&&(n.iphoneX=!0)),u&&(n.osVersion=u[2].replace(/_/g,"."),n.tablet=!0,n.ipad=!0),h&&(n.osVersion=h[3]?h[3].replace(/_/g,"."):null,n.phone=!0,n.ipod=!0),n.desktop=!(t=>"orientation"in globalThis||0<=t.indexOf("Windows Phone"))(s),n.desktop&&(n.electron=b,n.macos=y,n.windows=m,n.macos&&(n.os="macos"),n.windows&&(n.os="windows")),n.mobile=!n.desktop,!n.mobile||n.phone||n.tablet||(Rr(o,a)?n.tablet=!0:n.phone=!0),n.pixelRatio=c||1,n},Tr=Cr(),Ar={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t],0}};class Lr{constructor(t,e={}){this.init(t,e)}init(t,e={}){this.prefix=e.prefix||"i18next:",this.logger=t||Ar,this.options=e,this.debug=e.debug}setDebug(t){this.debug=t}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,n,s){return s&&!this.debug?null:("string"==typeof t[0]&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Lr(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}}const kr=new Lr;class Nr{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach((t=>{this.observers[t]=this.observers[t]||[],this.observers[t].push(e)})),this}off(t,e){if(this.observers[t])return e?(this.observers[t]=this.observers[t].filter((t=>t!==e)),void 0):(delete this.observers[t],void 0)}emit(t,...e){if(this.observers[t]){const n=[].concat(this.observers[t]);n.forEach((t=>{t(...e)}))}if(this.observers["*"]){const n=[].concat(this.observers["*"]);n.forEach((n=>{n.apply(n,[t,...e])}))}}}function Pr(){let t,e;const n=new Promise(((n,s)=>{t=n,e=s}));return n.resolve=t,n.reject=e,n}function Dr(t){return null==t?"":""+t}function jr(t,e,n){function s(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}const i="string"!=typeof e?[].concat(e):e.split(".");for(;i.length>1;){if(r())return{};const e=s(i.shift());!t[e]&&n&&(t[e]=new n),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{}}return r()?{}:{obj:t,k:s(i.shift())}}function $r(t,e,n){const{obj:s,k:r}=jr(t,e,Object);s[r]=n}function Mr(t,e){const{obj:n,k:s}=jr(t,e);if(n)return n[s]}function Ir(t,e,n){const s=Mr(t,n);return void 0!==s?s:Mr(e,n)}function Vr(t,e,n){for(const s in e)"__proto__"!==s&&"constructor"!==s&&(s in t?"string"==typeof t[s]||t[s]instanceof String||"string"==typeof e[s]||e[s]instanceof String?n&&(t[s]=e[s]):Vr(t[s],e[s],n):t[s]=e[s]);return t}function Ur(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Fr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Br(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(t=>Fr[t])):t}function Hr(t,e,n="."){if(!t)return;if(t[e])return t[e];const s=e.split(n);let r=t;for(let t=0;t<s.length;++t){if(!r)return;if("string"==typeof r[s[t]]&&t+1<s.length)return;if(void 0===r[s[t]]){let e=2,i=s.slice(t,t+e).join(n),o=r[i];for(;void 0===o&&s.length>t+e;)e++,i=s.slice(t,t+e).join(n),o=r[i];if(void 0===o)return;if("string"==typeof o)return o;if(i&&"string"==typeof o[i])return o[i];const a=s.slice(t+e).join(n);return a?Hr(o,a,n):void 0}r=r[s[t]]}return r}"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;class Wr extends Nr{constructor(t,e={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,n,s={}){const r=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,i=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[t,e];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),t.indexOf(".")>-1&&(o=t.split("."));const a=Mr(this.data,o);return a||!i||"string"!=typeof n?a:Hr(this.data&&this.data[t]&&this.data[t][e],n,r)}addResource(t,e,n,s,r={silent:!1}){let i=this.options.keySeparator;void 0===i&&(i=".");let o=[t,e];n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split("."),s=e,e=o[1]),this.addNamespaces(e),$r(this.data,o,s),r.silent||this.emit("added",t,e,n,s)}addResources(t,e,n,s={silent:!1}){for(const s in n)"string"!=typeof n[s]&&"[object Array]"!==Object.prototype.toString.apply(n[s])||this.addResource(t,e,s,n[s],{silent:!0});s.silent||this.emit("added",t,e,n)}addResourceBundle(t,e,n,s,r,i={silent:!1}){let o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),s=n,n=e,e=o[1]),this.addNamespaces(e);let a=Mr(this.data,o)||{};s?Vr(a,n,r):a={...a,...n},$r(this.data,o,a),i.silent||this.emit("added",t,e,n)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}toJSON(){return this.data}}const qr={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,s,r){return t.forEach((t=>{this.processors[t]&&(e=this.processors[t].process(e,n,s,r))})),e}},Kr={};class zr extends Nr{constructor(t,e={}){super(),function n(t,e,s){t.forEach((t=>{e[t]&&(s[t]=e[t])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=kr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,e={interpolation:{}}){if(null==t)return!1;const n=this.resolve(t,e);return n&&void 0!==n.res}extractFromKey(t,e){let n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0)return{key:t,namespaces:r};const i=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),t=i.join(s)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}translate(t,e,n){if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:r,namespaces:i}=this.extractFromKey(t[t.length-1],e),o=i[i.length-1],a=e.lng||this.language,c=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase()){if(c){const t=e.nsSeparator||this.options.nsSeparator;return o+t+r}return r}const l=this.resolve(t,e);let u=l&&l.res;const h=l&&l.usedKey||r,f=l&&l.exactUsedKey||r,d=Object.prototype.toString.apply(u),p=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,m="string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u;if(g&&u&&m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(d)<0&&("string"!=typeof p||"[object Array]"!==d)){if(!e.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...e,ns:i}):`key '${r} (${this.language})' returned an object instead of string.`;if(s){const t="[object Array]"===d,n=t?[]:{};let r=t?f:h;for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t)){const o=`${r}${s}${t}`;n[t]=this.translate(o,{...e,joinArrays:!1,ns:i}),n[t]===o&&(n[t]=u[t])}u=n}}else if(g&&"string"==typeof p&&"[object Array]"===d)u=u.join(p),u&&(u=this.extendTranslation(u,t,e,n));else{let i=!1,c=!1;const h=void 0!==e.count&&"string"!=typeof e.count,f=zr.hasDefaultValue(e),d=h?this.pluralResolver.getSuffix(a,e.count):"",p=e[`defaultValue${d}`]||e.defaultValue;!this.isValidLookup(u)&&f&&(i=!0,u=p),this.isValidLookup(u)||(c=!0,u=r);const g=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,m=g&&c?void 0:u,y=f&&p!==u&&this.options.updateMissing;if(c||i||y){if(this.logger.log(y?"updateKey":"missingKey",a,o,r,y?p:u),s){const t=this.resolve(r,{...e,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let e=0;e<n.length;e++)t.push(n[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(e.lng||this.language):t.push(e.lng||this.language);const i=(t,n,s)=>{this.options.missingKeyHandler?this.options.missingKeyHandler(t,o,n,y?s:m,y,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,o,n,y?s:m,y,e),this.emit("missingKey",t,o,n,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&h?t.forEach((t=>{this.pluralResolver.getSuffixes(t).forEach((n=>{i([t],r+n,e[`defaultValue${n}`]||p)}))})):i(t,r,p))}u=this.extendTranslation(u,t,e,l,n),c&&u===r&&this.options.appendNamespaceToMissingKey&&(u=`${o}:${r}`),(c||i)&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u}extendTranslation(t,e,n,s,r){if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;let i;if(s){const e=t.match(this.interpolator.nestingRegexp);i=e&&e.length}let o=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),s){const e=t.match(this.interpolator.nestingRegexp),s=e&&e.length;i<s&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,((...t)=>r&&r[0]===t[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${e[0]}`),null):this.translate(...t,e)),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,o="string"==typeof i?[i]:i;return null!=t&&o&&o.length&&!1!==n.applyPostProcessor&&(t=qr.handle(o,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:s,...n}:n,this)),t}resolve(t,e={}){let n,s,r,i,o;return"string"==typeof t&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(n))return;const a=this.extractFromKey(t,e),c=a.key;s=c;let l=a.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=void 0!==e.count&&"string"!=typeof e.count,h=void 0!==e.context&&("string"==typeof e.context||"number"==typeof e.context)&&""!==e.context,f=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);l.forEach((t=>{this.isValidLookup(n)||(o=t,!Kr[`${f[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Kr[`${f[0]}-${t}`]=!0,this.logger.warn(`key "${s}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((s=>{if(this.isValidLookup(n))return;i=s;let o=c;const a=[o];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,c,s,t,e);else{let t;u&&(t=this.pluralResolver.getSuffix(s,e.count)),u&&h&&a.push(o+t),h&&a.push(o+=`${this.options.contextSeparator}${e.context}`),u&&a.push(o+=t)}let l;for(;l=a.pop();)this.isValidLookup(n)||(r=l,n=this.getResource(s,t,l,e))})))}))})),{res:n,usedKey:s,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,e,n,s={}){return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,s):this.resourceStore.getResource(t,e,n,s)}static hasDefaultValue(t){const e="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e===n.substring(0,e.length)&&void 0!==t[n])return!0;return!1}}function Jr(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Gr{constructor(t){this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kr.create("languageUtils")}getScriptPartFromCode(t){if(!t||t.indexOf("-")<0)return null;const e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if("string"==typeof t&&t.indexOf("-")>-1){const e=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map((t=>t.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jr(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jr(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Jr(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isWhitelisted(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach((t=>{if(e)return;let n=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(n)||(e=n)})),!e&&this.options.supportedLngs&&t.forEach((t=>{if(e)return;let n=this.getLanguagePartFromCode(t);if(this.isSupportedCode(n))return e=n;e=this.options.supportedLngs.find((t=>{if(0===t.indexOf(n))return t}))})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];let n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}toResolveHierarchy(t,e){const n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],r=t=>{t&&(this.isSupportedCode(t)?s.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),n.forEach((t=>{s.indexOf(t)<0&&r(this.formatLanguageCode(t))})),s}}let Yr=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xr={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};class Qr{constructor(t,e={}){this.languageUtils=t,this.options=e,this.logger=kr.create("pluralResolver"),this.rules=function n(){const t={};return Yr.forEach((e=>{e.lngs.forEach((n=>{t[n]={numbers:e.nr,plurals:Xr[e.fc]}}))})),t}()}addRule(t,e){this.rules[t]=e}getRule(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){const e=this.getRule(t);return e&&e.numbers.length>1}getPluralFormsOfKey(t,e){return this.getSuffixes(t).map((t=>e+t))}getSuffixes(t){const e=this.getRule(t);return e?e.numbers.map((e=>this.getSuffix(t,e))):[]}getSuffix(t,e){const n=this.getRule(t);if(n){const t=n.noAbs?n.plurals(e):n.plurals(Math.abs(e));let s=n.numbers[t];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===s?s="plural":1===s&&(s=""));const r=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?`_plural_${s.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?r():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}return this.logger.warn(`no plural rule found for: ${t}`),""}}class Zr{constructor(t={}){this.logger=kr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const e=t.interpolation;this.escape=void 0!==e.escape?e.escape:Br,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?Ur(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Ur(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Ur(e.nestingPrefix):e.nestingPrefixEscaped||Ur("$t("),this.nestingSuffix=e.nestingSuffix?Ur(e.nestingSuffix):e.nestingSuffixEscaped||Ur(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(t,"g");const e=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(e,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(t,e,n,s){let r,i,o;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}const l=t=>{if(t.indexOf(this.formatSeparator)<0){const r=Ir(e,a,t);return this.alwaysFormat?this.format(r,void 0,n,{...s,...e,interpolationkey:t}):r}const r=t.split(this.formatSeparator),i=r.shift().trim(),o=r.join(this.formatSeparator).trim();return this.format(Ir(e,a,i),o,n,{...s,...e,interpolationkey:i})};this.resetRegExp();const u=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&s.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,f=[{regex:this.regexpUnescape,safeValue:t=>c(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?c(this.escape(t)):c(t)}];return f.forEach((e=>{for(o=0;r=e.regex.exec(t);){if(i=l(r[1].trim()),void 0===i)if("function"==typeof u){const e=u(t,r,s);i="string"==typeof e?e:""}else{if(h){i=r[0];continue}this.logger.warn(`missed to pass in variable ${r[1]} for interpolating ${t}`),i=""}else"string"==typeof i||this.useRawValueToEscape||(i=Dr(i));const n=e.safeValue(i);if(t=t.replace(r[0],n),h?(e.regex.lastIndex+=n.length,e.regex.lastIndex-=r[0].length):e.regex.lastIndex=0,o++,o>=this.maxReplaces)break}})),t}nest(t,e,n={}){let s,r,i={...n};function o(t,e){const n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;const s=t.split(new RegExp(`${n}[ ]*{`));let r=`{${s[1]}`;t=s[0],r=this.interpolate(r,i),r=r.replace(/'/g,'"');try{i=JSON.parse(r),e&&(i={...e,...i})}catch(e){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,e),`${t}${n}${r}`}return delete i.defaultValue,t}for(i.applyPostProcessor=!1,delete i.defaultValue;s=this.nestingRegexp.exec(t);){let a=[],c=!1;if(-1!==s[0].indexOf(this.formatSeparator)&&!/{.*}/.test(s[1])){const t=s[1].split(this.formatSeparator).map((t=>t.trim()));s[1]=t.shift(),a=t,c=!0}if(r=e(o.call(this,s[1].trim(),i),i),r&&s[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Dr(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),r=""),c&&(r=a.reduce(((t,e)=>this.format(t,e,n.lng,{...n,interpolationkey:s[1].trim()})),r.trim())),t=t.replace(s[0],r),this.regexp.lastIndex=0}return t}}class ti extends Nr{constructor(t,e,n,s={}){super(),this.backend=t,this.store=e,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=kr.create("backendConnector"),this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,e,n,s){const r=[],i=[],o=[],a=[];return t.forEach((t=>{let s=!0;e.forEach((e=>{const o=`${t}|${e}`;!n.reload&&this.store.hasResourceBundle(t,e)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?i.indexOf(o)<0&&i.push(o):(this.state[o]=1,s=!1,i.indexOf(o)<0&&i.push(o),r.indexOf(o)<0&&r.push(o),a.indexOf(e)<0&&a.push(e)))})),s||o.push(t)})),(r.length||i.length)&&this.queue.push({pending:i,loaded:{},errors:[],callback:s}),{toLoad:r,pending:i,toLoadLanguages:o,toLoadNamespaces:a}}loaded(t,e,n){const s=t.split("|"),r=s[0],i=s[1];e&&this.emit("failedLoading",r,i,e),n&&this.store.addResourceBundle(r,i,n),this.state[t]=e?-1:2;const o={};this.queue.forEach((n=>{!function s(t,e,n,r){const{obj:i,k:o}=jr(t,e,Object);i[o]=i[o]||[],r&&(i[o]=i[o].concat(n)),r||i[o].push(n)}(n.loaded,[r],i),function a(t,e){let n=t.indexOf(e);for(;-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((t=>{o[t]||(o[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((e=>{o[t].indexOf(e)<0&&o[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((t=>!t.done))}read(t,e,n,s=0,r=350,i){return t.length?this.backend[n](t,e,((o,a)=>{if(o&&a&&s<5)return setTimeout((()=>{this.read.call(this,t,e,n,s+1,2*r,i)}),r),void 0;i(o,a)})):i(null,{})}prepareLoading(t,e,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);const r=this.queueLoad(t,e,n,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,e,n){this.prepareLoading(t,e,{},n)}reload(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}loadOne(t,e=""){const n=t.split("|"),s=n[0],r=n[1];this.read(s,r,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn(`${e}loading namespace ${r} for language ${s} failed`,n),!n&&i&&this.logger.log(`${e}loaded namespace ${r} for language ${s}`,i),this.loaded(t,n,i)}))}saveMissing(t,e,n,s,r,i={}){if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))return this.logger.warn(`did not save key "${n}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"),void 0;null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,s,null,{...i,isUpdate:r}),t&&t[0]&&this.store.addResource(t[0],e,n,s))}}function ei(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ni(){}class si extends Nr{constructor(t={},e){if(super(),this.options=ei(t),this.services={},this.logger=kr,this.modules={external:[]},e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout((()=>{this.init(t,e)}),0)}}init(t={},e){function n(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof t&&(e=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function t(e){var n={};if("object"==typeof e[1]&&(n=e[1]),"string"==typeof e[1]&&(n.defaultValue=e[1]),"string"==typeof e[2]&&(n.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){var s=e[3]||e[2];Object.keys(s).forEach((function(t){n[t]=s[t]}))}return n},interpolation:{escapeValue:!0,format:(t,e,n,s)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1},...this.options,...ei(t)},this.format=this.options.interpolation.format,e||(e=ni),!this.options.isClone){this.modules.logger?kr.init(n(this.modules.logger),this.options):kr.init(null,this.options);const t=new Gr(this.options);this.store=new Wr(this.options.resources,this.options);const e=this.services;e.logger=kr,e.resourceStore=this.store,e.languageUtils=t,e.pluralResolver=new Qr(t,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),e.interpolator=new Zr(this.options),e.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},e.backendConnector=new ti(n(this.modules.backend),e.resourceStore,e,this.options),e.backendConnector.on("*",((t,...e)=>{this.emit(t,...e)})),this.modules.languageDetector&&(e.languageDetector=n(this.modules.languageDetector),e.languageDetector.init(e,this.options.detection,this.options)),this.modules.i18nFormat&&(e.i18nFormat=n(this.modules.i18nFormat),e.i18nFormat.init&&e.i18nFormat.init(this)),this.translator=new zr(this.services,this.options),this.translator.on("*",((t,...e)=>{this.emit(t,...e)})),this.modules.external.forEach((t=>{t.init&&t.init(this)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=(...e)=>this.store[t](...e)}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=(...e)=>(this.store[t](...e),this)}));const s=Pr(),r=()=>{const t=(t,n)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(n),e(t,n)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?r():setTimeout(r,0),s}loadResources(t,e=ni){let n=e,s="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&"cimode"===s.toLowerCase())return n();const t=[],e=e=>{if(!e)return;const n=this.services.languageUtils.toResolveHierarchy(e);n.forEach((e=>{t.indexOf(e)<0&&t.push(e)}))};if(s)e(s);else{const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.forEach((t=>e(t)))}this.options.preload&&this.options.preload.forEach((t=>e(t))),this.services.backendConnector.load(t,this.options.ns,n)}else n(null)}reloadResources(t,e,n){const s=Pr();return t||(t=this.languages),e||(e=this.options.ns),n||(n=ni),this.services.backendConnector.reload(t,e,(t=>{s.resolve(),n(t)})),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&qr.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}changeLanguage(t,e){this.isLanguageChangingTo=t;const n=Pr();this.emit("languageChanging",t);const s=(t,s)=>{s?(this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,n.resolve(((...t)=>this.t(...t))),e&&e(t,((...t)=>this.t(...t)))},r=e=>{t||e||!this.services.languageDetector||(e=[]);const n="string"==typeof e?e:this.services.languageUtils.getBestMatchFromCodes(e);n&&(this.language||(this.language=n,this.languages=this.services.languageUtils.toResolveHierarchy(n)),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(t=>{s(t,n)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(t):r(this.services.languageDetector.detect()),n}getFixedT(t,e,n){const s=(t,e,...r)=>{let i;i="object"!=typeof e?this.options.overloadTranslationOptionHandler([t,e].concat(r)):{...e},i.lng=i.lng||s.lng,i.lngs=i.lngs||s.lngs,i.ns=i.ns||s.ns;const o=this.options.keySeparator||".",a=n?`${n}${o}${t}`:t;return this.t(a,i)};return"string"==typeof t?s.lng=t:s.lngs=t,s.ns=e,s.keyPrefix=n,s}t(...t){return this.translator&&this.translator.translate(...t)}exists(...t){return this.translator&&this.translator.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,e={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=this.languages[0],s=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(t,e)=>{const n=this.services.backendConnector.state[`${t}|${e}`];return-1===n||2===n};if(e.precheck){const t=e.precheck(this,i);if(void 0!==t)return t}return!!this.hasResourceBundle(n,t)||(!this.services.backendConnector.backend||!(!i(n,t)||s&&!i(r,t)))}loadNamespaces(t,e){const n=Pr();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)})),this.loadResources((t=>{n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}loadLanguages(t,e){const n=Pr();"string"==typeof t&&(t=[t]);const s=this.options.preload||[],r=t.filter((t=>s.indexOf(t)<0));return r.length?(this.options.preload=s.concat(r),this.loadResources((t=>{n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}createInstance(t={},e){return new si(t,e)}cloneInstance(t={},e=ni){const n={...this.options,...t,isClone:!0},s=new si(n);return["store","services","language"].forEach((t=>{s[t]=this[t]})),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new zr(s.services,s.options),s.translator.on("*",((t,...e)=>{s.emit(t,...e)})),s.init(n,e),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}const ri=new si,ii=ri;!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.I18N_DECLARE=9007199254740991]="I18N_DECLARE",void(t[t.ERROR_I18N_CORE_LAYER=CDP_DECLARE.DECLARE_ERROR_CODE(100,41,"i18next error")]="ERROR_I18N_CORE_LAYER")}();const oi=Z(globalThis.navigator);class ai{constructor(){this.type="backend",this._options={},this._fallbackMap={}}init(t,e,n){this._services=t,this._options=Object.assign({loadPath:"res/locales/{{ns}}.{{lng}}.json"},this._options,e),this._fallbackMap=Object.assign(this._fallbackMap,n.fallbackResources)}read(t,e,n){const s=this._fallbackMap[t]||t,r=g(this._options.loadPath)?this._options.loadPath([s],[e]):this._options.loadPath,i=this.resolveUrl(r,{lng:s,ns:e});this.loadUrl(i,n)}resolveUrl(t,e){return Sr(this._services.interpolator.interpolate(t,e,void 0,void 0))}loadUrl(t,e){void(async()=>{try{const n=await Un.json(t,void 0,this._options);e(null,n)}catch(n){const s=Ne(n),r=`failed loading: ${t}, ${s.message}`;if(_e.ERROR_AJAX_RESPONSE===s.code&&s.cause){const t=s.cause.status;if(500<=t&&t<600)return e(r,!0);if(400<=t&&t<500)return e(r,!1)}e(r,!1)}})()}}function ci(t,e){const{selectorAttr:n,targetAttr:s,optionsAttr:r,useOptionsAttr:i,parseDefaultValueFromContent:o,customTagName:a}=t,c=(t,e)=>o?{...t,defaultValue:e}:t,l=(t,n,s,r)=>{const i=e.t(s,c(r,n.html()));if(!1===a)n[t](i);else{const e=`<${a}>${i}</${a}>`,s=rs(n[0].firstElementChild);s.is(a)?s.replaceWith(e):n[t](e)}},u=(t,n,s)=>{let r="text";if(n.startsWith("[")){const t=n.split("]");n=t[1].trim(),r=t[0].substr(1,t[0].length-1).trim()}if("html"===r)t.html(e.t(n,c(s,t.html())));else if("text"===r)t.text(e.t(n,c(s,t.text())));else if("prepend"===r)l("prepend",t,n,s);else if("append"===r)l("append",t,n,s);else if(r.startsWith("data-")){const i=r.substr("data-".length),o=e.t(n,c(s,t.data(i)));t.data(i,o),t.attr(r,o)}else t.attr(r,e.t(n,c(s,t.attr(r))))},h=(t,e)=>{const o=t.attr(n);if(!o)return;let a=t;const c=t.data(s);c&&(a=t.find(c)),e||!0!==i||(e=t.data(r)),e=e||{};for(const t of o.split(";")){const n=t.trim();""!==n&&u(a,n,e)}if(!0===i){const n={...e};delete n.lng,t.data(r,n)}};rs.fn.localize=function f(t){return this.each(((e,s)=>{const r=rs(s);h(r,t);const i=r.find(`[${n}]`);i.each(((e,n)=>{h(rs(n),t)}))}))}}ai.type="backend";const li=ii.t.bind(ii),ui=()=>ii.language||oi.language;class hi{constructor(t){this._broker=new Ft,x("instanceOf",Storage,t),this._storage=t}get kind(){const t=localStorage===this._storage?"local-storage":"session-storage";return`web:${t}`}async getItem(t,e){return dt(await wn(this._storage[t],e))}async setItem(t,e,n){n=n||{};const s=dt(e,!0),r=dt(await wn(this._storage[t],n));C(r,s)||(this._storage.setItem(t,await vn(s,n)),!n.silent&&this._broker.trigger("@",t,s,r))}async removeItem(t,e){e=e||{},await ae(e.cancel);const n=this._storage[t];void 0!==n&&(this._storage.removeItem(t),!e.silent&&this._broker.trigger("@",t,null,await wn(n,e)))}async clear(t){t=t||{},await ae(t.cancel),0<this._storage.length&&(this._storage.clear(),!t.silent&&this._broker.trigger("@",null,null,null))}async keys(t){return await ae(t&&t.cancel),Object.keys(this._storage)}on(t){return this._broker.on("@",t)}off(t){this._broker.off("@",t)}}const fi=new hi(localStorage);!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_SYNC_DECLARE=9007199254740991]="MVC_SYNC_DECLARE",t[t.ERROR_MVC_INVALID_SYNC_PARAMS=CDP_DECLARE.DECLARE_ERROR_CODE(100,61,"invalid sync params.")]="ERROR_MVC_INVALID_SYNC_PARAMS",t[t.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY=CDP_DECLARE.DECLARE_ERROR_CODE(100,62,"invalid sync storage entires.")]="ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY",void(t[t.ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND=CDP_DECLARE.DECLARE_ERROR_CODE(100,63,"data not found.")]="ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND")}();const di=new class pi{get kind(){return"null"}async sync(t,e,n){const{cancel:s}=n||{};await ae(s);const r=Promise.resolve("read"===t?{}:void 0);return e.trigger("@request",e,r),r}};function gi(t){return Y(t,"url")}const mi={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};const yi=new class bi{get kind(){return"rest"}sync(t,e,n){const s=Object.assign({dataType:"json"},n),r=s.url||gi(e);if(!r)throw Pe(_e.ERROR_MVC_INVALID_SYNC_PARAMS,'A "url" property or function must be specified.');s.method=mi[t],null!=s.data||"create"!==t&&"update"!==t&&"patch"!==t||(s.data=e.toJSON());const i=Mn(r,s);return e.trigger("@request",e,i),i}};function _i(t,e){const n=function s(t){return!!t.constructor.idAttribute}(t),r=gi(t),i=t.constructor.idAttribute,o=(()=>{const e={};if(n){const n=!!g(t.has)&&t.has(i);e[i]=n?t.id:function s(t){return`${t}:${Date.now().toString(36)}`}(r)}return e})();return{model:n,url:r,key:`${r}${n?`${e}${o[i]}`:""}`,data:o}}class vi{constructor(t,e){this._storage=t,this._separator=e?.separator||"::"}getStorage(){return this._storage}setStorage(t){return this._storage=t,this}setIdSeparator(t){const e=this._separator;return this._separator=t,e}get kind(){return"storage"}async sync(t,e,n){const{model:s,key:r,url:i,data:o}=_i(e,this._separator);if(!i)throw Pe(_e.ERROR_MVC_INVALID_SYNC_PARAMS,'A "url" property or function must be specified.');let a;switch(t){case"create":{const t=k({data:o},n);a=await this.update(r,e,i,o[Object.keys(o)[0]],t);break}case"update":case"patch":a=await this.update(r,e,i,e.id,n);break;case"delete":a=await this.destroy(r,e,i,n);break;case"read":if(a=await this.find(s,r,i,n),null==a)throw Pe(_e.ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND,`method: ${t}`);break;default:throw Pe(_e.ERROR_MVC_INVALID_SYNC_PARAMS,`unknown method: ${t}`)}return e.trigger("@request",e,Promise.resolve(a)),a}async queryEntries(t,e){const n=await this._storage.getItem(t,e);if(null==n)return{ids:!0,items:[]};if(h(n))return{ids:!n.length||a(n[0]),items:n};throw Pe(_e.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY,"entry is not Array type.")}saveEntries(t,e,n){return this._storage.setItem(t,e,n)}async find(t,e,n,s){if(t)return this._storage.getItem(e,s);try{const{ids:t,items:e}=await this.queryEntries(n,s);if(t){const t=[];for(const r of e){const e=await this._storage.getItem(`${n}${this._separator}${r}`,s);e&&t.push(e)}return t}return e}catch(t){const n=Ne(t);if(_e.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY===n.code)return this._storage.getItem(e,s);throw t}}async update(t,e,n,s,r){const{data:i}=r||{},o=Object.assign(e.toJSON(),i);if(await this._storage.setItem(t,o,r),t!==n){const{ids:t,items:e}=await this.queryEntries(n,r);t&&s&&!e.includes(s)&&(e.push(s),await this.saveEntries(n,e,r))}return this.find(!0,t,n,r)}async destroy(t,e,n,s){const r=await this._storage.getItem(t,s);if(await this._storage.removeItem(t,s),t!==n){const{ids:t,items:r}=await this.queryEntries(n,s);if(t&&e.id){const t=r.filter((t=>t!==e.id));await this.saveEntries(n,t,s)}}return r}}const wi=(t,e)=>new vi(t,e),Ei=wi(fi);let Oi=di;function xi(t){if(null==t)return Oi;{const e=Oi;return Oi=t,e}}!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_MODEL_DECLARE=9007199254740991]="MVC_MODEL_DECLARE",void(t[t.ERROR_MVC_INVALID_DATA=CDP_DECLARE.DECLARE_ERROR_CODE(100,66,"invalid data.")]="ERROR_MVC_INVALID_DATA")}();const Si=Symbol("define"),Ri=Symbol("update"),Ci=Symbol("validate"),Ti=Symbol("onchange"),Ai=Symbol("broker"),Li=Symbol("properties"),ki=Object.freeze(Pe(_e.SUCCESS,"valid attribute."));class Ni extends qt{constructor(t,e){super();const n=Object.assign({},e),s=n.parse?this.parse(t,n):t,r={attrs:ge.from(s),baseAttrs:{...s},prevAttrs:{...s},cid:mt("model:",8),options:n,changeFired:!1};Object.defineProperty(this,Li,{value:r});for(const t of Object.keys(s))this[Si](this,t);this[Ti]=()=>{this.trigger("@change",this);const{_prevAttrs:t,_attrs:e}=this,n=Object.keys(J(t,e));for(const s of n)this.trigger(`@change:${s}`,this,e[s],t[s],s);this[Li].changeFired=!0},this[Ci]({},n)}[Ri](t,e){if(!C(this._attrs[t],e)){const{attrs:n,changeFired:s}=this[Li];s&&(this[Li].changeFired=!1,this[Li].prevAttrs={...n}),delete this[Li].changedAttrs,this._prevAttrs[t]=n[t],n[t]=e}}[Si](t,e){const n=t.constructor.prototype;e in n||Object.defineProperty(n,e,{get(){return this._attrs[e]},set(t){this[Ri](e,t)},enumerable:!0,configurable:!0})}get id(){const t=Di(this,"id"),{cid:e,attrs:n}=this[Li];return t in n&&n[t]||e}get _attrs(){return this[Li].attrs}get _baseAttrs(){return this[Li].baseAttrs}get _prevAttrs(){return this[Li].prevAttrs}get _changedAttrs(){return null==this[Li].changedAttrs&&(this[Li].changedAttrs=J(this._baseAttrs,this._attrs)),this[Li].changedAttrs}get _cid(){return this[Li].cid}get _options(){return this[Li].options}get $(){return this}get[Ai](){return this._attrs.getBroker()}hasListener(t,e){return this[Ai].hasListener(t,e)}channels(){return this[Ai].channels().filter((t=>"@"!==t))}trigger(t,...e){this[Ai].trigger(t,...e)}off(t,e){this._attrs.off(t,e)}on(t,e){return this._attrs.on("@",this[Ti]),this._attrs.on(t,e)}once(t,e){const n=this.on(t,e),s=this.on(t,(()=>{n.unsubscribe(),s.unsubscribe()}));return n}get isValid(){return Se(this.validate({silent:!0}).code)}validate(t){const e=Object.assign({validate:!0,noThrow:!0,extend:!1},t);return this[Ci]({},e)}validateAttributes(t,e){return ki}[Ci](t,e){const{validate:n,silent:s,noThrow:r}=e||{};if(n){const n={...this._attrs,...t},i=this.validateAttributes(n,e);if(xe(i.code)&&(s||this.trigger("@invalid",this,n,i),!r))throw i;return i}return ki}has(t){return null!=this._attrs[t]}escape(t){return lt(this._attrs[t])}setAttributes(t,e){const{silent:n,extend:s}=e||{};try{n&&this._attrs.suspend(!0);const r=this[Ci](t,e);if(xe(r.code))return this;for(const e of Object.keys(t))e in this._attrs?this[Ri](e,t[e]):s&&(this[Si](this,e),this[Ri](e,t[e]))}finally{n&&this._attrs.resume()}return this}clear(t){const e={};for(const t of Object.keys(this._baseAttrs))e[t]=void 0;return this.setAttributes(e,t)}toJSON(){return N({...this._attrs})}clone(){const{constructor:t,_attrs:e,_options:n}=this;return new t(e,n)}hasChanged(t){return null==t?!p(this._changedAttrs):t in this._changedAttrs}changed(t){if(t){const e=J(this._attrs,t);return p(e)?void 0:e}return this.hasChanged()?{...this._changedAttrs}:void 0}previous(t){return this._prevAttrs[t]}isNew(){const t=Di(this,"id");return!this.has(t)}parse(t,e){return t}sync(t,e,n){return xi().sync(t,e,n)}async fetch(t){const e=Object.assign({parse:!0},t,{syncMethod:"read"});try{const t=await this.sync("read",this,e);return this.setAttributes(e.parse?this.parse(t,e):t,e),this.trigger("@sync",this,t,e),t}catch(t){throw this.trigger("@error",this,t,e),t}}async save(...t){const{attrs:e,options:n}=function s(...t){let e,[n,s,r]=t;return null==n||f(n)?(e=n,r=s):(e={})[n]=s,r&&r.data&&(e=Object.assign(e||{},r.data)),{attrs:e,options:r}}(...t),r=Object.assign({validate:!0,parse:!0,wait:!0,extend:!0},n);try{const{wait:t}=r,n=r.syncMethod=this.isNew()?"create":r.patch?"patch":"update";e&&(t?this[Ci](e,r):(this.setAttributes(e,r),this[Li].baseAttrs={...this._attrs}),r.data="patch"===n?e:Object.assign(this.toJSON(),e));const s=await this.sync(n,this,r);let i=r.parse?this.parse(s,r):s;return e&&t&&(i=Object.assign({},e,i)),f(i)&&!p(i)&&(this.setAttributes(i,r),this[Li].baseAttrs={...this._attrs}),this.trigger("@sync",this,s,r),s}catch(t){throw this.trigger("@error",this,t,r),t}}async destroy(t){const e=Object.assign({wait:!0},t,{syncMethod:"delete"});try{const{wait:t,cancel:n}=e,s=!this.isNew(),r=()=>{this.stopListening(),this.trigger("@destroy",this,e)};let i;return!t&&r(),s?i=await this.sync("delete",this,e):await ae(n),t&&r(),s&&this.trigger("@sync",this,i,e),i}catch(t){throw this.trigger("@error",this,t,e),t}}}function Pi(t){return t instanceof Ni}function Di(t,e=""){return f(t)&&t.constructor.idAttribute||e}Ni.idAttribute="id",W(Ni,"instanceOf",null),function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_COLLECTION_DECLARE=9007199254740991]="MVC_COLLECTION_DECLARE",t[t.ERROR_MVC_INVALID_ACCESS=CDP_DECLARE.DECLARE_ERROR_CODE(100,71,"invalid access.")]="ERROR_MVC_INVALID_ACCESS",t[t.ERROR_MVC_INVALID_COMPARATORS=CDP_DECLARE.DECLARE_ERROR_CODE(100,72,"invalid comparators.")]="ERROR_MVC_INVALID_COMPARATORS",void(t[t.ERROR_MVC_EDIT_PERMISSION_DENIED=CDP_DECLARE.DECLARE_ERROR_CODE(100,73,"editing permission denied.")]="ERROR_MVC_EDIT_PERMISSION_DENIED")}();let ji=()=>new Intl.Collator(ui(),{sensitivity:"base",numeric:!0});function $i(t,e){return(n,s)=>{const r=null!=n[t]?n[t]:"",i=null!=s[t]?s[t]:"";return e*ji().compare(r,i)}}function Mi(t,e){return(n,s)=>{const r=n[t],i=s[t];if(r===i)return 0;if(null==r)return-1*e;if(null==i)return 1*e;{const t=Object(r).valueOf(),n=Object(i).valueOf();return t===n?0:t<n?-1*e:1*e}}}function Ii(t,e){return(n,s)=>n[t]===s[t]?0:null==n[t]?-1*e:null==s[t]?1*e:n[t]<s[t]?-1*e:1*e}const Vi=Ii,Ui=Ii;function Fi(t){const{name:e,type:n,order:s}=t;switch(n){case"string":return $i(e,s);case"boolean":return Vi(e,s);case"number":return Ui(e,s);case"date":return Mi(e,s);default:return Ii(e,s)}}function Bi(t){const e=[];for(const n of t)e.push(Fi(n));return e}const{trunc:Hi}=Math;function Wi(t,e){return new Promise((n=>{const s=r=>{t.off(s),e&&(e.length=0,e.push(...t)),n(r)};t.on(s)}))}async function qi(t,e){if(t instanceof be)return await ae(e),{editor:t,promise:Wi(t)};if(Array.isArray(t)){const n=be.from(t);return await ae(e),{editor:n,promise:Wi(n,t)}}throw Pe(_e.NOT_SUPPORTED,"target is not Array or ObservableArray.")}function Ki(t,e){if(null==e||e.length<=0)return!1;for(const n of e)if(n<0||t<=n||Hi(n)!==n)throw Pe(_e.NOT_SUPPORTED,`orders[] index is invalid. index: ${n}`);return!0}async function zi(t,e){if(t.length<=0)return[];const{editor:n,promise:s}=await qi(t,e);return n.splice(0,t.length),s}async function Ji(t,e,n){if(null==e||e.length<=0)return[];const{editor:s,promise:r}=await qi(t,n);return s.push(...e),r}async function Gi(t,e,n,s){if(e<0||t.length<e||Hi(e)!==e)throw Pe(_e.NOT_SUPPORTED,`insertArray(), index is invalid. index: ${e}`);if(null==n||n.length<=0)return[];const{editor:r,promise:i}=await qi(t,s);return r.splice(e,0,...n),i}async function Yi(t,e,n,s){if(e<0||t.length<e||Hi(e)!==e)throw Pe(_e.NOT_SUPPORTED,`reorderArray(), index is invalid. index: ${e}`);if(!Ki(t.length,n))return[];const{editor:r,promise:i}=await qi(t,s);let o=Array.from(r);{const t=[];for(const e of Tt(n))t.push(r[e]),o[e]=null;o.splice(e,0,...t),o=o.filter((t=>null!=t))}for(const t of o.keys())r[t]=o[t];return i}async function Xi(t,e,n){if(!Ki(t.length,e))return[];const{editor:s,promise:r}=await qi(t,n);e.sort(((t,e)=>t<e?1:-1));for(const t of Tt(e))s.splice(t,1);return r}function Qi(t,e){return n=>n[t]===e}function Zi(t,e){return n=>n[t]!==e}function to(t,e){return n=>n[t]>e}function eo(t,e){return n=>n[t]<e}function no(t,e){return n=>n[t]>=e}function so(t,e){return n=>n[t]<=e}function ro(t,e){return n=>String(n[t]).toLocaleLowerCase().includes(e.toLocaleLowerCase())}function io(t,e){return n=>!String(n[t]).toLocaleLowerCase().includes(e.toLocaleLowerCase())}function oo(t,e,n){return s=>{const r=Dt(new Date,-1*e,n);return r<=s[t]}}function ao(t,e,n){return s=>{const r=Dt(new Date,-1*e,n);return!(r<=s[t])}}function co(t,e,n){return lo(0,no(t,e),so(t,n))}function lo(t,e,n){return n?s=>{switch(t){case 0:return e(s)&&n(s);case 1:return e(s)||n(s);default:return void 0,e(s)&&n(s)}}:e}class uo{constructor(t={operators:[]}){const{operators:e,combination:n,sumKeys:s,limit:r,random:i,sortKeys:o}=t;this._operators=e,this._combination=null!=n?n:0,this._sumKeys=null!=s?s:[],this._limit=r,this._random=!!i,this._sortKeys=o||[]}get operators(){return this._operators}set operators(t){this._operators=t}get sumKeys(){return this._sumKeys}set sumKeys(t){this._sumKeys=t}get combination(){return this._combination}set combination(t){this._combination=t}get limit(){return this._limit}set limit(t){this._limit=t}get random(){return this._random}set random(t){this._random=t}get sortKeys(){return this._sortKeys}set sortKeys(t){this._sortKeys=t}get comparators(){return Bi(this._sortKeys)}get filter(){let t;for(const e of this._operators){const{operator:n,prop:s,value:r}=e;switch(n){case 0:t=lo(this._combination,Qi(s,r),t);break;case 1:t=lo(this._combination,Zi(s,r),t);break;case 2:t=lo(this._combination,to(s,r),t);break;case 3:t=lo(this._combination,eo(s,r),t);break;case 4:t=lo(this._combination,no(s,r),t);break;case 5:t=lo(this._combination,so(s,r),t);break;case 6:t=lo(this._combination,ro(s,r),t);break;case 7:t=lo(this._combination,io(s,r),t);break;case 8:t=lo(this._combination,oo(s,r,e.unit),t);break;case 9:t=lo(this._combination,ao(s,r,e.unit),t);break;case 10:t=lo(this._combination,co(s,r,e.range),t)}}return t||(()=>!0)}}const{trunc:ho}=Math;function fo(t,e,...n){let s=g(e)?t.filter(e):t.slice();for(const t of n)g(t)&&(s=Ct(s,t));return s}const po={0:null,1:{coeff:1},2:{coeff:1e3},3:{coeff:6e4},4:{coeff:36e5},5:{coeff:864e5},6:{coeff:1024},7:{coeff:1048576},8:{coeff:1073741824},9:{coeff:1099511627776}};function go(t,e){const{random:n,limit:s,sumKeys:r}=e;if(n&&Rt(t,!0),s){const{unit:e,value:n,prop:r}=s,i=[],o=po[e],a=n,c=!!s.excess;let l=0;for(const e of t){if(o){if(null==e[r]){void 0;continue}l+=Number(e[r])/o.coeff}else l++;if(a<l){c&&i.push(e);break}i.push(e)}t=i}const i={total:t.length,items:t};if(0<r.length)for(const e of t)for(const t of r)t in i||(i[t]=0),i[t]+=Number(e[t]);return i}async function mo(t,e){const{filter:n,comparators:s,index:r,limit:i,cancel:o,progress:a,auto:c,noSearch:l}=e;if(!t.length)return{total:0,items:[],options:e};const u=l?t.slice():fo(t,n,...s),h=[];let f=null!=r?r:0;for(;;){if(await ae(o),f<0||u.length<=f||ho(f)!==f)throw Pe(_e.ERROR_MVC_INVALID_ACCESS,`invalid index: ${f}`);if(null!=i&&(i<=0||ho(i)!==i))throw Pe(_e.ERROR_MVC_INVALID_ACCESS,`invalid limit: ${i}`);const t=Object.assign(e,{index:f}),n=u.slice(f,null!=i?f+i:void 0);h.push(...n);const s={total:u.length,items:n,options:{...t}};if(g(a)&&a({...s}),c&&null!=i){if(!(u.length<=f+i)){f+=n.length;continue}s.items=h}return s}}function yo(t,e,n){const{noCache:s,noSearch:r}=n,i=!s&&!r&&e.total&&e.total===e.items.length;i&&(t.cache={...e},delete t.cache.options)}async function bo(t,e,n){const s=function r(t){const e=Object.assign({sortKeys:[]},t),{noSearch:n,sortKeys:s}=e;return n||e.comparators&&!(e.comparators.length<=0)||(e.comparators=Bi(s)),e}(n),{sortKeys:i,comparators:o,filter:a}=s;return Object.assign(t,{sortKeys:i,comparators:o,filter:a}),t.cache?(await mo(t.cache.items,s)).items:(await async function c(t,e,n){const{index:s,limit:r,cancel:i,progress:o,auto:a}=n,c=[],l=t=>{const e=!!t.options?.condition;return e||t.total===t.items.length};let u=null!=s?s:0;for(;;){if(await ae(i),u<0||ho(u)!==u)throw Pe(_e.ERROR_MVC_INVALID_ACCESS,`invalid index: ${u}`);if(null!=r&&(r<=0||ho(r)!==r))throw Pe(_e.ERROR_MVC_INVALID_ACCESS,`invalid limit: ${r}`);const s=Object.assign(n,{index:u});let h=await e(s);const f=Object.assign({},s,h.options);if(l(h)){yo(t,h,f);const{noSearch:e,condition:n}=f;if(n){const e=new uo(n);h=go(fo(h.items,e.filter,...e.comparators),e),t.cache&&(Object.assign(t.cache,h),delete t.cache.options)}return mo(h.items,Object.assign(s,{noSearch:e}))}{c.push(...h.items);const e={total:h.total,items:h.items,options:f};if(g(o)&&o({...e}),a&&null!=r){if(!(h.total<=u+r)){u+=h.items.length;continue}e.items=c}return yo(t,e,f),e}}}(t,e,s)).items}const _o=Symbol("properties"),vo=Symbol("create-iterable-iterator"),wo=Symbol("prepare-model"),Eo=Symbol("remove-models"),Oo=Symbol("add-reference"),xo=Symbol("remove-reference"),So=Symbol("model-event-handler"),Ro=t=>{const{sortKeys:e,comparators:n}=t;return{sortKeys:e||[],comparators:n||Bi(e||[])}},Co=t=>t?.idAttribute||"id",To=(t,e)=>t[Co(e)],Ao=t=>t.constructor.model,Lo=(t,e)=>{const n=Ao(e);return!!g(n)&&t instanceof n},ko=(t,e,n)=>{n=Math.min(Math.max(n,0),t.length),t.splice(n,0,...e)};const No={add:!0,remove:!0,merge:!0},Po={add:!0,remove:!1};class Do extends zt{constructor(t,e){super();const n=Object.assign({modelOptions:{},queryOptions:{}},e),{modelOptions:s,queryOptions:r}=n;this[_o]={constructOptions:n,provider:n.provider||this.sync.bind(this),cid:mt("collection:",8),queryOptions:r,queryInfo:{},modelOptions:s,byId:new Map,store:[]},this.initQueryInfo(),this[So]=(t,e,n,s)=>{if(a(t)&&t.startsWith("@")&&e){if(("@add"===t||"@remove"===t)&&n!==this)return;if("@destroy"===t&&(s=n,n=this,this.remove(e,s)),t.startsWith("@change")&&(s={},n=this,"@change"===t)){const t=((t,e)=>{const n=t,s=Co(e),r=n[s];if(a(r))return{id:n[s],prevId:g(n.previous)?n.previous(s):void 0}})(e,Ao(this));if(t){const{id:n,prevId:s}=t;if(s!==n){const{byId:t}=this[_o];t.set(n,e),null!=s&&t.delete(s)}}}this.trigger.call(this,t,e,n,s)}},t&&this.reset(t,Object.assign({silent:!0},n))}initQueryInfo(){const{sortKeys:t,comparators:e}=Ro(this._defaultQueryOptions);this._queryInfo={sortKeys:t,comparators:e}}release(t){return this[_o].afterFilter=void 0,this[_o].store=[],this.initQueryInfo(),this.stopListening()}clearCache(){delete this._queryInfo.cache}get id(){return this[_o].cid}get models(){const{_queryFilter:t,_afterFilter:e}=this,{store:n}=this[_o];return e&&e!==t?n.filter(e):n}get length(){return this.models.length}get filtered(){return!!this[_o].afterFilter}get _queryInfo(){return this[_o].queryInfo}set _queryInfo(t){this[_o].queryInfo=t}get _options(){return this[_o].constructOptions}get _provider(){return this[_o].provider}get _defaultParse(){return this._options.parse}get _defaultQueryOptions(){return this[_o].queryOptions}get _lastQueryOptions(){const{sortKeys:t,comparators:e,filter:n}=this[_o].queryInfo,s={};return t.length&&(s.sortKeys=t),e.length&&(s.comparators=e),n&&(s.filter=n),s}get _comparators(){return this[_o].queryInfo.comparators}get _queryFilter(){return this[_o].queryInfo.filter}get _afterFilter(){return this[_o].afterFilter}get(t){if(null==t)return;const{byId:e}=this[_o];if(a(t)&&e.has(t))return e.get(t);const n=To(Pi(t)?t.toJSON():t,Ao(this)),s=t._cid;return e.get(n)||s&&e.get(s)}has(t){return null!=this.get(t)}toJSON(){return this.models.map((t=>Pi(t)?t.toJSON():t))}clone(){const{constructor:t,_options:e}=this;return new t(this[_o].store,e)}sort(t){const e=t||{},{noThrow:n,silent:s}=e,{sortKeys:r,comparators:i}=Ro(e),o=0<i.length?i:this._comparators;if(o.length<=0){if(n)return this;throw Pe(_e.ERROR_MVC_INVALID_COMPARATORS,"Cannot sort a set without a comparator.")}return this[_o].store=fo(this[_o].store,this._afterFilter,...o),this[_o].queryInfo.comparators=o,0<r.length&&(this[_o].queryInfo.sortKeys=r),s||this.trigger("@sort",this,e),this}filter(...t){const e=function n(...t){const[e,n]=t;return null==e?{}:g(e)?Object.assign({},n,{filter:e}):e}(...t),{filter:s,silent:r}=e;return s!==this[_o].afterFilter&&(this[_o].afterFilter=s,r||this.trigger("@filter",this,e)),this}at(t){return At(this.models,t)}first(t){const e=this.models;return null==t?e[0]:e.slice(0,t)}last(t){const e=this.models;return null==t?e[e.length-1]:e.slice(-1*t)}parse(t,e){return t}async sync(t){const e=await xi().sync("read",this,t);return{total:e.length,items:e,options:t}}async fetch(t){const e=Object.assign({progress:ot},this._defaultQueryOptions,t);try{const{progress:t,limit:n,reset:s,noCache:r}=e,{_queryInfo:i,_provider:o}=this,a=null==n;e.progress=n=>{t(n),!a&&this.add(n.items,e)},r&&this.clearCache(),!a&&s&&this.reset(void 0,{silent:!0});const c=await bo(i,o,e);return a&&(s?this.reset(c,e):this.add(c,e)),this.trigger("@sync",this,c,e),c}catch(t){throw this.trigger("@error",void 0,this,t,e),t}}requery(t){const e=Object.assign({},this._lastQueryOptions,t,{reset:!0});return this.fetch(e)}set(t,e){if(o(t))return;const n=Object.assign({parse:this._defaultParse},No,e);n.parse&&!Lo(t,this)&&(t=this.parse(t,e)||[]);const s=!h(t),r=s?[t]:t.slice(),{store:i}=this[_o],a=(t=>{if(null!=t)return t>i.length?i.length:t<0?(t+=i.length,t<0?0:t):t})(n.at),c=[],l=[],u=[],f=[],d=new Set,{add:p,merge:m,remove:y,parse:b,silent:_}=n;let v=!1;const w=this._comparators.length&&null==a&&!1!==n.sort;for(const[t,e]of r.entries()){const s=this.get(e);if(s){if(m&&e!==s){let t=Pi(e)?e.toJSON():e;b&&g(s.parse)&&(t=s.parse(t,n)),g(s.setAttributes)?s.setAttributes(t,n):Object.assign(s,t),u.push(s),w&&!v&&(v=!g(s.hasChanged)||s.hasChanged())}d.has(s)||(d.add(s),c.push(s)),r[t]=s}else if(p){const s=r[t]=this[wo](e,n);s&&(l.push(s),this[Oo](s),d.add(s),c.push(s))}}if(y){for(const t of i)d.has(t)||f.push(t);f.length&&this[Eo](f,n)}let E=!1;const O=!w&&p&&y;if(c.length&&O?(E=i.length!==c.length||i.some(((t,e)=>t!==c[e])),i.length=0,ko(i,c,0)):l.length&&(w&&(v=!0),ko(i,l,null==a?i.length:a)),v&&this.sort({silent:!0}),!_){for(const[t,e]of l.entries())null!=a&&(n.index=a+t),Pi(e)||e instanceof Ft?e.trigger("@add",e,this,n):this.trigger("@add",e,this,n);(v||E)&&this.trigger("@sort",this,n),(l.length||f.length||u.length)&&(n.changes={added:l,removed:f,merged:u},this.trigger("@update",this,n))}const x=r.filter((t=>null!=t));return s?x[0]:x.length?x:void 0}reset(t,e){const n=Object.assign({},e),{store:s}=this[_o];for(const t of s)this[xo](t);var r;n.previous=s.slice(),r=this[_o],r.byId.clear(),r.store.length=0;const i=t?this.add(t,Object.assign({silent:!0},n)):[];return n.silent||this.trigger("@reset",this,n),i}add(t,e){return this.set(t,Object.assign({merge:!1},e,Po))}remove(t,e){const n=Object.assign({},e),s=!h(t),r=s?[t]:t.slice(),i=this[Eo](r,n);return!n.silent&&i.length&&(n.changes={added:[],merged:[],removed:i},this.trigger("@update",this,n)),s?i[0]:i}push(t,e){const{store:n}=this[_o];return this.add(t,Object.assign({at:n.length},e))}pop(t){const{store:e}=this[_o];return this.remove(e[e.length-1],t)}unshift(t,e){return this.add(t,Object.assign({at:0},e))}shift(t){const{store:e}=this[_o];return this.remove(e[0],t)}create(t,e){const{wait:n}=e||{},s=this[wo](t,e);if(!s)return;const r=Pi(s)?s:void 0;return n&&r||this.add(s,e),r&&(async()=>{try{await r.save(void 0,e),n&&this.add(s,e)}catch(t){this.trigger("@error",r,this,t,e)}})(),s}[wo](t,e){if(Lo(t,this))return t;const n=Ao(this),{modelOptions:s}=this[_o];if(n){const r=Object.assign({},s,e),i=new n(t,r);if(g(i.validate)){const e=i.validate();if(xe(e.code))return this.trigger("@invalid",t,this,e,r),void 0}return i}return t}[Eo](t,e){const n=Object.assign({},e),s=[];for(const e of t){const t=this.get(e);if(!t)continue;const{store:r}=this[_o],i=r.indexOf(t);r.splice(i,1),this[xo](t,!0),n.silent||(n.index=i,Pi(t)||t instanceof Ft?t.trigger("@remove",t,this,n):this.trigger("@remove",t,this,n)),s.push(t),this[xo](t,!1)}return s}[Oo](t){const{byId:e}=this[_o],{_cid:n,id:s}=t;null!=n&&e.set(n,t),null!=s&&e.set(s,t),(Pi(t)||t instanceof Ut)&&this.listenTo(t,"*",this[So])}[xo](t,e=!1){const{byId:n}=this[_o],{_cid:s,id:r}=t;null!=s&&n.delete(s),null!=r&&n.delete(r),!e&&(Pi(t)||t instanceof Ut)&&this.stopListening(t,"*",this[So])}[Symbol.iterator](){const t={base:this.models,pointer:0,next(){return this.pointer<this.base.length?{done:!1,value:this.base[this.pointer++]}:{done:!0,value:void 0}}};return t}entries(){return this[vo](((t,e)=>[t,e]))}keys(){return this[vo]((t=>t))}values(){return this[vo](((t,e)=>e))}[vo](t){const e={base:this.models,pointer:0},n=t=>To(e.base[t],Ao(this))||String(t),s={next(){const s=e.pointer;return s<e.base.length?(e.pointer++,{done:!1,value:t(n(s),e.base[s])}):{done:!0,value:void 0}},[Symbol.iterator](){return this}};return s}}async function jo(t,e,n){const s=function r(t){if(t.filtered)throw Pe(_e.ERROR_MVC_EDIT_PERMISSION_DENIED,"collection is applied after-filter.");return t.models.slice()}(t),i=await n(s,e?.cancel);return t.set(s,e),i}function $o(t){return t.reduce(((t,e)=>Math.min(t,e)))}function Mo(t,e,n,s,r){const i=!!e.length;return{type:t,list:e,range:i?{from:n,to:s}:void 0,insertedTo:i?r:void 0}}W(Do,"instanceOf",null);const Io=Z(globalThis.document),Vo=Symbol("properties"),Uo=Symbol("ensure-element");Uo;const Fo=new WeakMap,Bo=t=>(...e)=>{const n=t(...e);return Fo.set(n,!0),n},Ho=t=>"function"==typeof t&&Fo.has(t),Wo="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,qo=(t,e,n=null,s=null)=>{for(;e!==n;){const n=e.nextSibling;t.insertBefore(e,s),e=n}},Ko=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},zo={},Jo={},Go=`{{lit-${String(Math.random()).slice(2)}}}`,Yo=`\x3c!--${Go}--\x3e`,Xo=new RegExp(`${Go}|${Yo}`),Qo="$lit$";class Zo{constructor(t,e){this.parts=[],this.element=e;const n=[],s=[],r=document.createTreeWalker(e.content,133,null,!1);let i=0,o=-1,a=0;const{strings:c,values:{length:l}}=t;for(;a<l;){const t=r.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let s=0;for(let t=0;t<n;t++)ta(e[t].name,Qo)&&s++;for(;s-- >0;){const e=c[a],n=sa.exec(e)[2],s=n.toLowerCase()+Qo,r=t.getAttribute(s);t.removeAttribute(s);const i=r.split(Xo);this.parts.push({type:"attribute",index:o,name:n,strings:i}),a+=i.length-1}}"TEMPLATE"===t.tagName&&(s.push(t),r.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(Go)>=0){const s=t.parentNode,r=e.split(Xo),i=r.length-1;for(let e=0;e<i;e++){let n,i=r[e];if(""===i)n=na();else{const t=sa.exec(i);null!==t&&ta(t[2],Qo)&&(i=i.slice(0,t.index)+t[1]+t[2].slice(0,-Qo.length)+t[3]),n=document.createTextNode(i)}s.insertBefore(n,t),this.parts.push({type:"node",index:++o})}""===r[i]?(s.insertBefore(na(),t),n.push(t)):t.data=r[i],a+=i}}else if(8===t.nodeType)if(t.data===Go){const e=t.parentNode;null!==t.previousSibling&&o!==i||(o++,e.insertBefore(na(),t)),i=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(n.push(t),o--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(Go,e+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=s.pop()}for(const t of n)t.parentNode.removeChild(t)}}const ta=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},ea=t=>-1!==t.index,na=()=>document.createComment(""),sa=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class ra{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=Wo?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,s=document.createTreeWalker(t,133,null,!1);let r,i=0,o=0,a=s.nextNode();for(;i<n.length;)if(r=n[i],ea(r)){for(;o<r.index;)o++,"TEMPLATE"===a.nodeName&&(e.push(a),s.currentNode=a.content),null===(a=s.nextNode())&&(s.currentNode=e.pop(),a=s.nextNode());if("node"===r.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,r.name,r.strings,this.options));i++}else this.__parts.push(void 0),i++;return Wo&&(document.adoptNode(t),customElements.upgrade(t)),t}}const ia=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),oa=` ${Go} `;class aa{constructor(t,e,n,s){this.strings=t,this.values=e,this.type=n,this.processor=s}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let s=0;s<t;s++){const t=this.strings[s],r=t.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===t.indexOf("--\x3e",r+1);const i=sa.exec(t);e+=null===i?t+(n?oa:Yo):t.substr(0,i.index)+i[1]+i[2]+Qo+i[3]+Go}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==ia&&(e=ia.createHTML(e)),t.innerHTML=e,t}}class ca extends aa{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,n=e.firstChild;return e.removeChild(n),qo(e,n.firstChild),t}}const la=t=>null===t||!("object"==typeof t||"function"==typeof t),ua=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class ha{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new fa(this)}_getValue(){const t=this.strings,e=t.length-1,n=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!ua(t))return t}let s="";for(let r=0;r<e;r++){s+=t[r];const e=n[r];if(void 0!==e){const t=e.value;if(la(t)||!ua(t))s+="string"==typeof t?t:String(t);else for(const e of t)s+="string"==typeof e?e:String(e)}}return s+=t[e],s}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class fa{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===zo||la(t)&&t===this.value||(this.value=t,Ho(t)||(this.committer.dirty=!0))}commit(){for(;Ho(this.value);){const t=this.value;this.value=zo,t(this)}this.value!==zo&&this.committer.commit()}}class da{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(na()),this.endNode=t.appendChild(na())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=na()),t.__insert(this.endNode=na())}insertAfterPart(t){t.__insert(this.startNode=na()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;Ho(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=zo,t(this)}const t=this.__pendingValue;t!==zo&&(la(t)?t!==this.value&&this.__commitText(t):t instanceof aa?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):ua(t)?this.__commitIterable(t):t===Jo?(this.value=Jo,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t;const n="string"==typeof t?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof ra&&this.value.template===e)this.value.update(t.values);else{const n=new ra(e,t.processor,this.options),s=n._clone();n.update(t.values),this.__commitNode(s),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,s=0;for(const r of t)n=e[s],void 0===n&&(n=new da(this.options),e.push(n),0===s?n.appendIntoPart(this):n.insertAfterPart(e[s-1])),n.setValue(r),n.commit(),s++;s<e.length&&(e.length=s,this.clear(n&&n.endNode))}clear(t=this.startNode){Ko(this.startNode.parentNode,t.nextSibling,this.endNode)}}class pa{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;Ho(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=zo,t(this)}if(this.__pendingValue===zo)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=zo}}class ga extends ha{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new ma(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class ma extends fa{}let ya=!1;(()=>{try{const t={get capture(){return ya=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class ba{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Ho(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=zo,t(this)}if(this.__pendingValue===zo)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),s=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=_a(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=zo}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const _a=t=>t&&(ya?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);const va=new class wa{handleAttributeExpressions(t,e,n,s){const r=e[0];if("."===r){const s=new ga(t,e.slice(1),n);return s.parts}if("@"===r)return[new ba(t,e.slice(1),s.eventContext)];if("?"===r)return[new pa(t,e.slice(1),n)];const i=new ha(t,e,n);return i.parts}handleTextExpression(t){return new da(t)}};function Ea(t){let e=Oa.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Oa.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const s=t.strings.join(Go);return n=e.keyString.get(s),void 0===n&&(n=new Zo(t,t.getTemplateElement()),e.keyString.set(s,n)),e.stringsArray.set(t.strings,n),n}const Oa=new Map,xa=new WeakMap;"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const Sa=(t,...e)=>new aa(t,e,"html",va);var Ra=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(n){e[n]=t[n]&&function(e){return new Promise((function(s,r){e=t[n](e),function i(t,e,n,s){Promise.resolve(s).then((function(e){t({value:e,done:n})}),e)}(s,r,e.done,e.value)}))}}};const Ca=Bo(((t,e)=>async n=>{var s,r;if(!(n instanceof da))throw new Error("asyncAppend can only be used in text bindings");if(t===n.value)return;let i;n.value=t;let o=0;try{for(var a,c=Ra(t);a=await c.next(),!a.done;){let s=a.value;if(n.value!==t)break;0===o&&n.clear(),void 0!==e&&(s=e(s,o));let r=n.startNode;void 0!==i&&(r=na(),i.endNode=r,n.endNode.parentNode.insertBefore(r,n.endNode)),i=new da(n.options),i.insertAfterNode(r),i.setValue(s),i.commit(),o++}}catch(t){s={error:t}}finally{try{a&&!a.done&&(r=c.return)&&await r.call(c)}finally{if(s)throw s.error}}}));var Ta=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(n){e[n]=t[n]&&function(e){return new Promise((function(s,r){e=t[n](e),function i(t,e,n,s){Promise.resolve(s).then((function(e){t({value:e,done:n})}),e)}(s,r,e.done,e.value)}))}}};const Aa=Bo(((t,e)=>async n=>{var s,r;if(!(n instanceof da))throw new Error("asyncReplace can only be used in text bindings");if(t===n.value)return;const i=new da(n.options);n.value=t;let o=0;try{for(var a,c=Ta(t);a=await c.next(),!a.done;){let s=a.value;if(n.value!==t)break;0===o&&(n.clear(),i.appendIntoPart(n)),void 0!==e&&(s=e(s,o)),i.setValue(s),i.commit(),o++}}catch(t){s={error:t}}finally{try{a&&!a.done&&(r=c.return)&&await r.call(c)}finally{if(s)throw s.error}}})),La=new WeakMap,ka=Bo((t=>e=>{if(!(e instanceof da))throw new Error("cache can only be used in text bindings");let n=La.get(e);void 0===n&&(n=new WeakMap,La.set(e,n));const s=e.value;if(s instanceof ra){if(t instanceof aa&&s.template===e.options.templateFactory(t))return e.setValue(t),void 0;{let t=n.get(s.template);void 0===t&&(t={instance:s,nodes:document.createDocumentFragment()},n.set(s.template,t)),qo(t.nodes,e.startNode.nextSibling,e.endNode)}}if(t instanceof aa){const s=e.options.templateFactory(t),r=n.get(s);void 0!==r&&(e.setValue(r.nodes),e.commit(),e.value=r.instance)}e.setValue(t)}));class Na{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach((e=>t+=e+" ")),this.element.setAttribute("class",t)}}}const Pa=new WeakMap,Da=Bo((t=>e=>{if(!(e instanceof fa)||e instanceof ma||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=e,{element:s}=n;let r=Pa.get(e);void 0===r&&(s.setAttribute("class",n.strings.join(" ")),Pa.set(e,r=new Set));const i=s.classList||new Na(s);r.forEach((e=>{e in t||(i.remove(e),r.delete(e))}));for(const e in t){const n=t[e];n!=r.has(e)&&(n?(i.add(e),r.add(e)):(i.remove(e),r.delete(e)))}"function"==typeof i.commit&&i.commit()})),ja=new WeakMap,$a=Bo(((t,e)=>n=>{const s=ja.get(n);if(Array.isArray(t)){if(Array.isArray(s)&&s.length===t.length&&t.every(((t,e)=>t===s[e])))return}else if(s===t&&(void 0!==t||ja.has(n)))return;n.setValue(e()),ja.set(n,Array.isArray(t)?Array.from(t):t)})),Ma=new WeakMap,Ia=Bo((t=>e=>{const n=Ma.get(e);if(void 0===t&&e instanceof fa){if(void 0!==n||!Ma.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==n&&e.setValue(t);Ma.set(e,t)})),Va=(t,e)=>{const n=t.startNode.parentNode,s=void 0===e?t.endNode:e.startNode,r=n.insertBefore(na(),s);n.insertBefore(na(),s);const i=new da(t.options);return i.insertAfterNode(r),i},Ua=(t,e)=>(t.setValue(e),t.commit(),t),Fa=(t,e,n)=>{const s=t.startNode.parentNode,r=n?n.startNode:t.endNode,i=e.endNode.nextSibling;i!==r&&qo(s,e.startNode,i,r)},Ba=t=>{Ko(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},Ha=(t,e,n)=>{const s=new Map;for(let r=e;r<=n;r++)s.set(t[r],r);return s},Wa=new WeakMap,qa=new WeakMap,Ka=Bo(((t,e,n)=>{let s;return void 0===n?n=e:void 0!==e&&(s=e),e=>{if(!(e instanceof da))throw new Error("repeat can only be used in text bindings");const r=Wa.get(e)||[],i=qa.get(e)||[],o=[],a=[],c=[];let l,u,h=0;for(const e of t)c[h]=s?s(e,h):h,a[h]=n(e,h),h++;let f=0,d=r.length-1,p=0,g=a.length-1;for(;f<=d&&p<=g;)if(null===r[f])f++;else if(null===r[d])d--;else if(i[f]===c[p])o[p]=Ua(r[f],a[p]),f++,p++;else if(i[d]===c[g])o[g]=Ua(r[d],a[g]),d--,g--;else if(i[f]===c[g])o[g]=Ua(r[f],a[g]),Fa(e,r[f],o[g+1]),f++,g--;else if(i[d]===c[p])o[p]=Ua(r[d],a[p]),Fa(e,r[d],r[f]),d--,p++;else if(void 0===l&&(l=Ha(c,p,g),u=Ha(i,f,d)),l.has(i[f]))if(l.has(i[d])){const t=u.get(c[p]),n=void 0!==t?r[t]:null;if(null===n){const t=Va(e,r[f]);Ua(t,a[p]),o[p]=t}else o[p]=Ua(n,a[p]),Fa(e,n,r[f]),r[t]=null;p++}else Ba(r[d]),d--;else Ba(r[f]),f++;for(;p<=g;){const t=Va(e,o[g+1]);Ua(t,a[p]),o[p++]=t}for(;f<=d;){const t=r[f++];null!==t&&Ba(t)}Wa.set(e,o),qa.set(e,c)}})),za=new WeakMap,Ja=Bo((t=>e=>{if(!(e instanceof fa)||e instanceof ma||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=e,{style:s}=n.element;let r=za.get(e);void 0===r&&(s.cssText=n.strings.join(" "),za.set(e,r=new Set)),r.forEach((e=>{e in t||(r.delete(e),-1===e.indexOf("-")?s[e]=null:s.removeProperty(e))}));for(const e in t)r.add(e),-1===e.indexOf("-")?s[e]=t[e]:s.setProperty(e,t[e])})),Ga=new WeakMap,Ya=Bo((t=>e=>{if(!(e instanceof da))throw new Error("unsafeHTML can only be used in text bindings");const n=Ga.get(e);if(void 0!==n&&la(t)&&t===n.value&&e.value===n.fragment)return;const s=document.createElement("template");s.innerHTML=t;const r=document.importNode(s.content,!0);e.setValue(r),Ga.set(e,{value:t,fragment:r})})),Xa=new WeakMap,Qa=2147483647,Za=Bo(((...t)=>e=>{let n=Xa.get(e);void 0===n&&(n={lastRenderedIndex:Qa,values:[]},Xa.set(e,n));const s=n.values;let r=s.length;n.values=t;for(let i=0;i<t.length&&!(i>n.lastRenderedIndex);i++){const o=t[i];if(la(o)||"function"!=typeof o.then){e.setValue(o),n.lastRenderedIndex=i;break}i<r&&o===s[i]||(n.lastRenderedIndex=Qa,r=0,Promise.resolve(o).then((t=>{const s=n.values.indexOf(o);s>-1&&s<n.lastRenderedIndex&&(n.lastRenderedIndex=s,e.setValue(t),e.commit())})))}})),tc={asyncAppend:Ca,asyncReplace:Aa,cache:ka,classMap:Da,guard:$a,ifDefined:Ia,repeat:Ka,styleMap:Ja,unsafeHTML:Ya,until:Za},ec=t=>e=>nc(e,t);function nc(t,e){const n=[],s=[];let r=t,i=r.indexOf(e.delimiter.start);for(;i>=0;){if(r.indexOf(e.delimiter.end,i)<0)throw new Error(`missing end delimiter at: '${r}'`);n.push(r.substring(0,i));const t=sc(r.substring(i+e.delimiter.start.length),e);if(t.insertionPoint)r=t.remainingTmplStr,s.push(t.insertionPoint),i=r.indexOf(e.delimiter.start);else{const s=n.pop();r=s+t.remainingTmplStr,i=r.indexOf(e.delimiter.start,s.length)}}return n.push(r),t=>e.html(n,...s.map((e=>e(t))))}function sc(t,e){const n=Object.values(e.transformers).find((n=>n.test(t,e))),s=n?n.transform:e.transformVariable;return s(t,e)}function rc(t,e){if("."===e)return t;let n=t;for(let t of e.split(".")){if(!n.hasOwnProperty(t))return"";n=n[t]}return n}function ic(t,e){return function n(t){return null==t?"":""+t}(rc(t,e))}const oc=(t,{delimiter:e})=>{const n=t.indexOf(e.end),s=t.substring(0,n);return{remainingTmplStr:t.substring(n+e.end.length),insertionPoint:t=>ic(t,s)}},ac=t=>({test:t=>"{"===t[0],transform:(e,{delimiter:n})=>{const s=e.indexOf("}"+n.end);if(s<0)throw new Error(`missing end delimiter at: '${n.start}${e}'`);const r=e.substring(1,s);return{remainingTmplStr:e.substring(s+1+n.end.length),insertionPoint:e=>t(ic(e,r))}}});function cc(t){return[null,void 0,!1,0,NaN,""].some((e=>e===t))||t.length&&0===t.length}function lc(t,e){const n=t.indexOf(e.end),s=t.substring(1,n),r=`${e.start}/${s}${e.end}`,i=t.indexOf(r);if(i<0)throw new Error(`missing end delimiter at: '${e.start}${t}'`);return{dataKey:s,innerTmpl:t.substring(n+e.start.length,i),remainingTmplStr:t.substring(i+r.length)}}const uc=()=>({test:t=>"#"===t[0],transform:(t,e)=>{const n=lc(t,e.delimiter),s=nc(n.innerTmpl,e);return{remainingTmplStr:n.remainingTmplStr,insertionPoint:t=>{const e=rc(t,n.dataKey);return cc(e)?"":e.map?e.map((t=>s(t))):s(t)}}}}),hc=()=>({test:t=>"^"===t[0],transform:(t,{delimiter:e})=>{const n=lc(t,e);return{remainingTmplStr:n.remainingTmplStr,insertionPoint:t=>cc(rc(t,n.dataKey))?n.innerTmpl:""}}}),fc=()=>({test:t=>"!"===t[0],transform:(t,{delimiter:e})=>({remainingTmplStr:t.substring(t.indexOf(e.end)+e.end.length),insertionPoint:void 0})}),dc=()=>({test:t=>"="===t[0],transform:(t,e)=>{const n=e.delimiter.end.length,s=t.indexOf("="+e.delimiter.end);if(s<0)throw new Error(`missing end delimiter at: '${t}'`);const[r,i]=t.substring(1,s).split(" ");return e.delimiter.start=r,e.delimiter.end=i,{remainingTmplStr:t.substring(s+1+n),insertionPoint:void 0}}});function pc(t,e){return"function"==typeof t?((t,e)=>ec({html:t,delimiter:{start:"{{",end:"}}"},transformVariable:oc,transformers:{unsafeVariable:ac(e),section:uc(),invertedSection:hc(),comment:{test:t=>"!"===t[0],transform:(t,{delimiter:e})=>({remainingTmplStr:t.substring(t.indexOf(e.end)+e.end.length),insertionPoint:void 0})},customDelimiterTransformer:dc()}}))(t,e):ec(Object.assign({delimiter:{start:"{{",end:"}}"},transformers:{}},t))}const gc={variable:oc,unsafeVariable:ac,section:uc,invertedSection:hc,comment:fc,customDelimiter:dc},mc=pc(Sa,tc.unsafeHTML);class yc{static compile(t,e){const{transformer:n}=Object.assign({transformer:yc._transformer},e),s=n(t),r=t=>s(t);return r.source=t,r}static setTransformer(t){const e=yc._transformer;return yc._transformer=t,e}}yc._transformer=mc;const bc=Z(globalThis.document);let _c={},vc={};!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_ROUTER_DECLARE=9007199254740991]="MVC_ROUTER_DECLARE",void(t[t.ERROR_MVC_ROUTER_ERROR=CDP_DECLARE.DECLARE_ERROR_CODE(100,76,"router error.")]="ERROR_MVC_ROUTER_ERROR")}();const wc=Z(globalThis.window);var Ec;const Oc=t=>t.replace(/^[#/]|\s+$/g,""),xc=t=>{const e=/#.*$/.exec(t)?.[0];return e?Oc(e):t},{abs:Sc}=Math,Rc=Symbol("SessionHistory#signature");class Cc extends Ut{constructor(t,e,n){super(),this[Ec]=!0,this._stack=[],this._index=0,this._window=t,this._popStateHandler=this.onPopState.bind(this),this._hashChangeHandler=this.onHashChange.bind(this),this._window.addEventListener("popstate",this._popStateHandler),this._window.addEventListener("hashchange",this._hashChangeHandler),this.replace(e,n,{origin:!0})}dispose(){this._window.removeEventListener("popstate",this._popStateHandler),this._window.removeEventListener("hashchange",this._hashChangeHandler),this._stack.length=0,this._index=NaN}async reset(t){if(Number.isNaN(this._index)||1===this._stack.length)return;const{silent:e}=t||{};this._prevState=this._stack[this._index];const n=location.href;this._index=0,this.clearForward(),await this.backToSesssionOrigin();const s=location.href;e||this.dispatchChangeInfo(this.state,s,n)}get length(){return this._stack.length}get state(){return this.seek(0)}get id(){return this.state[E]}get index(){return this._index}get stack(){return this._stack}at(t){return At(this._stack,t)}back(){return this.go(-1)}forward(){return this.go(1)}go(t){try{return t?(this.seek(t),this._window.history.go(t),this._index+t):this._index}catch(t){return void 0,this._index}}push(t,e,n){const{id:s,data:r}=this.pushStack(t,e);return this.updateState("pushState",s,r,n||{})}replace(t,e,n){t=Oc(t);const s=Object.assign({[E]:t},e);return this._prevState=this._stack[this._index],this._stack[this._index]=s,this.updateState("replaceState",t,s,n||{})}clearForward(){this._stack=this._stack.slice(0,this._index+1)}closest(t){t=Oc(t);const{_index:e}=this,n=this._stack.map(((t,n)=>({index:n,distance:Sc(e-n),...t}))).filter((e=>e[E]===t));return Ct(n,((t,e)=>t.distance>e.distance?1:-1),!0),n[0]?.index}direct(t){const e=this.closest(t);if(null==e)return{direction:"missing"};{const t=e-this._index,n=0===t?"none":t<0?"back":"forward";return{direction:n,index:e,state:this._stack[e]}}}set _prevState(t){this._cache=t}get _prevState(){const t=this._cache;return delete this._cache,t}seek(t){const e=this._index+t;if(e<0)throw new RangeError(`invalid array index. [length: ${this.length}, given: ${e}]`);return this.at(e)}pushStack(t,e){t=Oc(t);const n=Object.assign({[E]:t},e);return this._prevState=this._stack[this._index],this._stack[++this._index]=n,{id:t,data:n}}updateState(t,e,n,s){const{silent:r,title:i}=s,{document:o,history:a,location:c}=this._window,l=null!=i?i:o.title,u=c.href;a[t](((t,e)=>(f(t)&&e.origin&&(t["@origin"]=!0),t))(n,s),l,e?`#${e}`:"");const h=c.href;return r||this.dispatchChangeInfo(n,h,u),this._index}dispatchChangeInfo(t,e,n){this._window.dispatchEvent(new PopStateEvent("popstate",{state:t})),e!==n&&this._window.dispatchEvent(new HashChangeEvent("hashchange",{newURL:e,oldURL:n}))}onPopState(t){var e;this.publish("update",(e=t.state,f(e)&&delete e["@origin"],e))}onHashChange(t){const e=xc(t.newURL),n=xc(t.oldURL),s=this.closest(e);if(null==s?this.pushStack(e,void 0):this._index=s,e!==n){const t=this._prevState||this.direct(n).state,e=this.state;this.publish("change",e,t)}}async backToSesssionOrigin(){try{this._window.removeEventListener("popstate",this._popStateHandler),this._window.removeEventListener("hashchange",this._hashChangeHandler);const t=()=>new Promise((t=>{this._window.addEventListener("popstate",(e=>{t(e.state)}))})),e=t=>t&&t["@origin"];let n=this._window.history.state;for(;!e(n);){const e=t();this._window.history.back(),n=await e}}finally{this._window.addEventListener("popstate",this._popStateHandler),this._window.addEventListener("hashchange",this._hashChangeHandler)}}}Ec=Rc;t.$cdp=E,t.ASSIGN_RESULT_CODE=Ee,t.ArrayCursor=class Tc{constructor(t,e=0){this._array=t,this._index=e,this.valid()?this._bof=this._eof=!1:(this._index=-1,this._bof=!0,this._eof=!1)}reset(t=[],e=-1){return this._array=t,this._index=e,this.valid()?this._bof=this._eof=!1:(this._index=-1,this._bof=!0,this._eof=!1),this}get current(){return this._array[this._index]}get index(){return this._index}get length(){return this._array.length}get isBOF(){return this._bof}get isEOF(){return this._eof}get array(){return this._array}moveFirst(){return this._index=0,this._bof=this._eof=!1,this.valid()||(this._index=-1,this._bof=!0),this}moveLast(){return this._index=this._array.length-1,this._bof=this._eof=!1,this.valid()||(this._eof=!0),this}moveNext(){return this._bof?(this._bof=!1,this._index=0):this._index++,this.valid()||(this._index=-1,this._eof=!0),this}movePrevious(){return this._eof?(this._eof=!1,this._index=this.length-1):this._index--,this.valid()||(this._index=-1,this._bof=!0),this}seek(t){return this._index="number"==typeof t?t:this._array.findIndex(t),this.valid()||(this._index=-1,this._bof=!1,this._eof=!0),this}valid(){return 0<=this._index&&this._index<this._array.length}},t.Base64=Ge,t.BlobURL=class Ac{static create(...t){for(const e of t){const t=En.get(e);if(t)continue;const n=Je.createObjectURL(e);En.set(e,n),On.add(n)}}static clear(){for(const t of On)Je.revokeObjectURL(t);On.clear()}static get(t){const e=En.get(t);if(e)return e;const n=Je.createObjectURL(t);return En.set(t,n),On.add(n),n}static has(t){return En.has(t)}static revoke(...t){for(const e of t){const t=En.get(e);t&&(Je.revokeObjectURL(t),En.delete(e),On.delete(t))}}},t.CancelToken=Zt,t.CancelablePromise=re,t.Collection=Do,t.DECLARE_ERROR_CODE=we,t.DECLARE_SUCCESS_CODE=ve,t.DynamicCondition=uo,t.EventBroker=Ft,t.EventPublisher=Ut,t.EventReceiver=qt,t.EventSource=zt,t.FAILED=xe,t.InlineWorker=Gn,t.MemoryStorage=De,t.Model=Ni,t.ObservableArray=be,t.ObservableObject=ge,t.Promise=re,t.PromiseManager=class Lc{constructor(){this._pool=new Map}add(t,e){this._pool.set(t,e&&e.cancel);const n=()=>{this._pool.delete(t),e&&e.close()};return t.then(n,n),t}release(){this._pool.clear()}promises(){return[...this._pool.keys()]}all(){return Promise.all(this.promises())}race(){return Promise.race(this.promises())}wait(){return oe(this.promises())}allSettled(){return Promise.allSettled(this.promises())}any(){return Promise.any(this.promises())}abort(t){for(const e of this._pool.values())e&&e(null!=t?t:new Error("abort"));return oe(this.promises())}},t.RESULT_CODE=_e,t.RESULT_VALID_ATTRS=ki,t.Registry=class kc extends Ut{constructor(t,e,n){super(),this._store={},this._storage=t,this._rootKey=e,this._defaultOptions={jsonSpace:n}}get rootKey(){return this._rootKey}get storage(){return this._storage}async load(t){t=t||{},this._store=await this._storage.getItem(this._rootKey,t)||{},t.silent||it((()=>this.publish("change","*")))}async save(t){const e={...this._defaultOptions,...t};e.silent||this.publish("will-save"),await this._storage.setItem(this._rootKey,this._store,e)}read(t,e){const{field:n}=e||{},s=String(t).split("/"),r=s.pop();let i,o=this.targetRoot(n);for(;i=s.shift();){if(!(i in o))return null;o=o[i]}return null!=o[r]?N(o[r]):null}write(t,e,n){const{field:s,noSave:r,silent:i}=n||{},o=null==e,a=String(t).split("/"),c=a.pop();let l,u=this.targetRoot(s);for(;l=a.shift();)if(l in u)u=u[l];else{if(o)return;u=u[l]={}}const h=o?null:e,f=dt(u[c]);C(f,h)||(o?delete u[c]:u[c]=N(h),r||this._storage.setItem(this._rootKey,this._store,{...this._defaultOptions,...n}),i||it((()=>this.publish("change",t,h,f))))}delete(t,e){this.write(t,null,e)}clear(t){t=t||{},this._store={},this._storage.removeItem(this._rootKey,t),t.silent||this.publish("change",null,null,null)}targetRoot(t){return t?(this._store[t]=this._store[t]||{},this._store[t]):this._store}},t.Result=Le,t.STATUS="TODO",t.SUCCEEDED=Se,t.SVGTemplateResult=ca,t.TemplateBridge=yc,t.TemplateEngine=He,t.TemplateResult=aa,t.View=class Nc extends zt{constructor(t){super();const{el:e,tagName:n,id:s,attributes:r,className:i,events:o}=t||{};this[Vo]={cid:mt("view:",8),events:o,id:s,className:i,attributes:r,tagName:n||"div"},this[Uo](e)}release(){return this.undelegateEvents(),this.stopListening(),this.off(),this}remove(){return this.release(),this.$el.remove(),this}get id(){const{cid:t,id:e}=this[Vo];return e||t}get el(){return this[Vo].$el[0]}get $el(){return this[Vo].$el}get _cid(){return this[Vo].cid}get _tagName(){return this[Vo].tagName}get _attrs(){const{attributes:t,id:e,className:n}=this[Vo];return Object.assign(G({id:e,class:n}),t)}setElement(t){return this.undelegateEvents(),this[Vo].$el=rs(t),this.delegateEvents(),this}delegateEvents(t){const e=t||this.events();if(p(e))return this;this.undelegateEvents();for(const t of Object.keys(e)){let n=e[t];if(g(n)||(n=this[n]),!n)continue;const s=/^(\S+)\s*(.*)$/.exec(t);this.delegate(s[1],s[2],n.bind(this))}return this}undelegateEvents(){return this.$el&&this.$el.off(`.${this._cid}`),this}delegate(t,...e){return this.$el.on(`${t}.${this._cid}`,...e),this}undelegate(t,...e){return this.$el.off(`${t}.${this._cid}`,...e),this}$(t){return this.$el.find(t)}events(){return Object.assign({},this[Vo].events)}[Uo](t){if(t)this.setElement(t);else{const{_attrs:t,_tagName:e}=this;this.setElement(Io.createElement(e)),this.$el.attr(t)}}},t.WebStorage=hi,t.ajax=Mn,t.appendArray=Ji,t.appendCollection=async function Pc(t,e,n){const s=t.length,r=await jo(t,n,((t,n)=>Ji(t,e,n)));return Mo("add",r,s,t.length-1,s)},t.at=At,t.base64ToBinary=fn,t.base64ToBlob=hn,t.base64ToBuffer=function Dc(t){return fn(t).buffer},t.base64ToDataURL=function jc(t,e="application/octet-stream"){return`data:${e};base64,${t}`},t.base64ToText=function $c(t){return Ge.decode(t)},t.binaryToBase64=ln,t.binaryToBlob=an,t.binaryToBuffer=function Mc(t){return t.buffer},t.binaryToDataURL=cn,t.binaryToText=un,t.blobToBase64=async function Ic(t,e){return tn(await Qe(t,e)).data},t.blobToBinary=async function Vc(t,e){return new Uint8Array(await Xe(t,e))},t.blobToBuffer=function Uc(t,e){return Xe(t,e)},t.blobToDataURL=rn,t.blobToText=function Fc(t,e){const n=e||{},{encoding:s}=n;return Ze(t,s,n)},t.bufferToBase64=function Bc(t){return ln(new Uint8Array(t))},t.bufferToBinary=function Hc(t){return new Uint8Array(t)},t.bufferToBlob=function Wc(t,e="application/octet-stream"){return new Ke([t],{type:e})},t.bufferToDataURL=on,t.bufferToText=function qc(t){return un(new Uint8Array(t))},t.camelize=Et,t.capitalize=vt,t.changeLanguage=(t,e)=>{const n=Object.assign({noThrow:!0},e);return new Promise(((e,s)=>{void ii.changeLanguage(t,((t,r)=>{if(t){const e=Pe(_e.ERROR_I18N_CORE_LAYER,"i18n#changeLanguate() failed.",t);if(!n.noThrow)return s(e);void 0}e(r)}))}))},t.checkCanceled=ae,t.className=v,t.classify=Ot,t.clearArray=zi,t.clearCollection=async function Kc(t,e){const n=t.length-1,s=await jo(t,e,((t,e)=>zi(t,e)));return Mo("remove",s,0,n)},t.clearInterval=rt,t.clearTemplateCache=function zc(){_c={},vc={}},t.clearTimeout=nt,t.combination=kt,t.computeDate=Dt,t.conditionalFix=go,t.convertSortKeys=Bi,t.createEscaper=at,t.createSessionHistory=function Jc(t,e,n=wc){return new Cc(n,t,e)},t.createStorageDataSync=wi,t.createTransformFactory=pc,t.dasherize=xt,t.dataSyncNULL=di,t.dataSyncREST=yi,t.dataSyncSTORAGE=Ei,t.dataURLToBase64=_n,t.dataURLToBinary=bn,t.dataURLToBlob=mn,t.dataURLToBuffer=yn,t.dataURLToText=function Gc(t){return Ge.decode(_n(t))},t.debounce=function Yc(t,e,n){let s,r;const i=function(e,n){s=void 0,n&&(r=t.apply(e,n))},o=function(...o){if(s&&nt(s),n){const n=!s;s=et(i,e),n&&(r=t.apply(this,o))}else s=et(i,e,this,[...o]);return r};return o.cancel=function(){nt(s),s=void 0},o},t.decapitalize=wt,t.deepCopy=N,t.deepEqual=C,t.deepMerge=k,t.defaultCollatorProvider=function Xc(t){if(null==t)return ji;{const e=ji;return ji=t,e}},t.defaultSync=xi,t.deserialize=wn,t.diff=J,t.difference=Lt,t.directive=Bo,t.directives=tc,t.disposeSessionHistory=function Qc(t){t[Rc]&&t.dispose()},t.dom=rs,t.drop=G,t.dropUndefined=dt,t.ensureObject=n,t.escapeHTML=lt,t.every=async function Zc(t,e,n){for(const[s,r]of t.entries())if(!await e.call(n||this,r,s,t))return!1;return!0},t.exists=i,t.extendPromise=ie,t.filter=async function tl(t,e,n){const s=await Nt(t,((t,s,r)=>e.call(n||this,t,s,r)));return t.filter((()=>s.shift()))},t.find=async function el(t,e,n){for(const[s,r]of t.entries())if(await e.call(n||this,r,s,t))return r},t.findIndex=async function nl(t,e,n){for(const[s,r]of t.entries())if(await e.call(n||this,r,s,t))return s;return-1},t.fromBinaryString=sn,t.fromHexString=function sl(t){const e=t.match(/.{1,2}/g);return new Uint8Array(null!=e?e.map((t=>parseInt(t,16))):[])},t.fromTypedData=ft,t.getBooleanComparator=Vi,t.getConfig=r,t.getDateComparator=Mi,t.getGenericComparator=Ii,t.getGlobal=e,t.getGlobalNamespace=s,t.getLanguage=ui,t.getLanguageList=()=>ii.languages||[oi.language],t.getNumberComparator=Ui,t.getStringComparator=$i,t.getTemplate=async function rl(t,e){const{type:n,url:s,cache:r}=Object.assign({type:"engine",cache:!0},e),i=await async function o(t,e){if(!t)return null;if(_c[t])return _c[t];{const n=await Un.text(t),s=bc.createElement("template");s.innerHTML=n;const r=s.content.firstElementChild;return e&&r&&(_c[t]=r),r}}(s,r),a=function c(t,e,n){const s=`${t}${e?`::${e.innerHTML.replace(/\s/gm,"")}`:""}`;if(vc[s])return vc[s];const r=e||bc,i=r.querySelector(t),o=i?.innerHTML;return n&&o&&(vc[s]=o),o}(t,i,r);if(!a)throw new URIError(`cannot specified template resource. { selector: ${t},  url: ${s} }`);switch(n){case"engine":return He.compile(a);case"bridge":return yc.compile(a);default:throw new TypeError(`[type: ${n}] is unknown.`)}},t.getWebDirectory=Or,t.groupBy=function il(t,e){const{keys:n,sumKeys:s,groupKey:r}=e,i=r||"items",o=s||[];o.push(i);const a=t.reduce(((t,e)=>{const s=n.reduce(((t,n)=>t+String(e[n])),"");if(!(s in t)){const r=n.reduce(((t,n)=>(t[n]=e[n],t)),{});t[s]=o.reduce(((t,e)=>(t[e]=0,t)),r)}const r=t[s];for(const t of o)i===t?(r[t]=r[t]||[],r[t].push(e)):r[t]+=e[t];return t}),{});return Object.values(a)},t.has=K,t.html=Sa,t.i18n=ii,t.idAttribute=Di,t.indices=function ol(t,...e){const n=[...t.keys()],s=t.length,r=[...new Set(e)].sort(((t,e)=>t<e?1:-1));for(const t of r)0<=t&&t<s&&n.splice(t,1);return n},t.initializeI18N=t=>{const e=Object.assign({noThrow:!0},t),{namespace:n,resourcePath:s,dom:r,noThrow:i}=e;return e.lng||(e.lng=oi.language),n&&(!e.ns&&(e.ns=n),!e.defaultNS&&(e.defaultNS=n)),s&&(e.backend=Object.assign({loadPath:s},e.backend)),e.backend&&ii.use(ai),ii.use(function o(t){return{type:"3rdParty",init:ci.bind(null,Object.assign({selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,customTagName:"cdp-i18n"},t))}}(r)),new Promise(((t,n)=>{void ii.init(e,((e,s)=>{if(e){const t=Pe(_e.ERROR_I18N_CORE_LAYER,"i18n#init() failed.",e);if(!i)return n(t);void 0}t(s)}))}))},t.insertArray=Gi,t.insertCollection=async function al(t,e,n,s){const r=await jo(t,s,((t,s)=>Gi(t,e,n,s)));return Mo("add",r,e,t.length-1,e)},t.instanceOf=function cl(t,e){return"function"==typeof t&&e instanceof t},t.intersection=function ll(...t){return t.reduce(((t,e)=>t.filter((t=>e.includes(t)))))},t.invert=z,t.isArray=h,t.isBigInt=function ul(t){return"bigint"==typeof t},t.isBoolean=function hl(t){return"boolean"==typeof t},t.isChancelLikeError=_t,t.isDOMClass=yr,t.isEmptyObject=p,t.isFunction=g,t.isIterable=m,t.isModel=Pi,t.isNil=o,t.isNumber=c,t.isObject=f,t.isObservable=function fl(t){return Boolean(t&&t[le])},t.isPlainObject=d,t.isPrimitive=u,t.isResult=function dl(t){return t instanceof Le||"Result"===v(t)},t.isString=a,t.isSymbol=l,t.isTypedArray=b,t.localize=(t,e)=>rs(t).localize(e),t.luid=mt,t.makeCanceledResult=function pl(t,e){return new Le(_e.ABORT,t,e)},t.makeResult=Pe,t.map=Nt,t.memoryStorage=je,t.mixins=q,t.noop=ot,t.omit=function gl(t,...e){x("typeOf","object",t);const n={};for(const s of Object.keys(t))!e.includes(s)&&(n[s]=t[s]);return n},t.once=function ml(t){let e;return function(...n){return t&&(e=t.call(this,...n),t=null),e}},t.ownInstanceOf=_,t.parts=xa,t.permutation=function t(e,n){const s=[];if(e.length<n)return[];if(1===n)for(const[t,n]of e.entries())s[t]=[n];else for(let r=0,i=e.length;r<i;r++){const i=e.slice(0);i.splice(r,1);const o=t(i,n-1);for(let t=0,n=o.length;t<n;t++)s.push([e[r]].concat(o[t]))}return s},t.pick=function yl(t,...e){return x("typeOf","object",t),e.reduce(((e,n)=>(n in t&&(e[n]=t[n]),e)),{})},t.platform=Tr,t.post=it,t.queryItems=bo,t.queryPlatform=Cr,t.randomInt=yt,t.readAsArrayBuffer=Xe,t.readAsDataURL=Qe,t.readAsText=Ze,t.reduce=async function bl(t,e,n){if(t.length<=0&&void 0===n)throw TypeError("Reduce of empty array with no initial value");const s=void 0!==n;let r=s?n:t[0];for(const[n,i]of t.entries())(s||0!==n)&&(r=await e(r,i,n,t));return r},t.removeArray=Xi,t.removeCollection=async function _l(t,e,n){const s=$o(e),r=t.length-1,i=await jo(t,n,((t,n)=>Xi(t,e,n)));return Mo("remove",i,s,r)},t.render=(t,e,n)=>{let s=xa.get(e);void 0===s&&(Ko(e,e.firstChild),xa.set(e,s=new da(Object.assign({templateFactory:Ea},n))),s.appendInto(e)),s.setValue(t),s.commit()},t.reorderArray=Yi,t.reorderCollection=async function vl(t,e,n,s){const r=$o([e,...n]),i=await jo(t,s,((t,s)=>Yi(t,e,n,s)));return Mo("reorder",i,r,t.length-1,e)},t.request=Un,t.resetSessionHistory=async function wl(t,e){t[Rc]&&await t.reset(e)},t.restoreNil=pt,t.result=Y,t.safe=Z,t.sameClass=w,t.sameType=function El(t,e){return typeof t==typeof e},t.sample=function Ol(t,e){if(null==e)return t[yt(t.length-1)];const n=t.slice(),s=n.length;e=Math.max(Math.min(e,s),0);const r=s-1;for(let t=0;t<e;t++){const e=yt(t,r),s=n[t];n[t]=n[e],n[e]=s}return n.slice(0,e)},t.searchItems=fo,t.serialize=vn,t.setInterval=st,t.setMixClassAttribute=W,t.setTimeout=et,t.setupHeaders=Pn,t.shuffle=Rt,t.sleep=function xl(t){return new Promise((e=>et(e,t)))},t.some=async function Sl(t,e,n){for(const[s,r]of t.entries())if(await e.call(n||this,r,s,t))return!0;return!1},t.sort=Ct,t.svg=(t,...e)=>new ca(t,e,"svg",va),t.t=li,t.textToBase64=gn,t.textToBinary=pn,t.textToBlob=dn,t.textToBuffer=function Rl(t){return pn(t).buffer},t.textToDataURL=function Cl(t,e="text/plain"){const n=gn(t);return`data:${e};base64,${n}`},t.thread=function Tl(t,e){const{cancel:n,args:s}=Object.assign({args:[]},e);if(n?.requested)throw n.reason;const r=`(self => {\n        self.addEventListener('message', async ({ data }) => {\n            try {\n                const result = await (${t.toString()})(...data);\n                self.postMessage(result);\n            } catch (e) {\n                setTimeout(function() { throw e; });\n            }\n        });\n    })(self);`,i=new Gn(r,e);n?.register((()=>i.terminate()));const{token:o}=Zt.source(n),a=new Promise(((t,e)=>{i.onerror=t=>{t.preventDefault(),e(t),i.terminate()},i.onmessage=e=>{t(e.data),i.terminate()}}),o);return i.postMessage(s),a},t.throttle=function Al(t,e,n){const s=n||{};let r,i,o,a,c=0;const l=function(){c=!1===s.leading?0:Date.now(),r=void 0,a=t.apply(o,i),r||(o=i=void 0)},u=function(...n){const u=Date.now();c||!1!==s.leading||(c=u);const h=e-(u-c);return o=this,i=[...n],h<=0||h>e?(r&&(nt(r),r=void 0),c=u,a=t.apply(o,i),r||(o=i=void 0)):r||!1===s.trailing||(r=et(l,h)),a};return u.cancel=function(){nt(r),c=0,r=o=i=void 0},u},t.toAjaxParams=$n,t.toBinaryString=nn,t.toComparator=Fi,t.toHelpString=Ce,t.toHexString=function Ll(t){return t.reduce(((t,e)=>t+e.toString(16).toUpperCase().padStart(2,"0")),"")},t.toNameString=Re,t.toQueryStrings=jn,t.toResult=Ne,t.toTemplateStringsArray=t=>{const e=[t];return e.raw=[t],e},t.toTypedData=ht,t.toUrl=Sr,t.transformer=gc,t.typeOf=function kl(t,e){return typeof e===t},t.underscored=function Nl(t){return t.trim().replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},t.unescapeHTML=ut,t.union=function Pl(...t){return Tt(t.flat())},t.unique=Tt,t.verify=x,t.wait=oe,t.webRoot=xr,t.webStorage=fi,t.without=function Dl(t,...e){return Lt(t,e)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=essentials.min.map