/*!
 * @cdp/lib-web 0.9.9
 *   web api library collection
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@cdp/lib-core"),require("@cdp/lib-worker")):"function"==typeof define&&define.amd?define(["exports","@cdp/lib-core","@cdp/lib-worker"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,e(t.CDP=t.CDP||{},t.CDP,t.CDP))}(this,(function(t,e,s){"use strict";const n=e.safe(globalThis.window),i=e.safe(globalThis.document),r=e.safe(globalThis.CustomEvent),o=n.requestAnimationFrame;function a(t,s){if(!t)return[];s=s||i;const n=[];try{if("string"==typeof t){const r=t.trim();if(r.startsWith("<")&&r.endsWith(">")){const t=i.createElement("template");t.innerHTML=r,n.push(...t.content.children)}else{const t=r;if(e.isFunction(s.getElementById)&&"#"===t[0]&&!/[ .<>:~]/.exec(t)){const e=s.getElementById(t.substring(1));e&&n.push(e)}else"body"===t?n.push(i.body):n.push(...s.querySelectorAll(t))}}else t.nodeType||window===t?n.push(t):0<t.length&&(t[0].nodeType||window===t[0])&&n.push(...t)}catch(t){void 0}return n}function l(t){return e.isNumber(t)&&0<=t?t:void 0}const c=["type","src","nonce","noModule"];let u;function h(t,e){return u(t,e)}h.utils={elementify:a,evaluate:function d(t,s,n){const r=n||i,o=r.createElement("script");if(o.text=`CDP_DOM_EVAL_RETURN_VALUE_BRIDGE = (() => { return ${t}; })();`,s)for(const t of c){const e=s[t]||s.getAttribute&&s.getAttribute(t);e&&o.setAttribute(t,e)}try{e.getGlobalNamespace("CDP_DOM_EVAL_RETURN_VALUE_BRIDGE"),r.head.appendChild(o).parentNode.removeChild(o);const t=globalThis.CDP_DOM_EVAL_RETURN_VALUE_BRIDGE;return t}finally{delete globalThis.CDP_DOM_EVAL_RETURN_VALUE_BRIDGE}}};const f=Symbol("create-iterable-iterator");class p{constructor(t){const e=this;for(const[s,n]of t.entries())e[s]=n;this.length=t.length}[Symbol.iterator](){const t={base:this,pointer:0,next(){return this.pointer<this.base.length?{done:!1,value:this.base[this.pointer++]}:{done:!0,value:void 0}}};return t}entries(){return this[f](((t,e)=>[t,e]))}keys(){return this[f]((t=>t))}values(){return this[f](((t,e)=>e))}[f](t){const e={base:this,pointer:0},s={next(){const s=e.pointer;return s<e.base.length?(e.pointer++,{done:!1,value:t(s,e.base[s])}):{done:!0,value:void 0}},[Symbol.iterator](){return this}};return s}}function g(t){return!(!t||!t.nodeType)}function m(t){return g(t)&&Node.ELEMENT_NODE===t.nodeType}function y(t){return m(t)&&null!=t.dataset}function b(t){return!(!t||!t.querySelector)}function v(t){return m(t[0])}function _(t){return y(t[0])}function E(t){return i===t[0]}function w(t){return n===t[0]}function x(t){return!t}function O(t){return"string"==typeof t}function S(t){return null!=t.nodeType}function R(t){return i===t}function C(t){return n===t}function L(t){return null!=t.length}function N(t,e){return!(!t||t.nodeName.toLowerCase()!==e.toLowerCase())}function A(t){if(t.offsetParent)return t.offsetParent;if(N(t,"svg")){const e=h(t),s=e.css(["display","position"]);if("none"===s.display||"fixed"===s.position)return null;{let t=e[0].parentElement;for(;t;){const{display:e,position:s}=h(t).css(["display","position"]);if("none"===e)return null;if(s&&"static"!==s)break;t=t.parentElement}return t}}return null}function k(t){return m(t)&&"select"===t.nodeName.toLowerCase()&&t.multiple}function T(t){return m(t)&&null!=t.value}class D{addClass(t){if(!v(this))return this;const s=e.isArray(t)?t:[t];for(const t of this)m(t)&&t.classList.add(...s);return this}removeClass(t){if(!v(this))return this;const s=e.isArray(t)?t:[t];for(const t of this)m(t)&&t.classList.remove(...s);return this}hasClass(t){if(!v(this))return!1;for(const e of this)if(m(e)&&e.classList.contains(t))return!0;return!1}toggleClass(t,s){if(!v(this))return this;const n=e.isArray(t)?t:[t],i=null==s?t=>{for(const e of n)t.classList.toggle(e)}:s?t=>t.classList.add(...n):t=>t.classList.remove(...n);for(const t of this)m(t)&&i(t);return this}prop(t,s){if(null==s&&e.isString(t)){const e=this[0];return e&&e[t]}for(const e of this)if(null!=s)e[t]=s;else for(const s of Object.keys(t))s in e&&(e[s]=t[s]);return this}attr(t,s){if(v(this)){if(void 0===s&&e.isString(t)){const e=this[0].getAttribute(t);return null!=e?e:void 0}if(null===s)return this.removeAttr(t);for(const e of this)if(m(e))if(null!=s)e.setAttribute(t,String(s));else for(const s of Object.keys(t)){const n=t[s];null===n?e.removeAttribute(s):e.setAttribute(s,String(n))}return this}return void 0===s?void 0:this}removeAttr(t){if(!v(this))return this;const s=e.isArray(t)?t:[t];for(const t of this)if(m(t))for(const e of s)t.removeAttribute(e);return this}val(t){if(!v(this))return null==t?void 0:this;if(null==t){const t=this[0];if(k(t)){const e=[];for(const s of t.selectedOptions)e.push(s.value);return e}return"value"in t?t.value:void 0}for(const s of this)if(e.isArray(t)&&k(s))for(const e of s.options)e.selected=t.includes(e.value);else T(s)&&(s.value=t);return this}data(t,s){if(!_(this))return null==s?void 0:this;if(void 0===s){const s=this[0].dataset;if(null==t){const t={};for(const n of Object.keys(s))t[n]=e.toTypedData(s[n]);return t}return e.toTypedData(s[e.camelize(t)])}{const n=e.camelize(t||"");if(n)for(const t of this)y(t)&&(t.dataset[n]=e.fromTypedData(s));return this}}removeData(t){if(!_(this))return this;const s=e.isArray(t)?t.map((t=>e.camelize(t))):[e.camelize(t)];for(const t of this)if(y(t)){const{dataset:e}=t;for(const t of s)delete e[t]}return this}}function P(t,s,r,o){let a;o=o||e.noop;for(const[l,c]of s.entries())if(e.isFunction(t)){if(t.call(c,l,c)&&(a=r(c),void 0!==a))return a}else if(O(t)){if(c.matches&&c.matches(t)&&(a=r(c),void 0!==a))return a}else if(C(t)){if(n===c){if(a=r(c),void 0!==a)return a}else if(a=o(),void 0!==a)return a}else if(R(t)){if(i===c){if(a=r(c),void 0!==a)return a}else if(a=o(),void 0!==a)return a}else if(S(t)){if(t===c&&(a=r(c),void 0!==a))return a}else if(L(t)){for(const e of t)if(e===c&&(a=r(c),void 0!==a))return a}else if(a=o(),void 0!==a)return a;if(a=o(),void 0!==a)return a}function V(t){return null!=t&&Node.DOCUMENT_NODE!==t.nodeType&&Node.DOCUMENT_FRAGMENT_NODE!==t.nodeType}function I(t,e){if(t){if(!e)return!0;if(h(t).is(e))return!0}return!1}function M(t,e,s,n){if(!v(e))return h();const i=new Set;for(const r of e){let e=r[t];for(;e&&(null==s||!h(e).is(s));)n?h(e).is(n)&&i.add(e):i.add(e),e=e[t]}return h([...i])}e.setMixClassAttribute(D,"protoExtendsOnly");class ${get(t){return null!=t?(t=Math.trunc(t),t<0?this[t+this.length]:this[t]):this.toArray()}toArray(){return[...this]}index(t){if(v(this)){if(null==t){let t=0,e=this[0];for(;null!==(e=e.previousSibling);)Node.ELEMENT_NODE===e.nodeType&&(t+=1);return t}{let s;s=e.isString(t)?h(t)[0]:t instanceof p?t[0]:t;const n=[...this].indexOf(s);return 0<=n?n:void 0}}}first(){return h(this[0])}last(){return h(this[this.length-1])}add(t,e){const s=h(t,e),n=new Set([...this,...s]);return h([...n])}is(t){return!(this.length<=0||x(t))&&P(t,this,(()=>!0),(()=>!1))}filter(t){if(this.length<=0||x(t))return h();const e=[];return P(t,this,(t=>{e.push(t)})),h(e)}not(t){if(this.length<=0||x(t))return h();const e=new Set([...this]);return P(t,this,(t=>{e.delete(t)})),h([...e])}find(t){if(e.isString(t)){if(w(this))return h();{const e=[];for(const s of this)if(b(s)){const n=s.querySelectorAll(t);e.push(...n)}return h(e)}}{const e=h(t);return e.filter(((t,e)=>{for(const t of this)if(g(t)&&t!==e&&t.contains(e))return!0;return!1}))}}has(t){if(w(this))return h();const e=[];for(const s of this)if(b(s)){const n=h(t,s);e.push(...n)}return this.filter(((t,s)=>{if(g(s))for(const t of new Set(e))if(s!==t&&s.contains(t))return!0;return!1}))}map(t){const e=[];for(const[s,n]of this.entries())e.push(t.call(n,s,n));return h(e)}each(t){for(const[e,s]of this.entries())if(!1===t.call(s,e,s))return this;return this}slice(t,e){return h([...this].slice(t,e))}eq(t){return null==t?h():h(this.get(t))}closest(t){if(null!=t&&v(this)){if(e.isString(t)){const e=new Set;for(const s of this)if(m(s)){const n=s.closest(t);n&&e.add(n)}return h([...e])}return this.is(t)?h(this):this.parents(t).eq(0)}return h()}children(t){if(w(this))return h();const e=new Set;for(const s of this)if(b(s))for(const n of s.children)I(n,t)&&e.add(n);return h([...e])}parent(t){const e=new Set;for(const s of this)if(g(s)){const n=s.parentNode;V(n)&&I(n,t)&&e.add(n)}return h([...e])}parents(t){return this.parentsUntil(void 0,t)}parentsUntil(t,e){let s=[];for(const n of this){let i=n.parentNode;for(;V(i)&&(null==t||!h(i).is(t));)e?h(i).is(e)&&s.push(i):s.push(i),i=i.parentNode}return 1<this.length&&(s=[...new Set(s.reverse())].reverse()),h(s)}next(t){if(!v(this))return h();const e=new Set;for(const s of this)if(m(s)){const n=s.nextElementSibling;I(n,t)&&e.add(n)}return h([...e])}nextAll(t){return this.nextUntil(void 0,t)}nextUntil(t,e){return M("nextElementSibling",this,t,e)}prev(t){if(!v(this))return h();const e=new Set;for(const s of this)if(m(s)){const n=s.previousElementSibling;I(n,t)&&e.add(n)}return h([...e])}prevAll(t){return this.prevUntil(void 0,t)}prevUntil(t,e){return M("previousElementSibling",this,t,e)}siblings(t){if(!v(this))return h();const e=new Set;for(const s of this)if(m(s)){const n=s.parentNode;if(V(n))for(const i of h(n).children(t))i!==s&&e.add(i)}return h([...e])}contents(){if(w(this))return h();const t=new Set;for(const e of this)if(g(e))if(N(e,"iframe"))t.add(e.contentDocument);else if(N(e,"template"))t.add(e.content);else for(const s of e.childNodes)t.add(s);return h([...t])}offsetParent(){const t=i.documentElement;if(this.length<=0)return h();if(v(this)){const e=new Set;for(const s of this){const n=A(s)||t;e.add(n)}return h([...e])}return h(t)}}function j(t){const e=t.trim();return"<"===e.slice(0,1)&&">"===e.slice(-1)}function F(...t){const s=new Set;for(const n of t)if(e.isString(n)&&!j(n)||g(n))s.add(n);else{const t=h(n);for(const n of t)(e.isString(n)||g(n)&&Node.DOCUMENT_NODE!==n.nodeType)&&s.add(n)}return s}function U(t){return e.isString(t)?i.createTextNode(t):t}function q(t,e,s){const n=null!=t?e.filter(t):e;s||n.off();for(const t of n)m(t)&&t.remove()}e.setMixClassAttribute($,"protoExtendsOnly");class W{html(t){if(void 0===t){const t=this[0];return m(t)?t.innerHTML:""}if(e.isString(t)){for(const e of this)m(e)&&(e.innerHTML=t);return this}return void 0,this}text(t){if(void 0===t){const t=this[0];if(g(t)){const e=t.textContent;return null!=e?e.trim():""}return""}{const s=e.isString(t)?t:String(t);for(const t of this)g(t)&&(t.textContent=s);return this}}append(...t){const e=F(...t);for(const t of this)m(t)&&t.append(...e);return this}appendTo(t){return h(t).append(this)}prepend(...t){const e=F(...t);for(const t of this)m(t)&&t.prepend(...e);return this}prependTo(t){return h(t).prepend(this)}before(...t){const e=F(...t);for(const t of this)if(g(t)&&t.parentNode)for(const s of e)t.parentNode.insertBefore(U(s),t);return this}insertBefore(t){return h(t).before(this)}after(...t){const e=F(...[...t].reverse());for(const t of this)if(g(t)&&t.parentNode)for(const s of e)t.parentNode.insertBefore(U(s),t.nextSibling);return this}insertAfter(t){return h(t).after(this)}wrapAll(t){if(E(this)||w(this))return this;const e=this[0],s=h(t,e.ownerDocument).eq(0).clone(!0);return e.parentNode&&s.insertBefore(e),s.map(((t,e)=>{for(;e.firstElementChild;)e=e.firstElementChild;return e})).append(this),this}wrapInner(t){if(!v(this))return this;for(const e of this){const s=h(e),n=s.contents();0<n.length?n.wrapAll(t):s.append(t)}return this}wrap(t){if(!v(this))return this;for(const e of this){const s=h(e);s.wrapAll(t)}return this}unwrap(t){return this.parent(t).not("body").each(((t,e)=>{h(e).replaceWith(e.childNodes)})),this}empty(){for(const t of this)if(m(t))for(;t.firstChild;)t.removeChild(t.firstChild);return this}detach(t){return q(t,this,!0),this}remove(t){return q(t,this,!1),this}replaceWith(t){const e=(()=>{const e=h(t);if(1===e.length&&m(e[0]))return e[0];{const t=i.createDocumentFragment();for(const s of e)m(s)&&t.appendChild(s);return t}})();for(const t of this)m(t)&&t.replaceWith(e);return this}replaceAll(t){return h(t).replaceWith(this)}}function K(t){return t.ownerDocument&&t.ownerDocument.defaultView||n}function H(t){const e=K(t);return e.getComputedStyle(t)}function B(t){return parseFloat(t)||0}e.setMixClassAttribute(W,"protoExtendsOnly");const z={width:["left","right"],height:["top","bottom"]};function Y(t,e){return B(t.getPropertyValue(`padding-${z[e][0]}`))+B(t.getPropertyValue(`padding-${z[e][1]}`))}function J(t,e){return B(t.getPropertyValue(`border-${z[e][0]}-width`))+B(t.getPropertyValue(`border-${z[e][1]}-width`))}function G(t,e){return B(t.getPropertyValue(`margin-${z[e][0]}`))+B(t.getPropertyValue(`margin-${z[e][1]}`))}function Q(t,s,n){if(null==n){if(w(t))return t[0].document.documentElement[`client${e.classify(s)}`];if(E(t))return t[0].documentElement[`scroll${e.classify(s)}`];{const e=t[0];if(y(e)){const t=H(e),n=B(t.getPropertyValue(s));return"border-box"===t.getPropertyValue("box-sizing")?n-(J(t,s)+Y(t,s)):n}return 0}}return t.css(s,e.isString(n)?n:`${n}px`)}function X(t,s,n){if(null==n){if(w(t)||E(t))return Q(t,s);{const n=t[0];return y(n)?n[`client${e.classify(s)}`]:0}}if(w(t)||E(t))return t;{const i=e.isString(n);for(const e of t)if(y(e)){const{style:t,newVal:r}=(()=>{i&&e.style.setProperty(s,n);const t=H(e),r=i?B(t.getPropertyValue(s)):n;return{style:t,newVal:r}})();"border-box"===t.getPropertyValue("box-sizing")?e.style.setProperty(s,`${r+J(t,s)}px`):e.style.setProperty(s,r-Y(t,s)+"px")}return t}}function Z(...t){let[s,n]=t;return e.isNumber(s)||e.isString(s)||(n=!!s,s=void 0),{includeMargin:n,value:s}}function tt(t,s,n,i){if(null==i){if(w(t))return t[0][`inner${e.classify(s)}`];if(E(t))return Q(t,s);{const e=t[0];if(y(e)){const t=st(e,s);if(n){const n=H(e);return t+G(n,s)}return t}return 0}}if(w(t)||E(t))return t;{const r=e.isString(i);for(const e of t)if(y(e)){const{style:t,newVal:o}=(()=>{r&&e.style.setProperty(s,i);const t=H(e),o=n?G(t,s):0,a=(r?B(t.getPropertyValue(s)):i)-o;return{style:t,newVal:a}})();"content-box"===t.getPropertyValue("box-sizing")?e.style.setProperty(s,o-J(t,s)-Y(t,s)+"px"):e.style.setProperty(s,`${o}px`)}return t}}function et(t){if(t.getClientRects().length<=0)return{top:0,left:0};const e=t.getBoundingClientRect(),s=K(t);return{top:e.top+s.pageYOffset,left:e.left+s.pageXOffset}}function st(t,s){if(null!=t.offsetWidth)return t[`offset${e.classify(s)}`];{const e=H(t),n=B(e.getPropertyValue(s));return"content-box"===e.getPropertyValue("box-sizing")?n+J(e,s)+Y(e,s):n}}class nt{css(t,s){if(!_(this))return e.isString(t)?null==s?"":this:e.isArray(t)?{}:this;if(e.isString(t)){if(void 0===s){const s=this[0];return H(s).getPropertyValue(e.dasherize(t))}{const n=e.dasherize(t),i=null===s;for(const t of this)y(t)&&(i?t.style.removeProperty(n):t.style.setProperty(n,s));return this}}if(e.isArray(t)){const s=this[0],n=K(s),i={};for(const r of t){const t=e.dasherize(r);i[r]=n.getComputedStyle(s).getPropertyValue(t)}return i}{const s=function n(t){const s={};for(const n in t)s[e.dasherize(n)]=t[n];return s}(t);for(const t of this)if(y(t)){const{style:e}=t;for(const t in s)null===s[t]?e.removeProperty(t):e.setProperty(t,s[t])}return this}}width(t){return Q(this,"width",t)}height(t){return Q(this,"height",t)}innerWidth(t){return X(this,"width",t)}innerHeight(t){return X(this,"height",t)}outerWidth(...t){const{includeMargin:e,value:s}=Z(...t);return tt(this,"width",e,s)}outerHeight(...t){const{includeMargin:e,value:s}=Z(...t);return tt(this,"height",e,s)}position(){if(!_(this))return{top:0,left:0};let t,e={top:0,left:0};const s=this[0],{position:n,marginTop:i,marginLeft:r}=h(s).css(["position","marginTop","marginLeft"]),o=B(i),a=B(r);if("fixed"===n)t=s.getBoundingClientRect();else{t=et(s);const n=s.ownerDocument;let i=A(s)||n.documentElement,r=h(i);for(;i&&(i===n.body||i===n.documentElement)&&"static"===r.css("position");)i=i.parentNode,r=h(i);if(i&&i!==s&&Node.ELEMENT_NODE===i.nodeType){e=et(i);const{borderTopWidth:t,borderLeftWidth:s}=r.css(["borderTopWidth","borderLeftWidth"]);e.top+=B(t),e.left+=B(s)}}return{top:t.top-e.top-o,left:t.left-e.left-a}}offset(t){if(_(this)){if(null==t)return et(this[0]);for(const e of this){const s=h(e),n={},{position:i,top:r,left:o}=s.css(["position","top","left"]);"static"===i&&(e.style.position="relative");const a=s.offset(),l=(()=>{const t=("absolute"===i||"fixed"===i)&&(r+o).includes("auto");return t?s.position():{top:B(r),left:B(o)}})();null!=t.top&&(n.top=`${t.top-a.top+l.top}px`),null!=t.left&&(n.left=`${t.left-a.left+l.left}px`),s.css(n)}return this}return null==t?{top:0,left:0}:this}}e.setMixClassAttribute(nt,"protoExtendsOnly");const it={eventData:new WeakMap,eventListeners:new WeakMap,liveEventListeners:new WeakMap};function rt(t){const e=it.eventData.get(t.target)||[];return e.unshift(t),e}function ot(t,e){it.eventData.set(t,e)}function at(t){const e=t.split("."),s=e.shift();return e.length?(e.sort(),`${s}.${e.join(".")}`):s}function lt(t){const s=[],n=t.split("."),i=n.shift();if(n.length){n.sort();const t=[];for(let s=n.length;s>=1;s--)t.push(...e.combination(n,s));const r=`.${n.join(".")}.`;s.push({type:i,namespace:r});for(const e of t)s.push({type:`${i}.${e.join(".")}`,namespace:r})}else s.push({type:i,namespace:""});return s}function ct(t,e){const s=[],n=e.split("."),i=n.shift(),r=at(e);if(n.length){const e=t=>{if(t){const e=Object.keys(t),n=e.filter((t=>r===t.split("|")[0])).map((t=>t.split("|")[1])),i=e.filter((t=>{for(const e of n)if(e===t.split("|")[1])return!0;return!1})).map((t=>{const e=t.split("|");return{type:e[0],namespace:e[1]}}));s.push(...i)}},{eventListeners:n,liveEventListeners:i}=it;e(n.get(t)),e(i.get(t))}else s.push({type:i,namespace:""});return s}function ut(t,e,s,n,i,r){const o=n?it.liveEventListeners:it.eventListeners;if(!o.has(t)){if(!r)return{registered:void 0,handlers:[]};o.set(t,{})}const a=o.get(t),l=function c(t,e,s,n){const i={...n};return delete i.once,`${t}|${e}|${JSON.stringify(i)}|${s}`}(e,s,n,i);return a[l]||(a[l]={registered:new Set,handlers:[]}),a[l]}function ht(t,e=!0){const s=[],n=t=>{if(t){for(const e of Object.keys(t)){const n=e.split("|"),i=n[0],r=JSON.parse(n[2]);for(const n of t[e].handlers)s.push({event:i,handler:n.proxy,options:r})}return!0}return!1},{eventListeners:i,liveEventListeners:r}=it;return n(i.get(t))&&e&&i.delete(t),n(r.get(t))&&e&&r.delete(t),s}function dt(t,e){const s=[],n=e.split(".").filter((t=>!!t)),i=t=>{for(const e of n)if(t.includes(`.${e}.`))return!0;return!1},r=t=>{if(t){const e=Object.keys(t).filter(i);for(const n of e){const e=n.split("|"),i=e[0],r=JSON.parse(e[2]),{registered:o,handlers:a}=t[n];for(const t of a)s.push({event:i,handler:t.proxy,options:r}),o.delete(t.listener)}}},{eventListeners:o,liveEventListeners:a}=it;return r(o.get(t)),r(a.get(t)),s}function ft(...t){let[s,n,i,r]=t;return e.isFunction(n)&&([s,i,r]=t,n=void 0),s=s?e.isArray(s)?s:[s]:[],n=n||"",r?!0===r&&(r={capture:!0}):r={},{type:s,selector:n,listener:i,options:r}}const pt=["resize","scroll"];function gt(t,s,n){if(null==s){for(const s of this)pt.includes(t)||(e.isFunction(s[t])?s[t]():h(s).trigger(t));return this}return this.on(t,s,n)}function mt(t,e){const s=ht(t,!1);for(const t of s)e.addEventListener(t.event,t.handler,t.options)}class yt{on(...t){const{type:e,selector:s,listener:n,options:i}=ft(...t);const r=s?function o(t){const e=rt(t),i=h(t.target);if(i.is(s))n.apply(i[0],e);else for(const t of i.parents())h(t).is(s)&&n.apply(t,e)}:function a(t){n.apply(this,rt(t))};for(const t of this)for(const o of e){const e=lt(o);for(const o of e){const{type:e,namespace:a}=o,{registered:l,handlers:c}=ut(t,e,a,s,i,!0);l&&!l.has(n)&&(l.add(n),c.push({listener:n,proxy:r}),t.addEventListener(e,r,i))}}return this}off(...t){const{type:e,selector:s,listener:n,options:i}=ft(...t);if(e.length<=0)for(const t of this){const e=ht(t);for(const s of e)t.removeEventListener(s.event,s.handler,s.options)}else for(const t of this)for(const r of e)if(r.startsWith(".")){const e=dt(t,r);for(const s of e)t.removeEventListener(s.event,s.handler,s.options)}else{const e=ct(t,r);for(const r of e){const{type:e,namespace:o}=r,{registered:a,handlers:l}=ut(t,e,o,s,i,!1);if(0<l.length)for(let s=l.length-1;s>=0;s--){const r=l[s];(n&&r.listener===n||n&&r.listener&&r.listener.origin&&r.listener.origin===n||!n)&&(t.removeEventListener(e,r.proxy,i),l.splice(s,1),a.delete(r.listener))}}}return this}once(...t){const{type:e,selector:s,listener:n,options:i}=ft(...t),r={...i,once:!0},o=this;function a(...t){n.apply(this,t),o.off(e,s,a,r),delete a.origin}return a.origin=n,this.on(e,s,a,r)}trigger(t,...s){const n=e.isArray(t)?t:[t];for(const t of n){const n=(o=t,e.isString(o)?new r(at(o),{detail:s,bubbles:!0,cancelable:!0}):o);for(const t of this)ot(t,s),t.dispatchEvent(n),i=t,it.eventData.delete(i)}var i,o;return this}transitionEnd(t,s=!1){const n=this;return e.isFunction(t)&&n.on("transitionend",(function e(i){i.target===this&&(t.call(this,i),s||n.off("transitionend",e))})),this}animationEnd(t,s=!1){const n=this;return e.isFunction(t)&&n.on("animationend",(function e(i){i.target===this&&(t.call(this,i),s||n.off("animationend",e))})),this}hover(t,e){return e=e||t,this.mouseenter(t).mouseleave(e)}click(t,e){return gt.bind(this)("click",t,e)}dblclick(t,e){return gt.bind(this)("dblclick",t,e)}blur(t,e){return gt.bind(this)("blur",t,e)}focus(t,e){return gt.bind(this)("focus",t,e)}focusin(t,e){return gt.bind(this)("focusin",t,e)}focusout(t,e){return gt.bind(this)("focusout",t,e)}keyup(t,e){return gt.bind(this)("keyup",t,e)}keydown(t,e){return gt.bind(this)("keydown",t,e)}keypress(t,e){return gt.bind(this)("keypress",t,e)}submit(t,e){return gt.bind(this)("submit",t,e)}contextmenu(t,e){return gt.bind(this)("contextmenu",t,e)}change(t,e){return gt.bind(this)("change",t,e)}mousedown(t,e){return gt.bind(this)("mousedown",t,e)}mousemove(t,e){return gt.bind(this)("mousemove",t,e)}mouseup(t,e){return gt.bind(this)("mouseup",t,e)}mouseenter(t,e){return gt.bind(this)("mouseenter",t,e)}mouseleave(t,e){return gt.bind(this)("mouseleave",t,e)}mouseout(t,e){return gt.bind(this)("mouseout",t,e)}mouseover(t,e){return gt.bind(this)("mouseover",t,e)}touchstart(t,e){return gt.bind(this)("touchstart",t,e)}touchend(t,e){return gt.bind(this)("touchend",t,e)}touchmove(t,e){return gt.bind(this)("touchmove",t,e)}touchcancel(t,e){return gt.bind(this)("touchcancel",t,e)}resize(t,e){return gt.bind(this)("resize",t,e)}scroll(t,e){return gt.bind(this)("scroll",t,e)}clone(t=!1,e=!1){const s=this;return v(s)?s.map(((s,n)=>function i(t,e,s){const n=t.cloneNode(!0);if(e)if(s){const e=t.querySelectorAll("*"),s=n.querySelectorAll("*");for(const[t]of e.entries())mt(e[t],s[t])}else mt(t,n);return n}(n,t,e))):s}}function bt(t){return m(t)?t:function e(t){return g(t)&&Node.DOCUMENT_NODE===t.nodeType}(t)?t.documentElement:n===t?n.document.documentElement:null}function vt(t,s){const{top:n,left:i,duration:r,easing:a,callback:l}=s,c=t.scrollTop,u=t.scrollLeft;let h=e.isNumber(n),d=e.isNumber(i);if(!r){let s=!1;return h&&n!==c&&(t.scrollTop=n,s=!0),d&&i!==u&&(t.scrollLeft=i,s=!0),s&&e.isFunction(l)&&l(),void 0}const f=(s,n,i,r)=>{if(!s)return{max:0,new:0,initial:0};const o=t[`scroll${e.classify(r)}`]-st(t,r),a=Math.max(Math.min(n,o),0);return{max:o,new:a,initial:i}},p=f(h,n,c,"height"),g=f(d,i,u,"width");if(h&&p.new===p.initial&&(h=!1),d&&g.new===g.initial&&(d=!1),!h&&!d)return;const m=t=>e.isFunction(a)?a(t):"linear"===a?t:function s(t){return.5-Math.cos(t*Math.PI)/2}(t),y={top:0,left:0},b=Date.now(),v=()=>{const s=Date.now()-b,n=Math.max(Math.min(s/r,1),0),i=m(n);if(h&&(y.top=p.initial+i*(p.new-p.initial)),d&&(y.left=g.initial+i*(g.new-g.initial)),h&&p.new>p.initial&&y.top>=p.new||h&&p.new<p.initial&&y.top<=p.new||d&&g.new>g.initial&&y.left>=g.new||d&&g.new<g.initial&&y.left<=g.new)return h&&(t.scrollTop=p.new),d&&(t.scrollLeft=g.new),e.isFunction(l)&&l(),t=null,void 0;h&&(t.scrollTop=y.top),d&&(t.scrollLeft=y.left),o(v)};o(v)}e.setMixClassAttribute(yt,"protoExtendsOnly");class _t{scrollTop(t,e,s,n){if(null==t){const t=bt(this[0]);return t?t.scrollTop:0}return this.scrollTo({top:t,duration:e,easing:s,callback:n})}scrollLeft(t,e,s,n){if(null==t){const t=bt(this[0]);return t?t.scrollLeft:0}return this.scrollTo({left:t,duration:e,easing:s,callback:n})}scrollTo(...t){const e=function s(...t){const e={easing:"swing"};if(1===t.length)Object.assign(e,t[0]);else{const[s,n,i,r,o]=t;Object.assign(e,{top:n,left:s,duration:i,easing:r,callback:o})}return e.top=l(e.top),e.left=l(e.left),e.duration=l(e.duration),e}(...t);for(const t of this){const s=bt(t);y(s)&&vt(s,e)}return this}}e.setMixClassAttribute(_t,"protoExtendsOnly");const Et=new WeakMap;class wt{animate(t,e){const s={dom:this,animations:new Map};if(!v(this))return s.finished=Promise.resolve(s),s;for(const n of this)if(m(n)){const i=n.animate(t,e),r=Et.get(n)||new Set;r.add(i),Et.set(n,r),s.animations.set(n,i)}return s.finished=Promise.all([...s.animations.values()].map((t=>t.finished))).then((()=>s)),s}cancel(){if(v(this))for(const t of this){const e=Et.get(t);if(e){for(const t of e)t.cancel();Et.delete(t)}}return this}finish(){if(v(this))for(const t of this){const e=Et.get(t);if(e)for(const t of e)t.finish()}return this}}e.setMixClassAttribute(wt,"protoExtendsOnly");class xt extends(e.mixins(p,D,$,W,nt,yt,_t,wt)){constructor(t){super(t)}static create(t,e){return t&&!e&&Ot(t)?t:new xt(a(t,e))}}function Ot(t){return t instanceof xt}e.setMixClassAttribute(xt,"instanceOf",null),function St(t,e){u=e,h.fn=t}(xt.prototype,xt.create);const Rt=e.safe(globalThis.location),Ct=e.safe(globalThis.navigator),Lt=e.safe(globalThis.screen),Nt=e.safe(globalThis.devicePixelRatio),At=t=>{const e=/(.+\/)([^/]*#[^/]+)?/.exec(t);return e&&e[1]||""},kt=At(Rt.href),Tt=t=>null!=t&&null!=t[0]?"/"===t[0]?kt+t.slice(1):kt+t:kt,Dt=(t,e)=>600<=Math.min(t,e),Pt=t=>{t=t||{navigator:Ct,screen:Lt,devicePixelRatio:Nt};const s={ios:!1,android:!1,androidChrome:!1,desktop:!1,mobile:!1,phone:!1,tablet:!1,iphone:!1,iphoneX:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!!e.getGlobal().cordova,electron:!1},{userAgent:n,platform:i,standalone:r}=t.navigator||Ct,{width:o,height:a}=t.screen||Lt,l=t.devicePixelRatio,c=/(Android);?[\s/]+([\d.]+)?/.exec(n);let u=/(iPad).*OS\s([\d_]+)/.exec(n);const h=/(iPod)(.*OS\s([\d_]+))?/.exec(n);let d=!u&&/(iPhone\sOS|iOS)\s([\d_]+)/.exec(n);const f=0<=n.indexOf("MSIE ")||0<=n.indexOf("Trident/"),p=0<=n.indexOf("Edge/"),g=0<=n.indexOf("Gecko/")&&0<=n.indexOf("Firefox/"),m="Win32"===i;let y="MacIntel"===i;const b=n.toLowerCase().startsWith("electron");if(!d&&!u&&y&&(Ct.maxTouchPoints>0||"ontouchstart"in globalThis)&&void 0!==r){const t=/(Version)\/([\d.]+)/.exec(n);Dt(o,a)?u=t:d=t,y=!1}return s.ie=f,s.edge=p,s.firefox=g,c&&!m&&(s.os="android",s.osVersion=c[2],s.android=!0,s.androidChrome=0<=n.toLowerCase().indexOf("chrome"),0<=n.indexOf("Mobile")?s.phone=!0:s.tablet=!0),(u||d||h)&&(s.os="ios",s.ios=!0),d&&!h&&(s.osVersion=d[2].replace(/_/g,"."),s.phone=!0,s.iphone=!0,(375===o&&812===a||812===o&&375===a||414===o&&896===a||896===o&&414===a)&&(s.iphoneX=!0)),u&&(s.osVersion=u[2].replace(/_/g,"."),s.tablet=!0,s.ipad=!0),h&&(s.osVersion=h[3]?h[3].replace(/_/g,"."):null,s.phone=!0,s.ipod=!0),s.desktop=!(t=>"orientation"in globalThis||0<=t.indexOf("Windows Phone"))(n),s.desktop&&(s.electron=b,s.macos=y,s.windows=m,s.macos&&(s.os="macos"),s.windows&&(s.os="windows")),s.mobile=!s.desktop,!s.mobile||s.phone||s.tablet||(Dt(o,a)?s.tablet=!0:s.phone=!0),s.pixelRatio=l||1,s},Vt=Pt(),It={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t],0}};class Mt{constructor(t,e={}){this.init(t,e)}init(t,e={}){this.prefix=e.prefix||"i18next:",this.logger=t||It,this.options=e,this.debug=e.debug}setDebug(t){this.debug=t}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,s,n){return n&&!this.debug?null:("string"==typeof t[0]&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new Mt(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}}const $t=new Mt;class jt{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach((t=>{this.observers[t]=this.observers[t]||[],this.observers[t].push(e)})),this}off(t,e){if(this.observers[t])return e?(this.observers[t]=this.observers[t].filter((t=>t!==e)),void 0):(delete this.observers[t],void 0)}emit(t,...e){if(this.observers[t]){const s=[].concat(this.observers[t]);s.forEach((t=>{t(...e)}))}if(this.observers["*"]){const s=[].concat(this.observers["*"]);s.forEach((s=>{s.apply(s,[t,...e])}))}}}function Ft(){let t,e;const s=new Promise(((s,n)=>{t=s,e=n}));return s.resolve=t,s.reject=e,s}function Ut(t){return null==t?"":""+t}function qt(t,e,s){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}const r="string"!=typeof e?[].concat(e):e.split(".");for(;r.length>1;){if(i())return{};const e=n(r.shift());!t[e]&&s&&(t[e]=new s),t=Object.prototype.hasOwnProperty.call(t,e)?t[e]:{}}return i()?{}:{obj:t,k:n(r.shift())}}function Wt(t,e,s){const{obj:n,k:i}=qt(t,e,Object);n[i]=s}function Kt(t,e){const{obj:s,k:n}=qt(t,e);if(s)return s[n]}function Ht(t,e,s){const n=Kt(t,s);return void 0!==n?n:Kt(e,s)}function Bt(t,e,s){for(const n in e)"__proto__"!==n&&"constructor"!==n&&(n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?s&&(t[n]=e[n]):Bt(t[n],e[n],s):t[n]=e[n]);return t}function zt(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Yt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Jt(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(t=>Yt[t])):t}function Gt(t,e,s="."){if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let t=0;t<n.length;++t){if("string"==typeof i[n[t]]&&t+1<n.length)return;if(void 0===i[n[t]]){let e=2,r=n.slice(t,t+e).join(s),o=i[r];for(;void 0===o&&n.length>t+e;)e++,r=n.slice(t,t+e).join(s),o=i[r];if(void 0===o)return;if("string"==typeof o)return o;if(r&&"string"==typeof o[r])return o[r];const a=n.slice(t+e).join(s);return a?Gt(o,a,s):void 0}i=i[n[t]]}return i}"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;class Qt extends jt{constructor(t,e={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,s,n={}){const i=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,r=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[t,e];s&&"string"!=typeof s&&(o=o.concat(s)),s&&"string"==typeof s&&(o=o.concat(i?s.split(i):s)),t.indexOf(".")>-1&&(o=t.split("."));const a=Kt(this.data,o);return a||!r||"string"!=typeof s?a:Gt(this.data&&this.data[t]&&this.data[t][e],s,i)}addResource(t,e,s,n,i={silent:!1}){let r=this.options.keySeparator;void 0===r&&(r=".");let o=[t,e];s&&(o=o.concat(r?s.split(r):s)),t.indexOf(".")>-1&&(o=t.split("."),n=e,e=o[1]),this.addNamespaces(e),Wt(this.data,o,n),i.silent||this.emit("added",t,e,s,n)}addResources(t,e,s,n={silent:!1}){for(const n in s)"string"!=typeof s[n]&&"[object Array]"!==Object.prototype.toString.apply(s[n])||this.addResource(t,e,n,s[n],{silent:!0});n.silent||this.emit("added",t,e,s)}addResourceBundle(t,e,s,n,i,r={silent:!1}){let o=[t,e];t.indexOf(".")>-1&&(o=t.split("."),n=s,s=e,e=o[1]),this.addNamespaces(e);let a=Kt(this.data,o)||{};n?Bt(a,s,i):a={...a,...s},Wt(this.data,o,a),r.silent||this.emit("added",t,e,s)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return void 0!==this.getResource(t,e)}getResourceBundle(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}toJSON(){return this.data}}const Xt={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach((t=>{this.processors[t]&&(e=this.processors[t].process(e,s,n,i))})),e}},Zt={};class te extends jt{constructor(t,e={}){super(),function s(t,e,n){t.forEach((t=>{e[t]&&(n[t]=e[t])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=$t.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,e={interpolation:{}}){if(null==t)return!1;const s=this.resolve(t,e);return s&&void 0!==s.res}extractFromKey(t,e){let s=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===s&&(s=":");const n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator;let i=e.ns||this.options.defaultNS;if(s&&t.indexOf(s)>-1){const e=t.match(this.interpolator.nestingRegexp);if(e&&e.length>0)return{key:t,namespaces:i};const r=t.split(s);(s!==n||s===n&&this.options.ns.indexOf(r[0])>-1)&&(i=r.shift()),t=r.join(n)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}translate(t,e,s){if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);const n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:i,namespaces:r}=this.extractFromKey(t[t.length-1],e),o=r[r.length-1],a=e.lng||this.language,l=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(a&&"cimode"===a.toLowerCase()){if(l){const t=e.nsSeparator||this.options.nsSeparator;return o+t+i}return i}const c=this.resolve(t,e);let u=c&&c.res;const h=c&&c.usedKey||i,d=c&&c.exactUsedKey||i,f=Object.prototype.toString.apply(u),p=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,m="string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u;if(g&&u&&m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof p||"[object Array]"!==f)){if(!e.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...e,ns:r}):`key '${i} (${this.language})' returned an object instead of string.`;if(n){const t="[object Array]"===f,s=t?[]:{};let i=t?d:h;for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t)){const o=`${i}${n}${t}`;s[t]=this.translate(o,{...e,joinArrays:!1,ns:r}),s[t]===o&&(s[t]=u[t])}u=s}}else if(g&&"string"==typeof p&&"[object Array]"===f)u=u.join(p),u&&(u=this.extendTranslation(u,t,e,s));else{let r=!1,l=!1;const h=void 0!==e.count&&"string"!=typeof e.count,d=te.hasDefaultValue(e),f=h?this.pluralResolver.getSuffix(a,e.count):"",p=e[`defaultValue${f}`]||e.defaultValue;!this.isValidLookup(u)&&d&&(r=!0,u=p),this.isValidLookup(u)||(l=!0,u=i);const g=e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,m=g&&l?void 0:u,y=d&&p!==u&&this.options.updateMissing;if(l||r||y){if(this.logger.log(y?"updateKey":"missingKey",a,o,i,y?p:u),n){const t=this.resolve(i,{...e,keySeparator:!1});t&&t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let t=[];const s=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&s&&s[0])for(let e=0;e<s.length;e++)t.push(s[e]);else"all"===this.options.saveMissingTo?t=this.languageUtils.toResolveHierarchy(e.lng||this.language):t.push(e.lng||this.language);const r=(t,s,n)=>{this.options.missingKeyHandler?this.options.missingKeyHandler(t,o,s,y?n:m,y,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(t,o,s,y?n:m,y,e),this.emit("missingKey",t,o,s,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&h?t.forEach((t=>{this.pluralResolver.getSuffixes(t).forEach((s=>{r([t],i+s,e[`defaultValue${s}`]||p)}))})):r(t,i,p))}u=this.extendTranslation(u,t,e,c,s),l&&u===i&&this.options.appendNamespaceToMissingKey&&(u=`${o}:${i}`),(l||r)&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u}extendTranslation(t,e,s,n,i){if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,s,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const n=s.interpolation&&s.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;let r;if(n){const e=t.match(this.interpolator.nestingRegexp);r=e&&e.length}let o=s.replace&&"string"!=typeof s.replace?s.replace:s;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),t=this.interpolator.interpolate(t,o,s.lng||this.language,s),n){const e=t.match(this.interpolator.nestingRegexp),n=e&&e.length;r<n&&(s.nest=!1)}!1!==s.nest&&(t=this.interpolator.nest(t,((...t)=>i&&i[0]===t[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${t[0]} in key: ${e[0]}`),null):this.translate(...t,e)),s)),s.interpolation&&this.interpolator.reset()}const r=s.postProcess||this.options.postProcess,o="string"==typeof r?[r]:r;return null!=t&&o&&o.length&&!1!==s.applyPostProcessor&&(t=Xt.handle(o,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:n,...s}:s,this)),t}resolve(t,e={}){let s,n,i,r,o;return"string"==typeof t&&(t=[t]),t.forEach((t=>{if(this.isValidLookup(s))return;const a=this.extractFromKey(t,e),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==e.count&&"string"!=typeof e.count,h=void 0!==e.context&&("string"==typeof e.context||"number"==typeof e.context)&&""!==e.context,d=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);c.forEach((t=>{this.isValidLookup(s)||(o=t,!Zt[`${d[0]}-${t}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Zt[`${d[0]}-${t}`]=!0,this.logger.warn(`key "${n}" for languages "${d.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((n=>{if(this.isValidLookup(s))return;r=n;let o=l;const a=[o];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,t,e);else{let t;u&&(t=this.pluralResolver.getSuffix(n,e.count)),u&&h&&a.push(o+t),h&&a.push(o+=`${this.options.contextSeparator}${e.context}`),u&&a.push(o+=t)}let c;for(;c=a.pop();)this.isValidLookup(s)||(i=c,s=this.getResource(n,t,c,e))})))}))})),{res:s,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}isValidLookup(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}getResource(t,e,s,n={}){return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,s,n):this.resourceStore.getResource(t,e,s,n)}static hasDefaultValue(t){const e="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e===s.substring(0,e.length)&&void 0!==t[s])return!0;return!1}}function ee(t){return t.charAt(0).toUpperCase()+t.slice(1)}class se{constructor(t){this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$t.create("languageUtils")}getScriptPartFromCode(t){if(!t||t.indexOf("-")<0)return null;const e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}getLanguagePartFromCode(t){if(!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if("string"==typeof t&&t.indexOf("-")>-1){const e=["hans","hant","latn","cyrl","cans","mong","arab"];let s=t.split("-");return this.options.lowerCaseLng?s=s.map((t=>t.toLowerCase())):2===s.length?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=ee(s[1].toLowerCase()))):3===s.length&&(s[0]=s[0].toLowerCase(),2===s[1].length&&(s[1]=s[1].toUpperCase()),"sgn"!==s[0]&&2===s[2].length&&(s[2]=s[2].toUpperCase()),e.indexOf(s[1].toLowerCase())>-1&&(s[1]=ee(s[1].toLowerCase())),e.indexOf(s[2].toLowerCase())>-1&&(s[2]=ee(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isWhitelisted(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}isSupportedCode(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach((t=>{if(e)return;let s=this.formatLanguageCode(t);this.options.supportedLngs&&!this.isSupportedCode(s)||(e=s)})),!e&&this.options.supportedLngs&&t.forEach((t=>{if(e)return;let s=this.getLanguagePartFromCode(t);if(this.isSupportedCode(s))return e=s;e=this.options.supportedLngs.find((t=>{if(0===t.indexOf(s))return t}))})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];let s=t[e];return s||(s=t[this.getScriptPartFromCode(e)]),s||(s=t[this.formatLanguageCode(e)]),s||(s=t[this.getLanguagePartFromCode(e)]),s||(s=t.default),s||[]}toResolveHierarchy(t,e){const s=this.getFallbackCodes(e||this.options.fallbackLng||[],t),n=[],i=t=>{t&&(this.isSupportedCode(t)?n.push(t):this.logger.warn(`rejecting language code not found in supportedLngs: ${t}`))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),s.forEach((t=>{n.indexOf(t)<0&&i(this.formatLanguageCode(t))})),n}}let ne=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ie={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};class re{constructor(t,e={}){this.languageUtils=t,this.options=e,this.logger=$t.create("pluralResolver"),this.rules=function s(){const t={};return ne.forEach((e=>{e.lngs.forEach((s=>{t[s]={numbers:e.nr,plurals:ie[e.fc]}}))})),t}()}addRule(t,e){this.rules[t]=e}getRule(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){const e=this.getRule(t);return e&&e.numbers.length>1}getPluralFormsOfKey(t,e){return this.getSuffixes(t).map((t=>e+t))}getSuffixes(t){const e=this.getRule(t);return e?e.numbers.map((e=>this.getSuffix(t,e))):[]}getSuffix(t,e){const s=this.getRule(t);if(s){const t=s.noAbs?s.plurals(e):s.plurals(Math.abs(e));let n=s.numbers[t];this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]?i():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}return this.logger.warn(`no plural rule found for: ${t}`),""}}class oe{constructor(t={}){this.logger=$t.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(t=>t),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const e=t.interpolation;this.escape=void 0!==e.escape?e.escape:Jt,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?zt(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?zt(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?zt(e.nestingPrefix):e.nestingPrefixEscaped||zt("$t("),this.nestingSuffix=e.nestingSuffix?zt(e.nestingSuffix):e.nestingSuffixEscaped||zt(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(t,"g");const e=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(e,"g");const s=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(s,"g")}interpolate(t,e,s,n){let i,r,o;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}const c=t=>{if(t.indexOf(this.formatSeparator)<0){const i=Ht(e,a,t);return this.alwaysFormat?this.format(i,void 0,s,{...n,...e,interpolationkey:t}):i}const i=t.split(this.formatSeparator),r=i.shift().trim(),o=i.join(this.formatSeparator).trim();return this.format(Ht(e,a,r),o,s,{...n,...e,interpolationkey:r})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,d=[{regex:this.regexpUnescape,safeValue:t=>l(t)},{regex:this.regexp,safeValue:t=>this.escapeValue?l(this.escape(t)):l(t)}];return d.forEach((e=>{for(o=0;i=e.regex.exec(t);){if(r=c(i[1].trim()),void 0===r)if("function"==typeof u){const e=u(t,i,n);r="string"==typeof e?e:""}else{if(h){r=i[0];continue}this.logger.warn(`missed to pass in variable ${i[1]} for interpolating ${t}`),r=""}else"string"==typeof r||this.useRawValueToEscape||(r=Ut(r));const s=e.safeValue(r);if(t=t.replace(i[0],s),h?(e.regex.lastIndex+=s.length,e.regex.lastIndex-=i[0].length):e.regex.lastIndex=0,o++,o>=this.maxReplaces)break}})),t}nest(t,e,s={}){let n,i,r={...s};function o(t,e){const s=this.nestingOptionsSeparator;if(t.indexOf(s)<0)return t;const n=t.split(new RegExp(`${s}[ ]*{`));let i=`{${n[1]}`;t=n[0],i=this.interpolate(i,r),i=i.replace(/'/g,'"');try{r=JSON.parse(i),e&&(r={...e,...r})}catch(e){return this.logger.warn(`failed parsing options string in nesting for key ${t}`,e),`${t}${s}${i}`}return delete r.defaultValue,t}for(r.applyPostProcessor=!1,delete r.defaultValue;n=this.nestingRegexp.exec(t);){let a=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const t=n[1].split(this.formatSeparator).map((t=>t.trim()));n[1]=t.shift(),a=t,l=!0}if(i=e(o.call(this,n[1].trim(),r),r),i&&n[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=Ut(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${t}`),i=""),l&&(i=a.reduce(((t,e)=>this.format(t,e,s.lng,{...s,interpolationkey:n[1].trim()})),i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}class ae extends jt{constructor(t,e,s,n={}){super(),this.backend=t,this.store=e,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=$t.create("backendConnector"),this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,n.backend,n)}queueLoad(t,e,s,n){const i=[],r=[],o=[],a=[];return t.forEach((t=>{let n=!0;e.forEach((e=>{const o=`${t}|${e}`;!s.reload&&this.store.hasResourceBundle(t,e)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?r.indexOf(o)<0&&r.push(o):(this.state[o]=1,n=!1,r.indexOf(o)<0&&r.push(o),i.indexOf(o)<0&&i.push(o),a.indexOf(e)<0&&a.push(e)))})),n||o.push(t)})),(i.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:n}),{toLoad:i,pending:r,toLoadLanguages:o,toLoadNamespaces:a}}loaded(t,e,s){const n=t.split("|"),i=n[0],r=n[1];e&&this.emit("failedLoading",i,r,e),s&&this.store.addResourceBundle(i,r,s),this.state[t]=e?-1:2;const o={};this.queue.forEach((s=>{!function n(t,e,s,i){const{obj:r,k:o}=qt(t,e,Object);r[o]=r[o]||[],i&&(r[o]=r[o].concat(s)),i||r[o].push(s)}(s.loaded,[i],r),function a(t,e){let s=t.indexOf(e);for(;-1!==s;)t.splice(s,1),s=t.indexOf(e)}(s.pending,t),e&&s.errors.push(e),0!==s.pending.length||s.done||(Object.keys(s.loaded).forEach((t=>{o[t]||(o[t]=[]),s.loaded[t].length&&s.loaded[t].forEach((e=>{o[t].indexOf(e)<0&&o[t].push(e)}))})),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((t=>!t.done))}read(t,e,s,n=0,i=350,r){return t.length?this.backend[s](t,e,((o,a)=>{if(o&&a&&n<5)return setTimeout((()=>{this.read.call(this,t,e,s,n+1,2*i,r)}),i),void 0;r(o,a)})):r(null,{})}prepareLoading(t,e,s={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);const i=this.queueLoad(t,e,s,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach((t=>{this.loadOne(t)}))}load(t,e,s){this.prepareLoading(t,e,{},s)}reload(t,e,s){this.prepareLoading(t,e,{reload:!0},s)}loadOne(t,e=""){const s=t.split("|"),n=s[0],i=s[1];this.read(n,i,"read",void 0,void 0,((s,r)=>{s&&this.logger.warn(`${e}loading namespace ${i} for language ${n} failed`,s),!s&&r&&this.logger.log(`${e}loaded namespace ${i} for language ${n}`,r),this.loaded(t,s,r)}))}saveMissing(t,e,s,n,i,r={}){if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))return this.logger.warn(`did not save key "${s}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"),void 0;null!=s&&""!==s&&(this.backend&&this.backend.create&&this.backend.create(t,e,s,n,null,{...r,isUpdate:i}),t&&t[0]&&this.store.addResource(t[0],e,s,n))}}function le(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ce(){}class ue extends jt{constructor(t={},e){if(super(),this.options=le(t),this.services={},this.logger=$t,this.modules={external:[]},e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout((()=>{this.init(t,e)}),0)}}init(t={},e){function s(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof t&&(e=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function t(e){var s={};if("object"==typeof e[1]&&(s=e[1]),"string"==typeof e[1]&&(s.defaultValue=e[1]),"string"==typeof e[2]&&(s.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){var n=e[3]||e[2];Object.keys(n).forEach((function(t){s[t]=n[t]}))}return s},interpolation:{escapeValue:!0,format:(t,e,s,n)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1},...this.options,...le(t)},this.format=this.options.interpolation.format,e||(e=ce),!this.options.isClone){this.modules.logger?$t.init(s(this.modules.logger),this.options):$t.init(null,this.options);const t=new se(this.options);this.store=new Qt(this.options.resources,this.options);const e=this.services;e.logger=$t,e.resourceStore=this.store,e.languageUtils=t,e.pluralResolver=new re(t,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),e.interpolator=new oe(this.options),e.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},e.backendConnector=new ae(s(this.modules.backend),e.resourceStore,e,this.options),e.backendConnector.on("*",((t,...e)=>{this.emit(t,...e)})),this.modules.languageDetector&&(e.languageDetector=s(this.modules.languageDetector),e.languageDetector.init(e,this.options.detection,this.options)),this.modules.i18nFormat&&(e.i18nFormat=s(this.modules.i18nFormat),e.i18nFormat.init&&e.i18nFormat.init(this)),this.translator=new te(this.services,this.options),this.translator.on("*",((t,...e)=>{this.emit(t,...e)})),this.modules.external.forEach((t=>{t.init&&t.init(this)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.length>0&&"dev"!==t[0]&&(this.options.lng=t[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=(...e)=>this.store[t](...e)}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=(...e)=>(this.store[t](...e),this)}));const n=Ft(),i=()=>{const t=(t,s)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),n.resolve(s),e(t,s)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return t(null,this.t.bind(this));this.changeLanguage(this.options.lng,t)};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),n}loadResources(t,e=ce){let s=e,n="string"==typeof t?t:this.language;if("function"==typeof t&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return s();const t=[],e=e=>{if(!e)return;const s=this.services.languageUtils.toResolveHierarchy(e);s.forEach((e=>{t.indexOf(e)<0&&t.push(e)}))};if(n)e(n);else{const t=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);t.forEach((t=>e(t)))}this.options.preload&&this.options.preload.forEach((t=>e(t))),this.services.backendConnector.load(t,this.options.ns,s)}else s(null)}reloadResources(t,e,s){const n=Ft();return t||(t=this.languages),e||(e=this.options.ns),s||(s=ce),this.services.backendConnector.reload(t,e,(t=>{n.resolve(),s(t)})),n}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Xt.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}changeLanguage(t,e){this.isLanguageChangingTo=t;const s=Ft();this.emit("languageChanging",t);const n=(t,n)=>{n?(this.language=n,this.languages=this.services.languageUtils.toResolveHierarchy(n),this.translator.changeLanguage(n),this.isLanguageChangingTo=void 0,this.emit("languageChanged",n),this.logger.log("languageChanged",n)):this.isLanguageChangingTo=void 0,s.resolve(((...t)=>this.t(...t))),e&&e(t,((...t)=>this.t(...t)))},i=e=>{t||e||!this.services.languageDetector||(e=[]);const s="string"==typeof e?e:this.services.languageUtils.getBestMatchFromCodes(e);s&&(this.language||(this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s)),this.translator.language||this.translator.changeLanguage(s),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(s)),this.loadResources(s,(t=>{n(t,s)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),s}getFixedT(t,e,s){const n=(t,e,...i)=>{let r;r="object"!=typeof e?this.options.overloadTranslationOptionHandler([t,e].concat(i)):{...e},r.lng=r.lng||n.lng,r.lngs=r.lngs||n.lngs,r.ns=r.ns||n.ns;const o=this.options.keySeparator||".",a=s?`${s}${o}${t}`:t;return this.t(a,r)};return"string"==typeof t?n.lng=t:n.lngs=t,n.ns=e,n.keyPrefix=s,n}t(...t){return this.translator&&this.translator.translate(...t)}exists(...t){return this.translator&&this.translator.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,e={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;const r=(t,e)=>{const s=this.services.backendConnector.state[`${t}|${e}`];return-1===s||2===s};if(e.precheck){const t=e.precheck(this,r);if(void 0!==t)return t}return!!this.hasResourceBundle(s,t)||(!this.services.backendConnector.backend||!(!r(s,t)||n&&!r(i,t)))}loadNamespaces(t,e){const s=Ft();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((t=>{this.options.ns.indexOf(t)<0&&this.options.ns.push(t)})),this.loadResources((t=>{s.resolve(),e&&e(t)})),s):(e&&e(),Promise.resolve())}loadLanguages(t,e){const s=Ft();"string"==typeof t&&(t=[t]);const n=this.options.preload||[],i=t.filter((t=>n.indexOf(t)<0));return i.length?(this.options.preload=n.concat(i),this.loadResources((t=>{s.resolve(),e&&e(t)})),s):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}createInstance(t={},e){return new ue(t,e)}cloneInstance(t={},e=ce){const s={...this.options,...t,isClone:!0},n=new ue(s);return["store","services","language"].forEach((t=>{n[t]=this[t]})),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n.translator=new te(n.services,n.options),n.translator.on("*",((t,...e)=>{n.emit(t,...e)})),n.init(s,e),n.translator.options=n.options,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}const he=new ue,de=he;!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.I18N_DECLARE=9007199254740991]="I18N_DECLARE",void(t[t.ERROR_I18N_CORE_LAYER=CDP_DECLARE.DECLARE_ERROR_CODE(100,41,"i18next error")]="ERROR_I18N_CORE_LAYER")}();const fe=e.safe(globalThis.navigator);class pe{constructor(){this.type="backend",this._options={},this._fallbackMap={}}init(t,e,s){this._services=t,this._options=Object.assign({loadPath:"res/locales/{{ns}}.{{lng}}.json"},this._options,e),this._fallbackMap=Object.assign(this._fallbackMap,s.fallbackResources)}read(t,s,n){const i=this._fallbackMap[t]||t,r=e.isFunction(this._options.loadPath)?this._options.loadPath([i],[s]):this._options.loadPath,o=this.resolveUrl(r,{lng:i,ns:s});this.loadUrl(o,n)}resolveUrl(t,e){return Tt(this._services.interpolator.interpolate(t,e,void 0,void 0))}loadUrl(t,n){void(async()=>{try{const e=await s.request.json(t,void 0,this._options);n(null,e)}catch(s){const i=e.toResult(s),r=`failed loading: ${t}, ${i.message}`;if(e.RESULT_CODE.ERROR_AJAX_RESPONSE===i.code&&i.cause){const t=i.cause.status;if(500<=t&&t<600)return n(r,!0);if(400<=t&&t<500)return n(r,!1)}n(r,!1)}})()}}function ge(t,e){const{selectorAttr:s,targetAttr:n,optionsAttr:i,useOptionsAttr:r,parseDefaultValueFromContent:o,customTagName:a}=t,l=(t,e)=>o?{...t,defaultValue:e}:t,c=(t,s,n,i)=>{const r=e.t(n,l(i,s.html()));if(!1===a)s[t](r);else{const e=`<${a}>${r}</${a}>`,n=h(s[0].firstElementChild);n.is(a)?n.replaceWith(e):s[t](e)}},u=(t,s,n)=>{let i="text";if(s.startsWith("[")){const t=s.split("]");s=t[1].trim(),i=t[0].substr(1,t[0].length-1).trim()}if("html"===i)t.html(e.t(s,l(n,t.html())));else if("text"===i)t.text(e.t(s,l(n,t.text())));else if("prepend"===i)c("prepend",t,s,n);else if("append"===i)c("append",t,s,n);else if(i.startsWith("data-")){const r=i.substr("data-".length),o=e.t(s,l(n,t.data(r)));t.data(r,o),t.attr(i,o)}else t.attr(i,e.t(s,l(n,t.attr(i))))},d=(t,e)=>{const o=t.attr(s);if(!o)return;let a=t;const l=t.data(n);l&&(a=t.find(l)),e||!0!==r||(e=t.data(i)),e=e||{};for(const t of o.split(";")){const s=t.trim();""!==s&&u(a,s,e)}if(!0===r){const s={...e};delete s.lng,t.data(i,s)}};h.fn.localize=function f(t){return this.each(((e,n)=>{const i=h(n);d(i,t);const r=i.find(`[${s}]`);r.each(((e,s)=>{d(h(s),t)}))}))}}pe.type="backend";const me=de.t.bind(de),ye=()=>de.language||fe.language;class be{constructor(t){this._broker=new e.EventBroker,e.verify("instanceOf",Storage,t),this._storage=t}get kind(){const t=localStorage===this._storage?"local-storage":"session-storage";return`web:${t}`}async getItem(t,n){return e.dropUndefined(await s.deserialize(this._storage[t],n))}async setItem(t,n,i){i=i||{};const r=e.dropUndefined(n,!0),o=e.dropUndefined(await s.deserialize(this._storage[t],i));e.deepEqual(o,r)||(this._storage.setItem(t,await s.serialize(r,i)),!i.silent&&this._broker.trigger("@",t,r,o))}async removeItem(t,n){n=n||{},await e.checkCanceled(n.cancel);const i=this._storage[t];void 0!==i&&(this._storage.removeItem(t),!n.silent&&this._broker.trigger("@",t,null,await s.deserialize(i,n)))}async clear(t){t=t||{},await e.checkCanceled(t.cancel),0<this._storage.length&&(this._storage.clear(),!t.silent&&this._broker.trigger("@",null,null,null))}async keys(t){return await e.checkCanceled(t&&t.cancel),Object.keys(this._storage)}on(t){return this._broker.on("@",t)}off(t){this._broker.off("@",t)}}const ve=new be(localStorage);!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_SYNC_DECLARE=9007199254740991]="MVC_SYNC_DECLARE",t[t.ERROR_MVC_INVALID_SYNC_PARAMS=CDP_DECLARE.DECLARE_ERROR_CODE(100,61,"invalid sync params.")]="ERROR_MVC_INVALID_SYNC_PARAMS",t[t.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY=CDP_DECLARE.DECLARE_ERROR_CODE(100,62,"invalid sync storage entires.")]="ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY",void(t[t.ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND=CDP_DECLARE.DECLARE_ERROR_CODE(100,63,"data not found.")]="ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND")}();const _e=new class Ee{get kind(){return"null"}async sync(t,s,n){const{cancel:i}=n||{};await e.checkCanceled(i);const r=Promise.resolve("read"===t?{}:void 0);return s.trigger("@request",s,r),r}};function we(t){return e.result(t,"url")}const xe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};const Oe=new class Se{get kind(){return"rest"}sync(t,n,i){const r=Object.assign({dataType:"json"},i),o=r.url||we(n);if(!o)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_PARAMS,'A "url" property or function must be specified.');r.method=xe[t],null!=r.data||"create"!==t&&"update"!==t&&"patch"!==t||(r.data=n.toJSON());const a=s.ajax(o,r);return n.trigger("@request",n,a),a}};function Re(t,s){const n=function i(t){return!!t.constructor.idAttribute}(t),r=we(t),o=t.constructor.idAttribute,a=(()=>{const s={};if(n){const n=!!e.isFunction(t.has)&&t.has(o);s[o]=n?t.id:function i(t){return`${t}:${Date.now().toString(36)}`}(r)}return s})();return{model:n,url:r,key:`${r}${n?`${s}${a[o]}`:""}`,data:a}}class Ce{constructor(t,e){this._storage=t,this._separator=e?.separator||"::"}getStorage(){return this._storage}setStorage(t){return this._storage=t,this}setIdSeparator(t){const e=this._separator;return this._separator=t,e}get kind(){return"storage"}async sync(t,s,n){const{model:i,key:r,url:o,data:a}=Re(s,this._separator);if(!o)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_PARAMS,'A "url" property or function must be specified.');let l;switch(t){case"create":{const t=e.deepMerge({data:a},n);l=await this.update(r,s,o,a[Object.keys(a)[0]],t);break}case"update":case"patch":l=await this.update(r,s,o,s.id,n);break;case"delete":l=await this.destroy(r,s,o,n);break;case"read":if(l=await this.find(i,r,o,n),null==l)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_STORAGE_DATA_NOT_FOUND,`method: ${t}`);break;default:throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_PARAMS,`unknown method: ${t}`)}return s.trigger("@request",s,Promise.resolve(l)),l}async queryEntries(t,s){const n=await this._storage.getItem(t,s);if(null==n)return{ids:!0,items:[]};if(e.isArray(n))return{ids:!n.length||e.isString(n[0]),items:n};throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY,"entry is not Array type.")}saveEntries(t,e,s){return this._storage.setItem(t,e,s)}async find(t,s,n,i){if(t)return this._storage.getItem(s,i);try{const{ids:t,items:e}=await this.queryEntries(n,i);if(t){const t=[];for(const s of e){const e=await this._storage.getItem(`${n}${this._separator}${s}`,i);e&&t.push(e)}return t}return e}catch(t){const n=e.toResult(t);if(e.RESULT_CODE.ERROR_MVC_INVALID_SYNC_STORAGE_ENTRY===n.code)return this._storage.getItem(s,i);throw t}}async update(t,e,s,n,i){const{data:r}=i||{},o=Object.assign(e.toJSON(),r);if(await this._storage.setItem(t,o,i),t!==s){const{ids:t,items:e}=await this.queryEntries(s,i);t&&n&&!e.includes(n)&&(e.push(n),await this.saveEntries(s,e,i))}return this.find(!0,t,s,i)}async destroy(t,e,s,n){const i=await this._storage.getItem(t,n);if(await this._storage.removeItem(t,n),t!==s){const{ids:t,items:i}=await this.queryEntries(s,n);if(t&&e.id){const t=i.filter((t=>t!==e.id));await this.saveEntries(s,t,n)}}return i}}const Le=(t,e)=>new Ce(t,e),Ne=Le(ve);let Ae=_e;function ke(t){if(null==t)return Ae;{const e=Ae;return Ae=t,e}}!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_MODEL_DECLARE=9007199254740991]="MVC_MODEL_DECLARE",void(t[t.ERROR_MVC_INVALID_DATA=CDP_DECLARE.DECLARE_ERROR_CODE(100,66,"invalid data.")]="ERROR_MVC_INVALID_DATA")}();const Te=Symbol("define"),De=Symbol("update"),Pe=Symbol("validate"),Ve=Symbol("onchange"),Ie=Symbol("broker"),Me=Symbol("properties"),$e=Object.freeze(e.makeResult(e.RESULT_CODE.SUCCESS,"valid attribute."));class je extends e.EventReceiver{constructor(t,s){super();const n=Object.assign({},s),i=n.parse?this.parse(t,n):t,r={attrs:e.ObservableObject.from(i),baseAttrs:{...i},prevAttrs:{...i},cid:e.luid("model:",8),options:n,changeFired:!1};Object.defineProperty(this,Me,{value:r});for(const t of Object.keys(i))this[Te](this,t);this[Ve]=()=>{this.trigger("@change",this);const{_prevAttrs:t,_attrs:s}=this,n=Object.keys(e.diff(t,s));for(const e of n)this.trigger(`@change:${e}`,this,s[e],t[e],e);this[Me].changeFired=!0},this[Pe]({},n)}[De](t,s){if(!e.deepEqual(this._attrs[t],s)){const{attrs:e,changeFired:n}=this[Me];n&&(this[Me].changeFired=!1,this[Me].prevAttrs={...e}),delete this[Me].changedAttrs,this._prevAttrs[t]=e[t],e[t]=s}}[Te](t,e){const s=t.constructor.prototype;e in s||Object.defineProperty(s,e,{get(){return this._attrs[e]},set(t){this[De](e,t)},enumerable:!0,configurable:!0})}get id(){const t=Ue(this,"id"),{cid:e,attrs:s}=this[Me];return t in s&&s[t]||e}get _attrs(){return this[Me].attrs}get _baseAttrs(){return this[Me].baseAttrs}get _prevAttrs(){return this[Me].prevAttrs}get _changedAttrs(){return null==this[Me].changedAttrs&&(this[Me].changedAttrs=e.diff(this._baseAttrs,this._attrs)),this[Me].changedAttrs}get _cid(){return this[Me].cid}get _options(){return this[Me].options}get $(){return this}get[Ie](){return this._attrs.getBroker()}hasListener(t,e){return this[Ie].hasListener(t,e)}channels(){return this[Ie].channels().filter((t=>"@"!==t))}trigger(t,...e){this[Ie].trigger(t,...e)}off(t,e){this._attrs.off(t,e)}on(t,e){return this._attrs.on("@",this[Ve]),this._attrs.on(t,e)}once(t,e){const s=this.on(t,e),n=this.on(t,(()=>{s.unsubscribe(),n.unsubscribe()}));return s}get isValid(){return e.SUCCEEDED(this.validate({silent:!0}).code)}validate(t){const e=Object.assign({validate:!0,noThrow:!0,extend:!1},t);return this[Pe]({},e)}validateAttributes(t,e){return $e}[Pe](t,s){const{validate:n,silent:i,noThrow:r}=s||{};if(n){const n={...this._attrs,...t},o=this.validateAttributes(n,s);if(e.FAILED(o.code)&&(i||this.trigger("@invalid",this,n,o),!r))throw o;return o}return $e}has(t){return null!=this._attrs[t]}escape(t){return e.escapeHTML(this._attrs[t])}setAttributes(t,s){const{silent:n,extend:i}=s||{};try{n&&this._attrs.suspend(!0);const r=this[Pe](t,s);if(e.FAILED(r.code))return this;for(const e of Object.keys(t))e in this._attrs?this[De](e,t[e]):i&&(this[Te](this,e),this[De](e,t[e]))}finally{n&&this._attrs.resume()}return this}clear(t){const e={};for(const t of Object.keys(this._baseAttrs))e[t]=void 0;return this.setAttributes(e,t)}toJSON(){return e.deepCopy({...this._attrs})}clone(){const{constructor:t,_attrs:e,_options:s}=this;return new t(e,s)}hasChanged(t){return null==t?!e.isEmptyObject(this._changedAttrs):t in this._changedAttrs}changed(t){if(t){const s=e.diff(this._attrs,t);return e.isEmptyObject(s)?void 0:s}return this.hasChanged()?{...this._changedAttrs}:void 0}previous(t){return this._prevAttrs[t]}isNew(){const t=Ue(this,"id");return!this.has(t)}parse(t,e){return t}sync(t,e,s){return ke().sync(t,e,s)}async fetch(t){const e=Object.assign({parse:!0},t,{syncMethod:"read"});try{const t=await this.sync("read",this,e);return this.setAttributes(e.parse?this.parse(t,e):t,e),this.trigger("@sync",this,t,e),t}catch(t){throw this.trigger("@error",this,t,e),t}}async save(...t){const{attrs:s,options:n}=function i(...t){let s,[n,i,r]=t;return null==n||e.isObject(n)?(s=n,r=i):(s={})[n]=i,r&&r.data&&(s=Object.assign(s||{},r.data)),{attrs:s,options:r}}(...t),r=Object.assign({validate:!0,parse:!0,wait:!0,extend:!0},n);try{const{wait:t}=r,n=r.syncMethod=this.isNew()?"create":r.patch?"patch":"update";s&&(t?this[Pe](s,r):(this.setAttributes(s,r),this[Me].baseAttrs={...this._attrs}),r.data="patch"===n?s:Object.assign(this.toJSON(),s));const i=await this.sync(n,this,r);let o=r.parse?this.parse(i,r):i;return s&&t&&(o=Object.assign({},s,o)),e.isObject(o)&&!e.isEmptyObject(o)&&(this.setAttributes(o,r),this[Me].baseAttrs={...this._attrs}),this.trigger("@sync",this,i,r),i}catch(t){throw this.trigger("@error",this,t,r),t}}async destroy(t){const s=Object.assign({wait:!0},t,{syncMethod:"delete"});try{const{wait:t,cancel:n}=s,i=!this.isNew(),r=()=>{this.stopListening(),this.trigger("@destroy",this,s)};let o;return!t&&r(),i?o=await this.sync("delete",this,s):await e.checkCanceled(n),t&&r(),i&&this.trigger("@sync",this,o,s),o}catch(t){throw this.trigger("@error",this,t,s),t}}}function Fe(t){return t instanceof je}function Ue(t,s=""){return e.isObject(t)&&t.constructor.idAttribute||s}je.idAttribute="id",e.setMixClassAttribute(je,"instanceOf",null),function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_COLLECTION_DECLARE=9007199254740991]="MVC_COLLECTION_DECLARE",t[t.ERROR_MVC_INVALID_ACCESS=CDP_DECLARE.DECLARE_ERROR_CODE(100,71,"invalid access.")]="ERROR_MVC_INVALID_ACCESS",t[t.ERROR_MVC_INVALID_COMPARATORS=CDP_DECLARE.DECLARE_ERROR_CODE(100,72,"invalid comparators.")]="ERROR_MVC_INVALID_COMPARATORS",void(t[t.ERROR_MVC_EDIT_PERMISSION_DENIED=CDP_DECLARE.DECLARE_ERROR_CODE(100,73,"editing permission denied.")]="ERROR_MVC_EDIT_PERMISSION_DENIED")}();let qe=()=>new Intl.Collator(ye(),{sensitivity:"base",numeric:!0});function We(t,e){return(s,n)=>{const i=null!=s[t]?s[t]:"",r=null!=n[t]?n[t]:"";return e*qe().compare(i,r)}}function Ke(t,e){return(s,n)=>{const i=s[t],r=n[t];if(i===r)return 0;if(null==i)return-1*e;if(null==r)return 1*e;{const t=Object(i).valueOf(),s=Object(r).valueOf();return t===s?0:t<s?-1*e:1*e}}}function He(t,e){return(s,n)=>s[t]===n[t]?0:null==s[t]?-1*e:null==n[t]?1*e:s[t]<n[t]?-1*e:1*e}const Be=He,ze=He;function Ye(t){const{name:e,type:s,order:n}=t;switch(s){case"string":return We(e,n);case"boolean":return Be(e,n);case"number":return ze(e,n);case"date":return Ke(e,n);default:return He(e,n)}}function Je(t){const e=[];for(const s of t)e.push(Ye(s));return e}const{trunc:Ge}=Math;function Qe(t,e){return new Promise((s=>{const n=i=>{t.off(n),e&&(e.length=0,e.push(...t)),s(i)};t.on(n)}))}async function Xe(t,s){if(t instanceof e.ObservableArray)return await e.checkCanceled(s),{editor:t,promise:Qe(t)};if(Array.isArray(t)){const n=e.ObservableArray.from(t);return await e.checkCanceled(s),{editor:n,promise:Qe(n,t)}}throw e.makeResult(e.RESULT_CODE.NOT_SUPPORTED,"target is not Array or ObservableArray.")}function Ze(t,s){if(null==s||s.length<=0)return!1;for(const n of s)if(n<0||t<=n||Ge(n)!==n)throw e.makeResult(e.RESULT_CODE.NOT_SUPPORTED,`orders[] index is invalid. index: ${n}`);return!0}async function ts(t,e){if(t.length<=0)return[];const{editor:s,promise:n}=await Xe(t,e);return s.splice(0,t.length),n}async function es(t,e,s){if(null==e||e.length<=0)return[];const{editor:n,promise:i}=await Xe(t,s);return n.push(...e),i}async function ss(t,s,n,i){if(s<0||t.length<s||Ge(s)!==s)throw e.makeResult(e.RESULT_CODE.NOT_SUPPORTED,`insertArray(), index is invalid. index: ${s}`);if(null==n||n.length<=0)return[];const{editor:r,promise:o}=await Xe(t,i);return r.splice(s,0,...n),o}async function ns(t,s,n,i){if(s<0||t.length<s||Ge(s)!==s)throw e.makeResult(e.RESULT_CODE.NOT_SUPPORTED,`reorderArray(), index is invalid. index: ${s}`);if(!Ze(t.length,n))return[];const{editor:r,promise:o}=await Xe(t,i);let a=Array.from(r);{const t=[];for(const s of e.unique(n))t.push(r[s]),a[s]=null;a.splice(s,0,...t),a=a.filter((t=>null!=t))}for(const t of a.keys())r[t]=a[t];return o}async function is(t,s,n){if(!Ze(t.length,s))return[];const{editor:i,promise:r}=await Xe(t,n);s.sort(((t,e)=>t<e?1:-1));for(const t of e.unique(s))i.splice(t,1);return r}function rs(t,e){return s=>s[t]===e}function os(t,e){return s=>s[t]!==e}function as(t,e){return s=>s[t]>e}function ls(t,e){return s=>s[t]<e}function cs(t,e){return s=>s[t]>=e}function us(t,e){return s=>s[t]<=e}function hs(t,e){return s=>String(s[t]).toLocaleLowerCase().includes(e.toLocaleLowerCase())}function ds(t,e){return s=>!String(s[t]).toLocaleLowerCase().includes(e.toLocaleLowerCase())}function fs(t,s,n){return i=>{const r=e.computeDate(new Date,-1*s,n);return r<=i[t]}}function ps(t,s,n){return i=>{const r=e.computeDate(new Date,-1*s,n);return!(r<=i[t])}}function gs(t,e,s){return ms(0,cs(t,e),us(t,s))}function ms(t,e,s){return s?n=>{switch(t){case 0:return e(n)&&s(n);case 1:return e(n)||s(n);default:return void 0,e(n)&&s(n)}}:e}class ys{constructor(t={operators:[]}){const{operators:e,combination:s,sumKeys:n,limit:i,random:r,sortKeys:o}=t;this._operators=e,this._combination=null!=s?s:0,this._sumKeys=null!=n?n:[],this._limit=i,this._random=!!r,this._sortKeys=o||[]}get operators(){return this._operators}set operators(t){this._operators=t}get sumKeys(){return this._sumKeys}set sumKeys(t){this._sumKeys=t}get combination(){return this._combination}set combination(t){this._combination=t}get limit(){return this._limit}set limit(t){this._limit=t}get random(){return this._random}set random(t){this._random=t}get sortKeys(){return this._sortKeys}set sortKeys(t){this._sortKeys=t}get comparators(){return Je(this._sortKeys)}get filter(){let t;for(const e of this._operators){const{operator:s,prop:n,value:i}=e;switch(s){case 0:t=ms(this._combination,rs(n,i),t);break;case 1:t=ms(this._combination,os(n,i),t);break;case 2:t=ms(this._combination,as(n,i),t);break;case 3:t=ms(this._combination,ls(n,i),t);break;case 4:t=ms(this._combination,cs(n,i),t);break;case 5:t=ms(this._combination,us(n,i),t);break;case 6:t=ms(this._combination,hs(n,i),t);break;case 7:t=ms(this._combination,ds(n,i),t);break;case 8:t=ms(this._combination,fs(n,i,e.unit),t);break;case 9:t=ms(this._combination,ps(n,i,e.unit),t);break;case 10:t=ms(this._combination,gs(n,i,e.range),t);break;default:void 0}}return t||(()=>!0)}}const{trunc:bs}=Math;function vs(t,s,...n){let i=e.isFunction(s)?t.filter(s):t.slice();for(const t of n)e.isFunction(t)&&(i=e.sort(i,t));return i}const _s={0:null,1:{coeff:1},2:{coeff:1e3},3:{coeff:6e4},4:{coeff:36e5},5:{coeff:864e5},6:{coeff:1024},7:{coeff:1048576},8:{coeff:1073741824},9:{coeff:1099511627776}};function Es(t,s){const{random:n,limit:i,sumKeys:r}=s;if(n&&e.shuffle(t,!0),i){const{unit:e,value:s,prop:n}=i,r=[],o=_s[e],a=s,l=!!i.excess;let c=0;for(const e of t){if(o){if(null==e[n]){void 0;continue}c+=Number(e[n])/o.coeff}else c++;if(a<c){l&&r.push(e);break}r.push(e)}t=r}const o={total:t.length,items:t};if(0<r.length)for(const e of t)for(const t of r)t in o||(o[t]=0),o[t]+=Number(e[t]);return o}async function ws(t,s){const{filter:n,comparators:i,index:r,limit:o,cancel:a,progress:l,auto:c,noSearch:u}=s;if(!t.length)return{total:0,items:[],options:s};const h=u?t.slice():vs(t,n,...i),d=[];let f=null!=r?r:0;for(;;){if(await e.checkCanceled(a),f<0||h.length<=f||bs(f)!==f)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_ACCESS,`invalid index: ${f}`);if(null!=o&&(o<=0||bs(o)!==o))throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_ACCESS,`invalid limit: ${o}`);const t=Object.assign(s,{index:f}),n=h.slice(f,null!=o?f+o:void 0);d.push(...n);const i={total:h.length,items:n,options:{...t}};if(e.isFunction(l)&&l({...i}),c&&null!=o){if(!(h.length<=f+o)){f+=n.length;continue}i.items=d}return i}}function xs(t,e,s){const{noCache:n,noSearch:i}=s,r=!n&&!i&&e.total&&e.total===e.items.length;r&&(t.cache={...e},delete t.cache.options)}async function Os(t,s,n){const i=function r(t){const e=Object.assign({sortKeys:[]},t),{noSearch:s,sortKeys:n}=e;return s||e.comparators&&!(e.comparators.length<=0)||(e.comparators=Je(n)),e}(n),{sortKeys:o,comparators:a,filter:l}=i;return Object.assign(t,{sortKeys:o,comparators:a,filter:l}),t.cache?(await ws(t.cache.items,i)).items:(await async function c(t,s,n){const{index:i,limit:r,cancel:o,progress:a,auto:l}=n,c=[],u=t=>{const e=!!t.options?.condition;return e||t.total===t.items.length};let h=null!=i?i:0;for(;;){if(await e.checkCanceled(o),h<0||bs(h)!==h)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_ACCESS,`invalid index: ${h}`);if(null!=r&&(r<=0||bs(r)!==r))throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_ACCESS,`invalid limit: ${r}`);const i=Object.assign(n,{index:h});let d=await s(i);const f=Object.assign({},i,d.options);if(u(d)){xs(t,d,f);const{noSearch:e,condition:s}=f;if(s){const e=new ys(s);d=Es(vs(d.items,e.filter,...e.comparators),e),t.cache&&(Object.assign(t.cache,d),delete t.cache.options)}return ws(d.items,Object.assign(i,{noSearch:e}))}{c.push(...d.items);const s={total:d.total,items:d.items,options:f};if(e.isFunction(a)&&a({...s}),l&&null!=r){if(!(d.total<=h+r)){h+=d.items.length;continue}s.items=c}return xs(t,s,f),s}}}(t,s,i)).items}const Ss=Symbol("properties"),Rs=Symbol("create-iterable-iterator"),Cs=Symbol("prepare-model"),Ls=Symbol("remove-models"),Ns=Symbol("add-reference"),As=Symbol("remove-reference"),ks=Symbol("model-event-handler"),Ts=t=>{const{sortKeys:e,comparators:s}=t;return{sortKeys:e||[],comparators:s||Je(e||[])}},Ds=t=>t?.idAttribute||"id",Ps=(t,e)=>t[Ds(e)],Vs=t=>t.constructor.model,Is=(t,s)=>{const n=Vs(s);return!!e.isFunction(n)&&t instanceof n},Ms=(t,e,s)=>{s=Math.min(Math.max(s,0),t.length),t.splice(s,0,...e)};const $s={add:!0,remove:!0,merge:!0},js={add:!0,remove:!1};class Fs extends e.EventSource{constructor(t,s){super();const n=Object.assign({modelOptions:{},queryOptions:{}},s),{modelOptions:i,queryOptions:r}=n;this[Ss]={constructOptions:n,provider:n.provider||this.sync.bind(this),cid:e.luid("collection:",8),queryOptions:r,queryInfo:{},modelOptions:i,byId:new Map,store:[]},this.initQueryInfo(),this[ks]=(t,s,n,i)=>{if(e.isString(t)&&t.startsWith("@")&&s){if(("@add"===t||"@remove"===t)&&n!==this)return;if("@destroy"===t&&(i=n,n=this,this.remove(s,i)),t.startsWith("@change")&&(i={},n=this,"@change"===t)){const t=((t,s)=>{const n=t,i=Ds(s),r=n[i];if(e.isString(r))return{id:n[i],prevId:e.isFunction(n.previous)?n.previous(i):void 0}})(s,Vs(this));if(t){const{id:e,prevId:n}=t;if(n!==e){const{byId:t}=this[Ss];t.set(e,s),null!=n&&t.delete(n)}}}this.trigger.call(this,t,s,n,i)}},t&&this.reset(t,Object.assign({silent:!0},n))}initQueryInfo(){const{sortKeys:t,comparators:e}=Ts(this._defaultQueryOptions);this._queryInfo={sortKeys:t,comparators:e}}release(t){return this[Ss].afterFilter=void 0,this[Ss].store=[],this.initQueryInfo(),this.stopListening()}clearCache(){delete this._queryInfo.cache}get id(){return this[Ss].cid}get models(){const{_queryFilter:t,_afterFilter:e}=this,{store:s}=this[Ss];return e&&e!==t?s.filter(e):s}get length(){return this.models.length}get filtered(){return!!this[Ss].afterFilter}get _queryInfo(){return this[Ss].queryInfo}set _queryInfo(t){this[Ss].queryInfo=t}get _options(){return this[Ss].constructOptions}get _provider(){return this[Ss].provider}get _defaultParse(){return this._options.parse}get _defaultQueryOptions(){return this[Ss].queryOptions}get _lastQueryOptions(){const{sortKeys:t,comparators:e,filter:s}=this[Ss].queryInfo,n={};return t.length&&(n.sortKeys=t),e.length&&(n.comparators=e),s&&(n.filter=s),n}get _comparators(){return this[Ss].queryInfo.comparators}get _queryFilter(){return this[Ss].queryInfo.filter}get _afterFilter(){return this[Ss].afterFilter}get(t){if(null==t)return;const{byId:s}=this[Ss];if(e.isString(t)&&s.has(t))return s.get(t);const n=Ps(Fe(t)?t.toJSON():t,Vs(this)),i=t._cid;return s.get(n)||i&&s.get(i)}has(t){return null!=this.get(t)}toJSON(){return this.models.map((t=>Fe(t)?t.toJSON():t))}clone(){const{constructor:t,_options:e}=this;return new t(this[Ss].store,e)}sort(t){const s=t||{},{noThrow:n,silent:i}=s,{sortKeys:r,comparators:o}=Ts(s),a=0<o.length?o:this._comparators;if(a.length<=0){if(n)return this;throw e.makeResult(e.RESULT_CODE.ERROR_MVC_INVALID_COMPARATORS,"Cannot sort a set without a comparator.")}return this[Ss].store=vs(this[Ss].store,this._afterFilter,...a),this[Ss].queryInfo.comparators=a,0<r.length&&(this[Ss].queryInfo.sortKeys=r),i||this.trigger("@sort",this,s),this}filter(...t){const s=function n(...t){const[s,n]=t;return null==s?{}:e.isFunction(s)?Object.assign({},n,{filter:s}):s}(...t),{filter:i,silent:r}=s;return i!==this[Ss].afterFilter&&(this[Ss].afterFilter=i,r||this.trigger("@filter",this,s)),this}at(t){return e.at(this.models,t)}first(t){const e=this.models;return null==t?e[0]:e.slice(0,t)}last(t){const e=this.models;return null==t?e[e.length-1]:e.slice(-1*t)}parse(t,e){return t}async sync(t){const e=await ke().sync("read",this,t);return{total:e.length,items:e,options:t}}async fetch(t){const s=Object.assign({progress:e.noop},this._defaultQueryOptions,t);try{const{progress:t,limit:e,reset:n,noCache:i}=s,{_queryInfo:r,_provider:o}=this,a=null==e;s.progress=e=>{t(e),!a&&this.add(e.items,s)},i&&this.clearCache(),!a&&n&&this.reset(void 0,{silent:!0});const l=await Os(r,o,s);return a&&(n?this.reset(l,s):this.add(l,s)),this.trigger("@sync",this,l,s),l}catch(t){throw this.trigger("@error",void 0,this,t,s),t}}requery(t){const e=Object.assign({},this._lastQueryOptions,t,{reset:!0});return this.fetch(e)}set(t,s){if(e.isNil(t))return;const n=Object.assign({parse:this._defaultParse},$s,s);n.parse&&!Is(t,this)&&(t=this.parse(t,s)||[]);const i=!e.isArray(t),r=i?[t]:t.slice(),{store:o}=this[Ss],a=(t=>{if(null!=t)return t>o.length?o.length:t<0?(t+=o.length,t<0?0:t):t})(n.at),l=[],c=[],u=[],h=[],d=new Set,{add:f,merge:p,remove:g,parse:m,silent:y}=n;let b=!1;const v=this._comparators.length&&null==a&&!1!==n.sort;for(const[t,s]of r.entries()){const i=this.get(s);if(i){if(p&&s!==i){let t=Fe(s)?s.toJSON():s;m&&e.isFunction(i.parse)&&(t=i.parse(t,n)),e.isFunction(i.setAttributes)?i.setAttributes(t,n):Object.assign(i,t),u.push(i),v&&!b&&(b=!e.isFunction(i.hasChanged)||i.hasChanged())}d.has(i)||(d.add(i),l.push(i)),r[t]=i}else if(f){const e=r[t]=this[Cs](s,n);e&&(c.push(e),this[Ns](e),d.add(e),l.push(e))}}if(g){for(const t of o)d.has(t)||h.push(t);h.length&&this[Ls](h,n)}let _=!1;const E=!v&&f&&g;if(l.length&&E?(_=o.length!==l.length||o.some(((t,e)=>t!==l[e])),o.length=0,Ms(o,l,0)):c.length&&(v&&(b=!0),Ms(o,c,null==a?o.length:a)),b&&this.sort({silent:!0}),!y){for(const[t,s]of c.entries())null!=a&&(n.index=a+t),Fe(s)||s instanceof e.EventBroker?s.trigger("@add",s,this,n):this.trigger("@add",s,this,n);(b||_)&&this.trigger("@sort",this,n),(c.length||h.length||u.length)&&(n.changes={added:c,removed:h,merged:u},this.trigger("@update",this,n))}const w=r.filter((t=>null!=t));return i?w[0]:w.length?w:void 0}reset(t,e){const s=Object.assign({},e),{store:n}=this[Ss];for(const t of n)this[As](t);var i;s.previous=n.slice(),i=this[Ss],i.byId.clear(),i.store.length=0;const r=t?this.add(t,Object.assign({silent:!0},s)):[];return s.silent||this.trigger("@reset",this,s),r}add(t,e){return this.set(t,Object.assign({merge:!1},e,js))}remove(t,s){const n=Object.assign({},s),i=!e.isArray(t),r=i?[t]:t.slice(),o=this[Ls](r,n);return!n.silent&&o.length&&(n.changes={added:[],merged:[],removed:o},this.trigger("@update",this,n)),i?o[0]:o}push(t,e){const{store:s}=this[Ss];return this.add(t,Object.assign({at:s.length},e))}pop(t){const{store:e}=this[Ss];return this.remove(e[e.length-1],t)}unshift(t,e){return this.add(t,Object.assign({at:0},e))}shift(t){const{store:e}=this[Ss];return this.remove(e[0],t)}create(t,e){const{wait:s}=e||{},n=this[Cs](t,e);if(!n)return;const i=Fe(n)?n:void 0;return s&&i||this.add(n,e),i&&(async()=>{try{await i.save(void 0,e),s&&this.add(n,e)}catch(t){this.trigger("@error",i,this,t,e)}})(),n}[Cs](t,s){if(Is(t,this))return t;const n=Vs(this),{modelOptions:i}=this[Ss];if(n){const r=Object.assign({},i,s),o=new n(t,r);if(e.isFunction(o.validate)){const s=o.validate();if(e.FAILED(s.code))return this.trigger("@invalid",t,this,s,r),void 0}return o}return t}[Ls](t,s){const n=Object.assign({},s),i=[];for(const s of t){const t=this.get(s);if(!t)continue;const{store:r}=this[Ss],o=r.indexOf(t);r.splice(o,1),this[As](t,!0),n.silent||(n.index=o,Fe(t)||t instanceof e.EventBroker?t.trigger("@remove",t,this,n):this.trigger("@remove",t,this,n)),i.push(t),this[As](t,!1)}return i}[Ns](t){const{byId:s}=this[Ss],{_cid:n,id:i}=t;null!=n&&s.set(n,t),null!=i&&s.set(i,t),(Fe(t)||t instanceof e.EventPublisher)&&this.listenTo(t,"*",this[ks])}[As](t,s=!1){const{byId:n}=this[Ss],{_cid:i,id:r}=t;null!=i&&n.delete(i),null!=r&&n.delete(r),!s&&(Fe(t)||t instanceof e.EventPublisher)&&this.stopListening(t,"*",this[ks])}[Symbol.iterator](){const t={base:this.models,pointer:0,next(){return this.pointer<this.base.length?{done:!1,value:this.base[this.pointer++]}:{done:!0,value:void 0}}};return t}entries(){return this[Rs](((t,e)=>[t,e]))}keys(){return this[Rs]((t=>t))}values(){return this[Rs](((t,e)=>e))}[Rs](t){const e={base:this.models,pointer:0},s=t=>Ps(e.base[t],Vs(this))||String(t),n={next(){const n=e.pointer;return n<e.base.length?(e.pointer++,{done:!1,value:t(s(n),e.base[n])}):{done:!0,value:void 0}},[Symbol.iterator](){return this}};return n}}async function Us(t,s,n){const i=function r(t){if(t.filtered)throw e.makeResult(e.RESULT_CODE.ERROR_MVC_EDIT_PERMISSION_DENIED,"collection is applied after-filter.");return t.models.slice()}(t),o=await n(i,s?.cancel);return t.set(i,s),o}function qs(t){return t.reduce(((t,e)=>Math.min(t,e)))}function Ws(t,e,s,n,i){const r=!!e.length;return{type:t,list:e,range:r?{from:s,to:n}:void 0,insertedTo:r?i:void 0}}e.setMixClassAttribute(Fs,"instanceOf",null);const Ks=e.safe(globalThis.document),Hs=Symbol("properties"),Bs=Symbol("ensure-element");class zs extends e.EventSource{constructor(t){super();const{el:s,tagName:n,id:i,attributes:r,className:o,events:a}=t||{};this[Hs]={cid:e.luid("view:",8),events:a,id:i,className:o,attributes:r,tagName:n||"div"},this[Bs](s)}release(){return this.undelegateEvents(),this.stopListening(),this.off(),this}remove(){return this.release(),this.$el.remove(),this}get id(){const{cid:t,id:e}=this[Hs];return e||t}get el(){return this[Hs].$el[0]}get $el(){return this[Hs].$el}get _cid(){return this[Hs].cid}get _tagName(){return this[Hs].tagName}get _attrs(){const{attributes:t,id:s,className:n}=this[Hs];return Object.assign(e.drop({id:s,class:n}),t)}setElement(t){return this.undelegateEvents(),this[Hs].$el=h(t),this.delegateEvents(),this}delegateEvents(t){const s=t||this.events();if(e.isEmptyObject(s))return this;this.undelegateEvents();for(const t of Object.keys(s)){let n=s[t];if(e.isFunction(n)||(n=this[n]),!n)continue;const i=/^(\S+)\s*(.*)$/.exec(t);this.delegate(i[1],i[2],n.bind(this))}return this}undelegateEvents(){return this.$el&&this.$el.off(`.${this._cid}`),this}delegate(t,...e){return this.$el.on(`${t}.${this._cid}`,...e),this}undelegate(t,...e){return this.$el.off(`${t}.${this._cid}`,...e),this}$(t){return this.$el.find(t)}events(){return Object.assign({},this[Hs].events)}[Bs](t){if(t)this.setElement(t);else{const{_attrs:t,_tagName:e}=this;this.setElement(Ks.createElement(e)),this.$el.attr(t)}}}const Ys=new WeakMap,Js=t=>(...e)=>{const s=t(...e);return Ys.set(s,!0),s},Gs=t=>"function"==typeof t&&Ys.has(t),Qs="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,Xs=(t,e,s=null,n=null)=>{for(;e!==s;){const s=e.nextSibling;t.insertBefore(e,n),e=s}},Zs=(t,e,s=null)=>{for(;e!==s;){const s=e.nextSibling;t.removeChild(e),e=s}},tn={},en={},sn=`{{lit-${String(Math.random()).slice(2)}}}`,nn=`\x3c!--${sn}--\x3e`,rn=new RegExp(`${sn}|${nn}`),on="$lit$";class an{constructor(t,e){this.parts=[],this.element=e;const s=[],n=[],i=document.createTreeWalker(e.content,133,null,!1);let r=0,o=-1,a=0;const{strings:l,values:{length:c}}=t;for(;a<c;){const t=i.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:s}=e;let n=0;for(let t=0;t<s;t++)ln(e[t].name,on)&&n++;for(;n-- >0;){const e=l[a],s=hn.exec(e)[2],n=s.toLowerCase()+on,i=t.getAttribute(n);t.removeAttribute(n);const r=i.split(rn);this.parts.push({type:"attribute",index:o,name:s,strings:r}),a+=r.length-1}}"TEMPLATE"===t.tagName&&(n.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(sn)>=0){const n=t.parentNode,i=e.split(rn),r=i.length-1;for(let e=0;e<r;e++){let s,r=i[e];if(""===r)s=un();else{const t=hn.exec(r);null!==t&&ln(t[2],on)&&(r=r.slice(0,t.index)+t[1]+t[2].slice(0,-on.length)+t[3]),s=document.createTextNode(r)}n.insertBefore(s,t),this.parts.push({type:"node",index:++o})}""===i[r]?(n.insertBefore(un(),t),s.push(t)):t.data=i[r],a+=r}}else if(8===t.nodeType)if(t.data===sn){const e=t.parentNode;null!==t.previousSibling&&o!==r||(o++,e.insertBefore(un(),t)),r=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(s.push(t),o--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(sn,e+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=n.pop()}for(const t of s)t.parentNode.removeChild(t)}}const ln=(t,e)=>{const s=t.length-e.length;return s>=0&&t.slice(s)===e},cn=t=>-1!==t.index,un=()=>document.createComment(""),hn=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class dn{constructor(t,e,s){this.__parts=[],this.template=t,this.processor=e,this.options=s}update(t){let e=0;for(const s of this.__parts)void 0!==s&&s.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=Qs?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],s=this.template.parts,n=document.createTreeWalker(t,133,null,!1);let i,r=0,o=0,a=n.nextNode();for(;r<s.length;)if(i=s[r],cn(i)){for(;o<i.index;)o++,"TEMPLATE"===a.nodeName&&(e.push(a),n.currentNode=a.content),null===(a=n.nextNode())&&(n.currentNode=e.pop(),a=n.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(a,i.name,i.strings,this.options));r++}else this.__parts.push(void 0),r++;return Qs&&(document.adoptNode(t),customElements.upgrade(t)),t}}const fn=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),pn=` ${sn} `;class gn{constructor(t,e,s,n){this.strings=t,this.values=e,this.type=s,this.processor=n}getHTML(){const t=this.strings.length-1;let e="",s=!1;for(let n=0;n<t;n++){const t=this.strings[n],i=t.lastIndexOf("\x3c!--");s=(i>-1||s)&&-1===t.indexOf("--\x3e",i+1);const r=hn.exec(t);e+=null===r?t+(s?pn:nn):t.substr(0,r.index)+r[1]+r[2]+on+r[3]+sn}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");let e=this.getHTML();return void 0!==fn&&(e=fn.createHTML(e)),t.innerHTML=e,t}}class mn extends gn{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),e=t.content,s=e.firstChild;return e.removeChild(s),Xs(e,s.firstChild),t}}const yn=t=>null===t||!("object"==typeof t||"function"==typeof t),bn=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class vn{constructor(t,e,s){this.dirty=!0,this.element=t,this.name=e,this.strings=s,this.parts=[];for(let t=0;t<s.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new _n(this)}_getValue(){const t=this.strings,e=t.length-1,s=this.parts;if(1===e&&""===t[0]&&""===t[1]){const t=s[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!bn(t))return t}let n="";for(let i=0;i<e;i++){n+=t[i];const e=s[i];if(void 0!==e){const t=e.value;if(yn(t)||!bn(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class _n{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===tn||yn(t)&&t===this.value||(this.value=t,Gs(t)||(this.committer.dirty=!0))}commit(){for(;Gs(this.value);){const t=this.value;this.value=tn,t(this)}this.value!==tn&&this.committer.commit()}}class En{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(un()),this.endNode=t.appendChild(un())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=un()),t.__insert(this.endNode=un())}insertAfterPart(t){t.__insert(this.startNode=un()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;Gs(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=tn,t(this)}const t=this.__pendingValue;t!==tn&&(yn(t)?t!==this.value&&this.__commitText(t):t instanceof gn?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):bn(t)?this.__commitIterable(t):t===en?(this.value=en,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t;const s="string"==typeof t?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=s:this.__commitNode(document.createTextNode(s)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof dn&&this.value.template===e)this.value.update(t.values);else{const s=new dn(e,t.processor,this.options),n=s._clone();s.update(t.values),this.__commitNode(n),this.value=s}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let s,n=0;for(const i of t)s=e[n],void 0===s&&(s=new En(this.options),e.push(s),0===n?s.appendIntoPart(this):s.insertAfterPart(e[n-1])),s.setValue(i),s.commit(),n++;n<e.length&&(e.length=n,this.clear(s&&s.endNode))}clear(t=this.startNode){Zs(this.startNode.parentNode,t.nextSibling,this.endNode)}}class wn{constructor(t,e,s){if(this.value=void 0,this.__pendingValue=void 0,2!==s.length||""!==s[0]||""!==s[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=s}setValue(t){this.__pendingValue=t}commit(){for(;Gs(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=tn,t(this)}if(this.__pendingValue===tn)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=tn}}class xn extends vn{constructor(t,e,s){super(t,e,s),this.single=2===s.length&&""===s[0]&&""===s[1]}_createPart(){return new On(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class On extends _n{}let Sn=!1;(()=>{try{const t={get capture(){return Sn=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class Rn{constructor(t,e,s){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=s,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;Gs(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=tn,t(this)}if(this.__pendingValue===tn)return;const t=this.__pendingValue,e=this.value,s=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),n=null!=t&&(null==e||s);s&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=Cn(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=tn}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Cn=t=>t&&(Sn?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);const Ln=new class Nn{handleAttributeExpressions(t,e,s,n){const i=e[0];if("."===i){const n=new xn(t,e.slice(1),s);return n.parts}if("@"===i)return[new Rn(t,e.slice(1),n.eventContext)];if("?"===i)return[new wn(t,e.slice(1),s)];const r=new vn(t,e,s);return r.parts}handleTextExpression(t){return new En(t)}};function An(t){let e=kn.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},kn.set(t.type,e));let s=e.stringsArray.get(t.strings);if(void 0!==s)return s;const n=t.strings.join(sn);return s=e.keyString.get(n),void 0===s&&(s=new an(t,t.getTemplateElement()),e.keyString.set(n,s)),e.stringsArray.set(t.strings,s),s}const kn=new Map,Tn=new WeakMap;"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const Dn=(t,...e)=>new gn(t,e,"html",Ln);var Pn=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,s=t[Symbol.asyncIterator];return s?s.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=t[s]&&function(e){return new Promise((function(n,i){e=t[s](e),function r(t,e,s,n){Promise.resolve(n).then((function(e){t({value:e,done:s})}),e)}(n,i,e.done,e.value)}))}}};const Vn=Js(((t,e)=>async s=>{var n,i;if(!(s instanceof En))throw new Error("asyncAppend can only be used in text bindings");if(t===s.value)return;let r;s.value=t;let o=0;try{for(var a,l=Pn(t);a=await l.next(),!a.done;){let n=a.value;if(s.value!==t)break;0===o&&s.clear(),void 0!==e&&(n=e(n,o));let i=s.startNode;void 0!==r&&(i=un(),r.endNode=i,s.endNode.parentNode.insertBefore(i,s.endNode)),r=new En(s.options),r.insertAfterNode(i),r.setValue(n),r.commit(),o++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}}));var In=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,s=t[Symbol.asyncIterator];return s?s.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=t[s]&&function(e){return new Promise((function(n,i){e=t[s](e),function r(t,e,s,n){Promise.resolve(n).then((function(e){t({value:e,done:s})}),e)}(n,i,e.done,e.value)}))}}};const Mn=Js(((t,e)=>async s=>{var n,i;if(!(s instanceof En))throw new Error("asyncReplace can only be used in text bindings");if(t===s.value)return;const r=new En(s.options);s.value=t;let o=0;try{for(var a,l=In(t);a=await l.next(),!a.done;){let n=a.value;if(s.value!==t)break;0===o&&(s.clear(),r.appendIntoPart(s)),void 0!==e&&(n=e(n,o)),r.setValue(n),r.commit(),o++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}})),$n=new WeakMap,jn=Js((t=>e=>{if(!(e instanceof En))throw new Error("cache can only be used in text bindings");let s=$n.get(e);void 0===s&&(s=new WeakMap,$n.set(e,s));const n=e.value;if(n instanceof dn){if(t instanceof gn&&n.template===e.options.templateFactory(t))return e.setValue(t),void 0;{let t=s.get(n.template);void 0===t&&(t={instance:n,nodes:document.createDocumentFragment()},s.set(n.template,t)),Xs(t.nodes,e.startNode.nextSibling,e.endNode)}}if(t instanceof gn){const n=e.options.templateFactory(t),i=s.get(n);void 0!==i&&(e.setValue(i.nodes),e.commit(),e.value=i.instance)}e.setValue(t)}));class Fn{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const e=(t.getAttribute("class")||"").split(/\s+/);for(const t of e)this.classes.add(t)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach((e=>t+=e+" ")),this.element.setAttribute("class",t)}}}const Un=new WeakMap,qn=Js((t=>e=>{if(!(e instanceof _n)||e instanceof On||"class"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:s}=e,{element:n}=s;let i=Un.get(e);void 0===i&&(n.setAttribute("class",s.strings.join(" ")),Un.set(e,i=new Set));const r=n.classList||new Fn(n);i.forEach((e=>{e in t||(r.remove(e),i.delete(e))}));for(const e in t){const s=t[e];s!=i.has(e)&&(s?(r.add(e),i.add(e)):(r.remove(e),i.delete(e)))}"function"==typeof r.commit&&r.commit()})),Wn=new WeakMap,Kn=Js(((t,e)=>s=>{const n=Wn.get(s);if(Array.isArray(t)){if(Array.isArray(n)&&n.length===t.length&&t.every(((t,e)=>t===n[e])))return}else if(n===t&&(void 0!==t||Wn.has(s)))return;s.setValue(e()),Wn.set(s,Array.isArray(t)?Array.from(t):t)})),Hn=new WeakMap,Bn=Js((t=>e=>{const s=Hn.get(e);if(void 0===t&&e instanceof _n){if(void 0!==s||!Hn.has(e)){const t=e.committer.name;e.committer.element.removeAttribute(t)}}else t!==s&&e.setValue(t);Hn.set(e,t)})),zn=(t,e)=>{const s=t.startNode.parentNode,n=void 0===e?t.endNode:e.startNode,i=s.insertBefore(un(),n);s.insertBefore(un(),n);const r=new En(t.options);return r.insertAfterNode(i),r},Yn=(t,e)=>(t.setValue(e),t.commit(),t),Jn=(t,e,s)=>{const n=t.startNode.parentNode,i=s?s.startNode:t.endNode,r=e.endNode.nextSibling;r!==i&&Xs(n,e.startNode,r,i)},Gn=t=>{Zs(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},Qn=(t,e,s)=>{const n=new Map;for(let i=e;i<=s;i++)n.set(t[i],i);return n},Xn=new WeakMap,Zn=new WeakMap,ti=Js(((t,e,s)=>{let n;return void 0===s?s=e:void 0!==e&&(n=e),e=>{if(!(e instanceof En))throw new Error("repeat can only be used in text bindings");const i=Xn.get(e)||[],r=Zn.get(e)||[],o=[],a=[],l=[];let c,u,h=0;for(const e of t)l[h]=n?n(e,h):h,a[h]=s(e,h),h++;let d=0,f=i.length-1,p=0,g=a.length-1;for(;d<=f&&p<=g;)if(null===i[d])d++;else if(null===i[f])f--;else if(r[d]===l[p])o[p]=Yn(i[d],a[p]),d++,p++;else if(r[f]===l[g])o[g]=Yn(i[f],a[g]),f--,g--;else if(r[d]===l[g])o[g]=Yn(i[d],a[g]),Jn(e,i[d],o[g+1]),d++,g--;else if(r[f]===l[p])o[p]=Yn(i[f],a[p]),Jn(e,i[f],i[d]),f--,p++;else if(void 0===c&&(c=Qn(l,p,g),u=Qn(r,d,f)),c.has(r[d]))if(c.has(r[f])){const t=u.get(l[p]),s=void 0!==t?i[t]:null;if(null===s){const t=zn(e,i[d]);Yn(t,a[p]),o[p]=t}else o[p]=Yn(s,a[p]),Jn(e,s,i[d]),i[t]=null;p++}else Gn(i[f]),f--;else Gn(i[d]),d++;for(;p<=g;){const t=zn(e,o[g+1]);Yn(t,a[p]),o[p++]=t}for(;d<=f;){const t=i[d++];null!==t&&Gn(t)}Xn.set(e,o),Zn.set(e,l)}})),ei=new WeakMap,si=Js((t=>e=>{if(!(e instanceof _n)||e instanceof On||"style"!==e.committer.name||e.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:s}=e,{style:n}=s.element;let i=ei.get(e);void 0===i&&(n.cssText=s.strings.join(" "),ei.set(e,i=new Set)),i.forEach((e=>{e in t||(i.delete(e),-1===e.indexOf("-")?n[e]=null:n.removeProperty(e))}));for(const e in t)i.add(e),-1===e.indexOf("-")?n[e]=t[e]:n.setProperty(e,t[e])})),ni=new WeakMap,ii=Js((t=>e=>{if(!(e instanceof En))throw new Error("unsafeHTML can only be used in text bindings");const s=ni.get(e);if(void 0!==s&&yn(t)&&t===s.value&&e.value===s.fragment)return;const n=document.createElement("template");n.innerHTML=t;const i=document.importNode(n.content,!0);e.setValue(i),ni.set(e,{value:t,fragment:i})})),ri=new WeakMap,oi=2147483647,ai=Js(((...t)=>e=>{let s=ri.get(e);void 0===s&&(s={lastRenderedIndex:oi,values:[]},ri.set(e,s));const n=s.values;let i=n.length;s.values=t;for(let r=0;r<t.length&&!(r>s.lastRenderedIndex);r++){const o=t[r];if(yn(o)||"function"!=typeof o.then){e.setValue(o),s.lastRenderedIndex=r;break}r<i&&o===n[r]||(s.lastRenderedIndex=oi,i=0,Promise.resolve(o).then((t=>{const n=s.values.indexOf(o);n>-1&&n<s.lastRenderedIndex&&(s.lastRenderedIndex=n,e.setValue(t),e.commit())})))}})),li={asyncAppend:Vn,asyncReplace:Mn,cache:jn,classMap:qn,guard:Kn,ifDefined:Bn,repeat:ti,styleMap:si,unsafeHTML:ii,until:ai},ci=t=>e=>ui(e,t);function ui(t,e){const s=[],n=[];let i=t,r=i.indexOf(e.delimiter.start);for(;r>=0;){if(i.indexOf(e.delimiter.end,r)<0)throw new Error(`missing end delimiter at: '${i}'`);s.push(i.substring(0,r));const t=hi(i.substring(r+e.delimiter.start.length),e);if(t.insertionPoint)i=t.remainingTmplStr,n.push(t.insertionPoint),r=i.indexOf(e.delimiter.start);else{const n=s.pop();i=n+t.remainingTmplStr,r=i.indexOf(e.delimiter.start,n.length)}}return s.push(i),t=>e.html(s,...n.map((e=>e(t))))}function hi(t,e){const s=Object.values(e.transformers).find((s=>s.test(t,e))),n=s?s.transform:e.transformVariable;return n(t,e)}function di(t,e){if("."===e)return t;let s=t;for(let t of e.split(".")){if(!s.hasOwnProperty(t))return"";s=s[t]}return s}function fi(t,e){return function s(t){return null==t?"":""+t}(di(t,e))}const pi=(t,{delimiter:e})=>{const s=t.indexOf(e.end),n=t.substring(0,s);return{remainingTmplStr:t.substring(s+e.end.length),insertionPoint:t=>fi(t,n)}},gi=t=>({test:t=>"{"===t[0],transform:(e,{delimiter:s})=>{const n=e.indexOf("}"+s.end);if(n<0)throw new Error(`missing end delimiter at: '${s.start}${e}'`);const i=e.substring(1,n);return{remainingTmplStr:e.substring(n+1+s.end.length),insertionPoint:e=>t(fi(e,i))}}});function mi(t){return[null,void 0,!1,0,NaN,""].some((e=>e===t))||t.length&&0===t.length}function yi(t,e){const s=t.indexOf(e.end),n=t.substring(1,s),i=`${e.start}/${n}${e.end}`,r=t.indexOf(i);if(r<0)throw new Error(`missing end delimiter at: '${e.start}${t}'`);return{dataKey:n,innerTmpl:t.substring(s+e.start.length,r),remainingTmplStr:t.substring(r+i.length)}}const bi=()=>({test:t=>"#"===t[0],transform:(t,e)=>{const s=yi(t,e.delimiter),n=ui(s.innerTmpl,e);return{remainingTmplStr:s.remainingTmplStr,insertionPoint:t=>{const e=di(t,s.dataKey);return mi(e)?"":e.map?e.map((t=>n(t))):n(t)}}}}),vi=()=>({test:t=>"^"===t[0],transform:(t,{delimiter:e})=>{const s=yi(t,e);return{remainingTmplStr:s.remainingTmplStr,insertionPoint:t=>mi(di(t,s.dataKey))?s.innerTmpl:""}}}),_i=()=>({test:t=>"!"===t[0],transform:(t,{delimiter:e})=>({remainingTmplStr:t.substring(t.indexOf(e.end)+e.end.length),insertionPoint:void 0})}),Ei=()=>({test:t=>"="===t[0],transform:(t,e)=>{const s=e.delimiter.end.length,n=t.indexOf("="+e.delimiter.end);if(n<0)throw new Error(`missing end delimiter at: '${t}'`);const[i,r]=t.substring(1,n).split(" ");return e.delimiter.start=i,e.delimiter.end=r,{remainingTmplStr:t.substring(n+1+s),insertionPoint:void 0}}});function wi(t,e){return"function"==typeof t?((t,e)=>ci({html:t,delimiter:{start:"{{",end:"}}"},transformVariable:pi,transformers:{unsafeVariable:gi(e),section:bi(),invertedSection:vi(),comment:{test:t=>"!"===t[0],transform:(t,{delimiter:e})=>({remainingTmplStr:t.substring(t.indexOf(e.end)+e.end.length),insertionPoint:void 0})},customDelimiterTransformer:Ei()}}))(t,e):ci(Object.assign({delimiter:{start:"{{",end:"}}"},transformers:{}},t))}const xi={variable:pi,unsafeVariable:gi,section:bi,invertedSection:vi,comment:_i,customDelimiter:Ei},Oi=wi(Dn,li.unsafeHTML);class Si{static compile(t,e){const{transformer:s}=Object.assign({transformer:Si._transformer},e),n=s(t),i=t=>n(t);return i.source=t,i}static setTransformer(t){const e=Si._transformer;return Si._transformer=t,e}}Si._transformer=Oi;const Ri=e.safe(globalThis.document);let Ci={},Li={};!function(){let t=CDP_DECLARE.RESULT_CODE;t[t.MVC_ROUTER_DECLARE=9007199254740991]="MVC_ROUTER_DECLARE",void(t[t.ERROR_MVC_ROUTER_ERROR=CDP_DECLARE.DECLARE_ERROR_CODE(100,76,"router error.")]="ERROR_MVC_ROUTER_ERROR")}();Object.defineProperty(t,"TemplateEngine",{enumerable:!0,get:function(){return e.TemplateEngine}}),t.ArrayCursor=class Ni{constructor(t,e=0){this._array=t,this._index=e,this.valid()?this._bof=this._eof=!1:(this._index=-1,this._bof=!0,this._eof=!1)}reset(t=[],e=-1){return this._array=t,this._index=e,this.valid()?this._bof=this._eof=!1:(this._index=-1,this._bof=!0,this._eof=!1),this}get current(){return this._array[this._index]}get index(){return this._index}get length(){return this._array.length}get isBOF(){return this._bof}get isEOF(){return this._eof}get array(){return this._array}moveFirst(){return this._index=0,this._bof=this._eof=!1,this.valid()||(this._index=-1,this._bof=!0),this}moveLast(){return this._index=this._array.length-1,this._bof=this._eof=!1,this.valid()||(this._eof=!0),this}moveNext(){return this._bof?(this._bof=!1,this._index=0):this._index++,this.valid()||(this._index=-1,this._eof=!0),this}movePrevious(){return this._eof?(this._eof=!1,this._index=this.length-1):this._index--,this.valid()||(this._index=-1,this._bof=!0),this}seek(t){return this._index="number"==typeof t?t:this._array.findIndex(t),this.valid()||(this._index=-1,this._bof=!1,this._eof=!0),this}valid(){return 0<=this._index&&this._index<this._array.length}},t.Collection=Fs,t.DynamicCondition=ys,t.Model=je,t.RESULT_VALID_ATTRS=$e,t.STATUS="TODO",t.SVGTemplateResult=mn,t.TemplateBridge=Si,t.TemplateResult=gn,t.View=zs,t.WebStorage=be,t.appendArray=es,t.appendCollection=async function Ai(t,e,s){const n=t.length,i=await Us(t,s,((t,s)=>es(t,e,s)));return Ws("add",i,n,t.length-1,n)},t.changeLanguage=(t,s)=>{const n=Object.assign({noThrow:!0},s);return new Promise(((s,i)=>{void de.changeLanguage(t,((t,r)=>{if(t){const s=e.makeResult(e.RESULT_CODE.ERROR_I18N_CORE_LAYER,"i18n#changeLanguate() failed.",t);if(!n.noThrow)return i(s);void 0}s(r)}))}))},t.clearArray=ts,t.clearCollection=async function ki(t,e){const s=t.length-1,n=await Us(t,e,((t,e)=>ts(t,e)));return Ws("remove",n,0,s)},t.clearTemplateCache=function Ti(){Ci={},Li={}},t.conditionalFix=Es,t.convertSortKeys=Je,t.createStorageDataSync=Le,t.createTransformFactory=wi,t.dataSyncNULL=_e,t.dataSyncREST=Oe,t.dataSyncSTORAGE=Ne,t.defaultCollatorProvider=function Di(t){if(null==t)return qe;{const e=qe;return qe=t,e}},t.defaultSync=ke,t.directive=Js,t.directives=li,t.dom=h,t.getBooleanComparator=Be,t.getDateComparator=Ke,t.getGenericComparator=He,t.getLanguage=ye,t.getLanguageList=()=>de.languages||[fe.language],t.getNumberComparator=ze,t.getStringComparator=We,t.getTemplate=async function Pi(t,n){const{type:i,url:r,cache:o}=Object.assign({type:"engine",cache:!0},n),a=await async function l(t,e){if(!t)return null;if(Ci[t])return Ci[t];{const n=await s.request.text(t),i=Ri.createElement("template");i.innerHTML=n;const r=i.content.firstElementChild;return e&&r&&(Ci[t]=r),r}}(r,o),c=function u(t,e,s){const n=`${t}${e?`::${e.innerHTML.replace(/\s/gm,"")}`:""}`;if(Li[n])return Li[n];const i=e||Ri,r=i.querySelector(t),o=r?.innerHTML;return s&&o&&(Li[n]=o),o}(t,a,o);if(!c)throw new URIError(`cannot specified template resource. { selector: ${t},  url: ${r} }`);switch(i){case"engine":return e.TemplateEngine.compile(c);case"bridge":return Si.compile(c);default:throw new TypeError(`[type: ${i}] is unknown.`)}},t.getWebDirectory=At,t.html=Dn,t.i18n=de,t.idAttribute=Ue,t.initializeI18N=t=>{const s=Object.assign({noThrow:!0},t),{namespace:n,resourcePath:i,dom:r,noThrow:o}=s;return s.lng||(s.lng=fe.language),n&&(!s.ns&&(s.ns=n),!s.defaultNS&&(s.defaultNS=n)),i&&(s.backend=Object.assign({loadPath:i},s.backend)),s.backend&&de.use(pe),de.use(function a(t){return{type:"3rdParty",init:ge.bind(null,Object.assign({selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0,customTagName:"cdp-i18n"},t))}}(r)),new Promise(((t,n)=>{void de.init(s,((s,i)=>{if(s){const t=e.makeResult(e.RESULT_CODE.ERROR_I18N_CORE_LAYER,"i18n#init() failed.",s);if(!o)return n(t);void 0}t(i)}))}))},t.insertArray=ss,t.insertCollection=async function Vi(t,e,s,n){const i=await Us(t,n,((t,n)=>ss(t,e,s,n)));return Ws("add",i,e,t.length-1,e)},t.isDOMClass=Ot,t.isModel=Fe,t.localize=(t,e)=>h(t).localize(e),t.parts=Tn,t.platform=Vt,t.queryItems=Os,t.queryPlatform=Pt,t.removeArray=is,t.removeCollection=async function Ii(t,e,s){const n=qs(e),i=t.length-1,r=await Us(t,s,((t,s)=>is(t,e,s)));return Ws("remove",r,n,i)},t.render=(t,e,s)=>{let n=Tn.get(e);void 0===n&&(Zs(e,e.firstChild),Tn.set(e,n=new En(Object.assign({templateFactory:An},s))),n.appendInto(e)),n.setValue(t),n.commit()},t.reorderArray=ns,t.reorderCollection=async function Mi(t,e,s,n){const i=qs([e,...s]),r=await Us(t,n,((t,n)=>ns(t,e,s,n)));return Ws("reorder",r,i,t.length-1,e)},t.searchItems=vs,t.svg=(t,...e)=>new mn(t,e,"svg",Ln),t.t=me,t.toComparator=Ye,t.toTemplateStringsArray=t=>{const e=[t];return e.raw=[t],e},t.toUrl=Tt,t.transformer=xi,t.webRoot=kt,t.webStorage=ve,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=lib-web.min.map